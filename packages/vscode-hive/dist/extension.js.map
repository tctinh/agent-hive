{
  "version": 3,
  "sources": ["../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/types.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/core/serverSentEvents.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/core/auth.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/core/bodySerializer.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/core/pathSerializer.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/core/utils.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/client/utils.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/client/client.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/core/params.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/client/index.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/client.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/gen/sdk.gen.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/client.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/server.js", "../../../../../../../node_modules/@opencode-ai/sdk/dist/index.js", "../../../../../../../node_modules/ms/index.js", "../../../../../../../node_modules/debug/src/common.js", "../../../../../../../node_modules/debug/src/browser.js", "../../../../../../../../node_modules/has-flag/index.js", "../../../../../../../../node_modules/supports-color/index.js", "../../../../../../../node_modules/debug/src/node.js", "../../../../../../../node_modules/debug/src/index.js", "../../../../../../../node_modules/@kwsites/file-exists/src/index.ts", "../../../../../../../node_modules/@kwsites/file-exists/index.ts", "../../../../../../../node_modules/@kwsites/promise-deferred/src/index.ts", "../src/extension.ts", "../src/services/hiveService.ts", "../src/services/watcher.ts", "../src/services/launcher.ts", "../src/services/checkpointService.ts", "../../../../../../../node_modules/simple-git/src/lib/args/pathspec.ts", "../../../../../../../node_modules/simple-git/src/lib/errors/git-error.ts", "../../../../../../../node_modules/simple-git/src/lib/errors/git-response-error.ts", "../../../../../../../node_modules/simple-git/src/lib/errors/task-configuration-error.ts", "../../../../../../../node_modules/simple-git/src/lib/utils/util.ts", "../../../../../../../node_modules/simple-git/src/lib/utils/argument-filters.ts", "../../../../../../../node_modules/simple-git/src/lib/utils/exit-codes.ts", "../../../../../../../node_modules/simple-git/src/lib/utils/git-output-streams.ts", "../../../../../../../node_modules/simple-git/src/lib/utils/line-parser.ts", "../../../../../../../node_modules/simple-git/src/lib/utils/simple-git-options.ts", "../../../../../../../node_modules/simple-git/src/lib/utils/task-options.ts", "../../../../../../../node_modules/simple-git/src/lib/utils/task-parser.ts", "../../../../../../../node_modules/simple-git/src/lib/utils/index.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/check-is-repo.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/CleanSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/task.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/clean.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/ConfigList.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/config.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/diff-name-status.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/grep.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/reset.ts", "../../../../../../../node_modules/simple-git/src/lib/git-logger.ts", "../../../../../../../node_modules/simple-git/src/lib/runners/tasks-pending-queue.ts", "../../../../../../../node_modules/simple-git/src/lib/runners/git-executor-chain.ts", "../../../../../../../node_modules/simple-git/src/lib/runners/git-executor.ts", "../../../../../../../node_modules/simple-git/src/lib/task-callback.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/change-working-directory.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/checkout.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/count-objects.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-commit.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/commit.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/first-commit.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/hash-object.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/InitSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/init.ts", "../../../../../../../node_modules/simple-git/src/lib/args/log-format.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/DiffSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-diff-summary.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-list-log-summary.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/diff.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/log.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/MergeSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/PullSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-remote-objects.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-remote-messages.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-pull.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-merge.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/merge.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-push.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/push.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/show.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/FileStatusSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/StatusSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/status.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/version.ts", "../../../../../../../node_modules/simple-git/src/lib/simple-git-api.ts", "../../../../../../../node_modules/simple-git/src/lib/runners/scheduler.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/apply-patch.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/BranchDeleteSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-branch-delete.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/BranchSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-branch.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/branch.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/CheckIgnore.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/check-ignore.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/clone.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-fetch.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/fetch.ts", "../../../../../../../node_modules/simple-git/src/lib/parsers/parse-move.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/move.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/pull.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/GetRemoteSummary.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/remote.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/stash-list.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/sub-module.ts", "../../../../../../../node_modules/simple-git/src/lib/responses/TagList.ts", "../../../../../../../node_modules/simple-git/src/lib/tasks/tag.ts", "../../../../../../../node_modules/simple-git/src/git.js", "../../../../../../../node_modules/simple-git/src/lib/api.ts", "../../../../../../../node_modules/simple-git/src/lib/errors/git-construct-error.ts", "../../../../../../../node_modules/simple-git/src/lib/errors/git-plugin-error.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/abort-plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/block-unsafe-operations-plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/command-config-prefixing-plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/completion-detection.plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/custom-binary.plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/error-detection.plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/plugin-store.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/progress-monitor-plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/spawn-options-plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/timout-plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/plugins/suffix-paths.plugin.ts", "../../../../../../../node_modules/simple-git/src/lib/git-factory.ts", "../../../../../../../node_modules/simple-git/src/lib/runners/promise-wrapped.ts", "../../../../../../../node_modules/simple-git/src/esm.mjs", "../src/providers/sidebarProvider.ts", "../src/providers/panelProvider.ts", "../src/providers/reportViewProvider.ts", "../src/commands/viewDiff.ts"],
  "sourcesContent": ["// This file is auto-generated by @hey-api/openapi-ts\nexport {};\n", "// This file is auto-generated by @hey-api/openapi-ts\nexport const createSseClient = ({ onSseError, onSseEvent, responseTransformer, responseValidator, sseDefaultRetryDelay, sseMaxRetryAttempts, sseMaxRetryDelay, sseSleepFn, url, ...options }) => {\n    let lastEventId;\n    const sleep = sseSleepFn ?? ((ms) => new Promise((resolve) => setTimeout(resolve, ms)));\n    const createStream = async function* () {\n        let retryDelay = sseDefaultRetryDelay ?? 3000;\n        let attempt = 0;\n        const signal = options.signal ?? new AbortController().signal;\n        while (true) {\n            if (signal.aborted)\n                break;\n            attempt++;\n            const headers = options.headers instanceof Headers\n                ? options.headers\n                : new Headers(options.headers);\n            if (lastEventId !== undefined) {\n                headers.set(\"Last-Event-ID\", lastEventId);\n            }\n            try {\n                const response = await fetch(url, { ...options, headers, signal });\n                if (!response.ok)\n                    throw new Error(`SSE failed: ${response.status} ${response.statusText}`);\n                if (!response.body)\n                    throw new Error(\"No body in SSE response\");\n                const reader = response.body.pipeThrough(new TextDecoderStream()).getReader();\n                let buffer = \"\";\n                const abortHandler = () => {\n                    try {\n                        reader.cancel();\n                    }\n                    catch {\n                        // noop\n                    }\n                };\n                signal.addEventListener(\"abort\", abortHandler);\n                try {\n                    while (true) {\n                        const { done, value } = await reader.read();\n                        if (done)\n                            break;\n                        buffer += value;\n                        const chunks = buffer.split(\"\\n\\n\");\n                        buffer = chunks.pop() ?? \"\";\n                        for (const chunk of chunks) {\n                            const lines = chunk.split(\"\\n\");\n                            const dataLines = [];\n                            let eventName;\n                            for (const line of lines) {\n                                if (line.startsWith(\"data:\")) {\n                                    dataLines.push(line.replace(/^data:\\s*/, \"\"));\n                                }\n                                else if (line.startsWith(\"event:\")) {\n                                    eventName = line.replace(/^event:\\s*/, \"\");\n                                }\n                                else if (line.startsWith(\"id:\")) {\n                                    lastEventId = line.replace(/^id:\\s*/, \"\");\n                                }\n                                else if (line.startsWith(\"retry:\")) {\n                                    const parsed = Number.parseInt(line.replace(/^retry:\\s*/, \"\"), 10);\n                                    if (!Number.isNaN(parsed)) {\n                                        retryDelay = parsed;\n                                    }\n                                }\n                            }\n                            let data;\n                            let parsedJson = false;\n                            if (dataLines.length) {\n                                const rawData = dataLines.join(\"\\n\");\n                                try {\n                                    data = JSON.parse(rawData);\n                                    parsedJson = true;\n                                }\n                                catch {\n                                    data = rawData;\n                                }\n                            }\n                            if (parsedJson) {\n                                if (responseValidator) {\n                                    await responseValidator(data);\n                                }\n                                if (responseTransformer) {\n                                    data = await responseTransformer(data);\n                                }\n                            }\n                            onSseEvent?.({\n                                data,\n                                event: eventName,\n                                id: lastEventId,\n                                retry: retryDelay,\n                            });\n                            if (dataLines.length) {\n                                yield data;\n                            }\n                        }\n                    }\n                }\n                finally {\n                    signal.removeEventListener(\"abort\", abortHandler);\n                    reader.releaseLock();\n                }\n                break; // exit loop on normal completion\n            }\n            catch (error) {\n                // connection failed or aborted; retry after delay\n                onSseError?.(error);\n                if (sseMaxRetryAttempts !== undefined && attempt >= sseMaxRetryAttempts) {\n                    break; // stop after firing error\n                }\n                // exponential backoff: double retry each attempt, cap at 30s\n                const backoff = Math.min(retryDelay * 2 ** (attempt - 1), sseMaxRetryDelay ?? 30000);\n                await sleep(backoff);\n            }\n        }\n    };\n    const stream = createStream();\n    return { stream };\n};\n", "// This file is auto-generated by @hey-api/openapi-ts\nexport const getAuthToken = async (auth, callback) => {\n    const token = typeof callback === \"function\" ? await callback(auth) : callback;\n    if (!token) {\n        return;\n    }\n    if (auth.scheme === \"bearer\") {\n        return `Bearer ${token}`;\n    }\n    if (auth.scheme === \"basic\") {\n        return `Basic ${btoa(token)}`;\n    }\n    return token;\n};\n", "// This file is auto-generated by @hey-api/openapi-ts\nconst serializeFormDataPair = (data, key, value) => {\n    if (typeof value === \"string\" || value instanceof Blob) {\n        data.append(key, value);\n    }\n    else if (value instanceof Date) {\n        data.append(key, value.toISOString());\n    }\n    else {\n        data.append(key, JSON.stringify(value));\n    }\n};\nconst serializeUrlSearchParamsPair = (data, key, value) => {\n    if (typeof value === \"string\") {\n        data.append(key, value);\n    }\n    else {\n        data.append(key, JSON.stringify(value));\n    }\n};\nexport const formDataBodySerializer = {\n    bodySerializer: (body) => {\n        const data = new FormData();\n        Object.entries(body).forEach(([key, value]) => {\n            if (value === undefined || value === null) {\n                return;\n            }\n            if (Array.isArray(value)) {\n                value.forEach((v) => serializeFormDataPair(data, key, v));\n            }\n            else {\n                serializeFormDataPair(data, key, value);\n            }\n        });\n        return data;\n    },\n};\nexport const jsonBodySerializer = {\n    bodySerializer: (body) => JSON.stringify(body, (_key, value) => (typeof value === \"bigint\" ? value.toString() : value)),\n};\nexport const urlSearchParamsBodySerializer = {\n    bodySerializer: (body) => {\n        const data = new URLSearchParams();\n        Object.entries(body).forEach(([key, value]) => {\n            if (value === undefined || value === null) {\n                return;\n            }\n            if (Array.isArray(value)) {\n                value.forEach((v) => serializeUrlSearchParamsPair(data, key, v));\n            }\n            else {\n                serializeUrlSearchParamsPair(data, key, value);\n            }\n        });\n        return data.toString();\n    },\n};\n", "// This file is auto-generated by @hey-api/openapi-ts\nexport const separatorArrayExplode = (style) => {\n    switch (style) {\n        case \"label\":\n            return \".\";\n        case \"matrix\":\n            return \";\";\n        case \"simple\":\n            return \",\";\n        default:\n            return \"&\";\n    }\n};\nexport const separatorArrayNoExplode = (style) => {\n    switch (style) {\n        case \"form\":\n            return \",\";\n        case \"pipeDelimited\":\n            return \"|\";\n        case \"spaceDelimited\":\n            return \"%20\";\n        default:\n            return \",\";\n    }\n};\nexport const separatorObjectExplode = (style) => {\n    switch (style) {\n        case \"label\":\n            return \".\";\n        case \"matrix\":\n            return \";\";\n        case \"simple\":\n            return \",\";\n        default:\n            return \"&\";\n    }\n};\nexport const serializeArrayParam = ({ allowReserved, explode, name, style, value, }) => {\n    if (!explode) {\n        const joinedValues = (allowReserved ? value : value.map((v) => encodeURIComponent(v))).join(separatorArrayNoExplode(style));\n        switch (style) {\n            case \"label\":\n                return `.${joinedValues}`;\n            case \"matrix\":\n                return `;${name}=${joinedValues}`;\n            case \"simple\":\n                return joinedValues;\n            default:\n                return `${name}=${joinedValues}`;\n        }\n    }\n    const separator = separatorArrayExplode(style);\n    const joinedValues = value\n        .map((v) => {\n        if (style === \"label\" || style === \"simple\") {\n            return allowReserved ? v : encodeURIComponent(v);\n        }\n        return serializePrimitiveParam({\n            allowReserved,\n            name,\n            value: v,\n        });\n    })\n        .join(separator);\n    return style === \"label\" || style === \"matrix\" ? separator + joinedValues : joinedValues;\n};\nexport const serializePrimitiveParam = ({ allowReserved, name, value }) => {\n    if (value === undefined || value === null) {\n        return \"\";\n    }\n    if (typeof value === \"object\") {\n        throw new Error(\"Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.\");\n    }\n    return `${name}=${allowReserved ? value : encodeURIComponent(value)}`;\n};\nexport const serializeObjectParam = ({ allowReserved, explode, name, style, value, valueOnly, }) => {\n    if (value instanceof Date) {\n        return valueOnly ? value.toISOString() : `${name}=${value.toISOString()}`;\n    }\n    if (style !== \"deepObject\" && !explode) {\n        let values = [];\n        Object.entries(value).forEach(([key, v]) => {\n            values = [...values, key, allowReserved ? v : encodeURIComponent(v)];\n        });\n        const joinedValues = values.join(\",\");\n        switch (style) {\n            case \"form\":\n                return `${name}=${joinedValues}`;\n            case \"label\":\n                return `.${joinedValues}`;\n            case \"matrix\":\n                return `;${name}=${joinedValues}`;\n            default:\n                return joinedValues;\n        }\n    }\n    const separator = separatorObjectExplode(style);\n    const joinedValues = Object.entries(value)\n        .map(([key, v]) => serializePrimitiveParam({\n        allowReserved,\n        name: style === \"deepObject\" ? `${name}[${key}]` : key,\n        value: v,\n    }))\n        .join(separator);\n    return style === \"label\" || style === \"matrix\" ? separator + joinedValues : joinedValues;\n};\n", "// This file is auto-generated by @hey-api/openapi-ts\nimport { serializeArrayParam, serializeObjectParam, serializePrimitiveParam, } from \"./pathSerializer.gen.js\";\nexport const PATH_PARAM_RE = /\\{[^{}]+\\}/g;\nexport const defaultPathSerializer = ({ path, url: _url }) => {\n    let url = _url;\n    const matches = _url.match(PATH_PARAM_RE);\n    if (matches) {\n        for (const match of matches) {\n            let explode = false;\n            let name = match.substring(1, match.length - 1);\n            let style = \"simple\";\n            if (name.endsWith(\"*\")) {\n                explode = true;\n                name = name.substring(0, name.length - 1);\n            }\n            if (name.startsWith(\".\")) {\n                name = name.substring(1);\n                style = \"label\";\n            }\n            else if (name.startsWith(\";\")) {\n                name = name.substring(1);\n                style = \"matrix\";\n            }\n            const value = path[name];\n            if (value === undefined || value === null) {\n                continue;\n            }\n            if (Array.isArray(value)) {\n                url = url.replace(match, serializeArrayParam({ explode, name, style, value }));\n                continue;\n            }\n            if (typeof value === \"object\") {\n                url = url.replace(match, serializeObjectParam({\n                    explode,\n                    name,\n                    style,\n                    value: value,\n                    valueOnly: true,\n                }));\n                continue;\n            }\n            if (style === \"matrix\") {\n                url = url.replace(match, `;${serializePrimitiveParam({\n                    name,\n                    value: value,\n                })}`);\n                continue;\n            }\n            const replaceValue = encodeURIComponent(style === \"label\" ? `.${value}` : value);\n            url = url.replace(match, replaceValue);\n        }\n    }\n    return url;\n};\nexport const getUrl = ({ baseUrl, path, query, querySerializer, url: _url, }) => {\n    const pathUrl = _url.startsWith(\"/\") ? _url : `/${_url}`;\n    let url = (baseUrl ?? \"\") + pathUrl;\n    if (path) {\n        url = defaultPathSerializer({ path, url });\n    }\n    let search = query ? querySerializer(query) : \"\";\n    if (search.startsWith(\"?\")) {\n        search = search.substring(1);\n    }\n    if (search) {\n        url += `?${search}`;\n    }\n    return url;\n};\n", "// This file is auto-generated by @hey-api/openapi-ts\nimport { getAuthToken } from \"../core/auth.gen.js\";\nimport { jsonBodySerializer } from \"../core/bodySerializer.gen.js\";\nimport { serializeArrayParam, serializeObjectParam, serializePrimitiveParam } from \"../core/pathSerializer.gen.js\";\nimport { getUrl } from \"../core/utils.gen.js\";\nexport const createQuerySerializer = ({ allowReserved, array, object } = {}) => {\n    const querySerializer = (queryParams) => {\n        const search = [];\n        if (queryParams && typeof queryParams === \"object\") {\n            for (const name in queryParams) {\n                const value = queryParams[name];\n                if (value === undefined || value === null) {\n                    continue;\n                }\n                if (Array.isArray(value)) {\n                    const serializedArray = serializeArrayParam({\n                        allowReserved,\n                        explode: true,\n                        name,\n                        style: \"form\",\n                        value,\n                        ...array,\n                    });\n                    if (serializedArray)\n                        search.push(serializedArray);\n                }\n                else if (typeof value === \"object\") {\n                    const serializedObject = serializeObjectParam({\n                        allowReserved,\n                        explode: true,\n                        name,\n                        style: \"deepObject\",\n                        value: value,\n                        ...object,\n                    });\n                    if (serializedObject)\n                        search.push(serializedObject);\n                }\n                else {\n                    const serializedPrimitive = serializePrimitiveParam({\n                        allowReserved,\n                        name,\n                        value: value,\n                    });\n                    if (serializedPrimitive)\n                        search.push(serializedPrimitive);\n                }\n            }\n        }\n        return search.join(\"&\");\n    };\n    return querySerializer;\n};\n/**\n * Infers parseAs value from provided Content-Type header.\n */\nexport const getParseAs = (contentType) => {\n    if (!contentType) {\n        // If no Content-Type header is provided, the best we can do is return the raw response body,\n        // which is effectively the same as the 'stream' option.\n        return \"stream\";\n    }\n    const cleanContent = contentType.split(\";\")[0]?.trim();\n    if (!cleanContent) {\n        return;\n    }\n    if (cleanContent.startsWith(\"application/json\") || cleanContent.endsWith(\"+json\")) {\n        return \"json\";\n    }\n    if (cleanContent === \"multipart/form-data\") {\n        return \"formData\";\n    }\n    if ([\"application/\", \"audio/\", \"image/\", \"video/\"].some((type) => cleanContent.startsWith(type))) {\n        return \"blob\";\n    }\n    if (cleanContent.startsWith(\"text/\")) {\n        return \"text\";\n    }\n    return;\n};\nconst checkForExistence = (options, name) => {\n    if (!name) {\n        return false;\n    }\n    if (options.headers.has(name) || options.query?.[name] || options.headers.get(\"Cookie\")?.includes(`${name}=`)) {\n        return true;\n    }\n    return false;\n};\nexport const setAuthParams = async ({ security, ...options }) => {\n    for (const auth of security) {\n        if (checkForExistence(options, auth.name)) {\n            continue;\n        }\n        const token = await getAuthToken(auth, options.auth);\n        if (!token) {\n            continue;\n        }\n        const name = auth.name ?? \"Authorization\";\n        switch (auth.in) {\n            case \"query\":\n                if (!options.query) {\n                    options.query = {};\n                }\n                options.query[name] = token;\n                break;\n            case \"cookie\":\n                options.headers.append(\"Cookie\", `${name}=${token}`);\n                break;\n            case \"header\":\n            default:\n                options.headers.set(name, token);\n                break;\n        }\n    }\n};\nexport const buildUrl = (options) => getUrl({\n    baseUrl: options.baseUrl,\n    path: options.path,\n    query: options.query,\n    querySerializer: typeof options.querySerializer === \"function\"\n        ? options.querySerializer\n        : createQuerySerializer(options.querySerializer),\n    url: options.url,\n});\nexport const mergeConfigs = (a, b) => {\n    const config = { ...a, ...b };\n    if (config.baseUrl?.endsWith(\"/\")) {\n        config.baseUrl = config.baseUrl.substring(0, config.baseUrl.length - 1);\n    }\n    config.headers = mergeHeaders(a.headers, b.headers);\n    return config;\n};\nexport const mergeHeaders = (...headers) => {\n    const mergedHeaders = new Headers();\n    for (const header of headers) {\n        if (!header || typeof header !== \"object\") {\n            continue;\n        }\n        const iterator = header instanceof Headers ? header.entries() : Object.entries(header);\n        for (const [key, value] of iterator) {\n            if (value === null) {\n                mergedHeaders.delete(key);\n            }\n            else if (Array.isArray(value)) {\n                for (const v of value) {\n                    mergedHeaders.append(key, v);\n                }\n            }\n            else if (value !== undefined) {\n                // assume object headers are meant to be JSON stringified, i.e. their\n                // content value in OpenAPI specification is 'application/json'\n                mergedHeaders.set(key, typeof value === \"object\" ? JSON.stringify(value) : value);\n            }\n        }\n    }\n    return mergedHeaders;\n};\nclass Interceptors {\n    _fns;\n    constructor() {\n        this._fns = [];\n    }\n    clear() {\n        this._fns = [];\n    }\n    getInterceptorIndex(id) {\n        if (typeof id === \"number\") {\n            return this._fns[id] ? id : -1;\n        }\n        else {\n            return this._fns.indexOf(id);\n        }\n    }\n    exists(id) {\n        const index = this.getInterceptorIndex(id);\n        return !!this._fns[index];\n    }\n    eject(id) {\n        const index = this.getInterceptorIndex(id);\n        if (this._fns[index]) {\n            this._fns[index] = null;\n        }\n    }\n    update(id, fn) {\n        const index = this.getInterceptorIndex(id);\n        if (this._fns[index]) {\n            this._fns[index] = fn;\n            return id;\n        }\n        else {\n            return false;\n        }\n    }\n    use(fn) {\n        this._fns = [...this._fns, fn];\n        return this._fns.length - 1;\n    }\n}\n// do not add `Middleware` as return type so we can use _fns internally\nexport const createInterceptors = () => ({\n    error: new Interceptors(),\n    request: new Interceptors(),\n    response: new Interceptors(),\n});\nconst defaultQuerySerializer = createQuerySerializer({\n    allowReserved: false,\n    array: {\n        explode: true,\n        style: \"form\",\n    },\n    object: {\n        explode: true,\n        style: \"deepObject\",\n    },\n});\nconst defaultHeaders = {\n    \"Content-Type\": \"application/json\",\n};\nexport const createConfig = (override = {}) => ({\n    ...jsonBodySerializer,\n    headers: defaultHeaders,\n    parseAs: \"auto\",\n    querySerializer: defaultQuerySerializer,\n    ...override,\n});\n", "// This file is auto-generated by @hey-api/openapi-ts\nimport { createSseClient } from \"../core/serverSentEvents.gen.js\";\nimport { buildUrl, createConfig, createInterceptors, getParseAs, mergeConfigs, mergeHeaders, setAuthParams, } from \"./utils.gen.js\";\nexport const createClient = (config = {}) => {\n    let _config = mergeConfigs(createConfig(), config);\n    const getConfig = () => ({ ..._config });\n    const setConfig = (config) => {\n        _config = mergeConfigs(_config, config);\n        return getConfig();\n    };\n    const interceptors = createInterceptors();\n    const beforeRequest = async (options) => {\n        const opts = {\n            ..._config,\n            ...options,\n            fetch: options.fetch ?? _config.fetch ?? globalThis.fetch,\n            headers: mergeHeaders(_config.headers, options.headers),\n            serializedBody: undefined,\n        };\n        if (opts.security) {\n            await setAuthParams({\n                ...opts,\n                security: opts.security,\n            });\n        }\n        if (opts.requestValidator) {\n            await opts.requestValidator(opts);\n        }\n        if (opts.body && opts.bodySerializer) {\n            opts.serializedBody = opts.bodySerializer(opts.body);\n        }\n        // remove Content-Type header if body is empty to avoid sending invalid requests\n        if (opts.serializedBody === undefined || opts.serializedBody === \"\") {\n            opts.headers.delete(\"Content-Type\");\n        }\n        const url = buildUrl(opts);\n        return { opts, url };\n    };\n    const request = async (options) => {\n        // @ts-expect-error\n        const { opts, url } = await beforeRequest(options);\n        const requestInit = {\n            redirect: \"follow\",\n            ...opts,\n            body: opts.serializedBody,\n        };\n        let request = new Request(url, requestInit);\n        for (const fn of interceptors.request._fns) {\n            if (fn) {\n                request = await fn(request, opts);\n            }\n        }\n        // fetch must be assigned here, otherwise it would throw the error:\n        // TypeError: Failed to execute 'fetch' on 'Window': Illegal invocation\n        const _fetch = opts.fetch;\n        let response = await _fetch(request);\n        for (const fn of interceptors.response._fns) {\n            if (fn) {\n                response = await fn(response, request, opts);\n            }\n        }\n        const result = {\n            request,\n            response,\n        };\n        if (response.ok) {\n            if (response.status === 204 || response.headers.get(\"Content-Length\") === \"0\") {\n                return opts.responseStyle === \"data\"\n                    ? {}\n                    : {\n                        data: {},\n                        ...result,\n                    };\n            }\n            const parseAs = (opts.parseAs === \"auto\" ? getParseAs(response.headers.get(\"Content-Type\")) : opts.parseAs) ?? \"json\";\n            let data;\n            switch (parseAs) {\n                case \"arrayBuffer\":\n                case \"blob\":\n                case \"formData\":\n                case \"json\":\n                case \"text\":\n                    data = await response[parseAs]();\n                    break;\n                case \"stream\":\n                    return opts.responseStyle === \"data\"\n                        ? response.body\n                        : {\n                            data: response.body,\n                            ...result,\n                        };\n            }\n            if (parseAs === \"json\") {\n                if (opts.responseValidator) {\n                    await opts.responseValidator(data);\n                }\n                if (opts.responseTransformer) {\n                    data = await opts.responseTransformer(data);\n                }\n            }\n            return opts.responseStyle === \"data\"\n                ? data\n                : {\n                    data,\n                    ...result,\n                };\n        }\n        const textError = await response.text();\n        let jsonError;\n        try {\n            jsonError = JSON.parse(textError);\n        }\n        catch {\n            // noop\n        }\n        const error = jsonError ?? textError;\n        let finalError = error;\n        for (const fn of interceptors.error._fns) {\n            if (fn) {\n                finalError = (await fn(error, response, request, opts));\n            }\n        }\n        finalError = finalError || {};\n        if (opts.throwOnError) {\n            throw finalError;\n        }\n        // TODO: we probably want to return error and improve types\n        return opts.responseStyle === \"data\"\n            ? undefined\n            : {\n                error: finalError,\n                ...result,\n            };\n    };\n    const makeMethod = (method) => {\n        const fn = (options) => request({ ...options, method });\n        fn.sse = async (options) => {\n            const { opts, url } = await beforeRequest(options);\n            return createSseClient({\n                ...opts,\n                body: opts.body,\n                headers: opts.headers,\n                method,\n                url,\n            });\n        };\n        return fn;\n    };\n    return {\n        buildUrl,\n        connect: makeMethod(\"CONNECT\"),\n        delete: makeMethod(\"DELETE\"),\n        get: makeMethod(\"GET\"),\n        getConfig,\n        head: makeMethod(\"HEAD\"),\n        interceptors,\n        options: makeMethod(\"OPTIONS\"),\n        patch: makeMethod(\"PATCH\"),\n        post: makeMethod(\"POST\"),\n        put: makeMethod(\"PUT\"),\n        request,\n        setConfig,\n        trace: makeMethod(\"TRACE\"),\n    };\n};\n", "// This file is auto-generated by @hey-api/openapi-ts\nconst extraPrefixesMap = {\n    $body_: \"body\",\n    $headers_: \"headers\",\n    $path_: \"path\",\n    $query_: \"query\",\n};\nconst extraPrefixes = Object.entries(extraPrefixesMap);\nconst buildKeyMap = (fields, map) => {\n    if (!map) {\n        map = new Map();\n    }\n    for (const config of fields) {\n        if (\"in\" in config) {\n            if (config.key) {\n                map.set(config.key, {\n                    in: config.in,\n                    map: config.map,\n                });\n            }\n        }\n        else if (config.args) {\n            buildKeyMap(config.args, map);\n        }\n    }\n    return map;\n};\nconst stripEmptySlots = (params) => {\n    for (const [slot, value] of Object.entries(params)) {\n        if (value && typeof value === \"object\" && !Object.keys(value).length) {\n            delete params[slot];\n        }\n    }\n};\nexport const buildClientParams = (args, fields) => {\n    const params = {\n        body: {},\n        headers: {},\n        path: {},\n        query: {},\n    };\n    const map = buildKeyMap(fields);\n    let config;\n    for (const [index, arg] of args.entries()) {\n        if (fields[index]) {\n            config = fields[index];\n        }\n        if (!config) {\n            continue;\n        }\n        if (\"in\" in config) {\n            if (config.key) {\n                const field = map.get(config.key);\n                const name = field.map || config.key;\n                params[field.in][name] = arg;\n            }\n            else {\n                params.body = arg;\n            }\n        }\n        else {\n            for (const [key, value] of Object.entries(arg ?? {})) {\n                const field = map.get(key);\n                if (field) {\n                    const name = field.map || key;\n                    params[field.in][name] = value;\n                }\n                else {\n                    const extra = extraPrefixes.find(([prefix]) => key.startsWith(prefix));\n                    if (extra) {\n                        const [prefix, slot] = extra;\n                        params[slot][key.slice(prefix.length)] = value;\n                    }\n                    else {\n                        for (const [slot, allowed] of Object.entries(config.allowExtra ?? {})) {\n                            if (allowed) {\n                                ;\n                                params[slot][key] = value;\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    stripEmptySlots(params);\n    return params;\n};\n", "// This file is auto-generated by @hey-api/openapi-ts\nexport { formDataBodySerializer, jsonBodySerializer, urlSearchParamsBodySerializer, } from \"../core/bodySerializer.gen.js\";\nexport { buildClientParams } from \"../core/params.gen.js\";\nexport { createClient } from \"./client.gen.js\";\nexport { createConfig, mergeHeaders } from \"./utils.gen.js\";\n", "// This file is auto-generated by @hey-api/openapi-ts\nimport { createClient, createConfig } from \"./client/index.js\";\nexport const client = createClient(createConfig({\n    baseUrl: \"http://localhost:4096\",\n}));\n", "// This file is auto-generated by @hey-api/openapi-ts\nimport { client as _heyApiClient } from \"./client.gen.js\";\nclass _HeyApiClient {\n    _client = _heyApiClient;\n    constructor(args) {\n        if (args?.client) {\n            this._client = args.client;\n        }\n    }\n}\nclass Global extends _HeyApiClient {\n    /**\n     * Get events\n     */\n    event(options) {\n        return (options?.client ?? this._client).get.sse({\n            url: \"/global/event\",\n            ...options,\n        });\n    }\n}\nclass Project extends _HeyApiClient {\n    /**\n     * List all projects\n     */\n    list(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/project\",\n            ...options,\n        });\n    }\n    /**\n     * Get the current project\n     */\n    current(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/project/current\",\n            ...options,\n        });\n    }\n}\nclass Pty extends _HeyApiClient {\n    /**\n     * List all PTY sessions\n     */\n    list(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/pty\",\n            ...options,\n        });\n    }\n    /**\n     * Create a new PTY session\n     */\n    create(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/pty\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n    /**\n     * Remove a PTY session\n     */\n    remove(options) {\n        return (options.client ?? this._client).delete({\n            url: \"/pty/{id}\",\n            ...options,\n        });\n    }\n    /**\n     * Get PTY session info\n     */\n    get(options) {\n        return (options.client ?? this._client).get({\n            url: \"/pty/{id}\",\n            ...options,\n        });\n    }\n    /**\n     * Update PTY session\n     */\n    update(options) {\n        return (options.client ?? this._client).put({\n            url: \"/pty/{id}\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Connect to a PTY session\n     */\n    connect(options) {\n        return (options.client ?? this._client).get({\n            url: \"/pty/{id}/connect\",\n            ...options,\n        });\n    }\n}\nclass Config extends _HeyApiClient {\n    /**\n     * Get config info\n     */\n    get(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/config\",\n            ...options,\n        });\n    }\n    /**\n     * Update config\n     */\n    update(options) {\n        return (options?.client ?? this._client).patch({\n            url: \"/config\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n    /**\n     * List all providers\n     */\n    providers(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/config/providers\",\n            ...options,\n        });\n    }\n}\nclass Tool extends _HeyApiClient {\n    /**\n     * List all tool IDs (including built-in and dynamically registered)\n     */\n    ids(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/experimental/tool/ids\",\n            ...options,\n        });\n    }\n    /**\n     * List tools with JSON schema parameters for a provider/model\n     */\n    list(options) {\n        return (options.client ?? this._client).get({\n            url: \"/experimental/tool\",\n            ...options,\n        });\n    }\n}\nclass Instance extends _HeyApiClient {\n    /**\n     * Dispose the current instance\n     */\n    dispose(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/instance/dispose\",\n            ...options,\n        });\n    }\n}\nclass Path extends _HeyApiClient {\n    /**\n     * Get the current path\n     */\n    get(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/path\",\n            ...options,\n        });\n    }\n}\nclass Vcs extends _HeyApiClient {\n    /**\n     * Get VCS info for the current instance\n     */\n    get(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/vcs\",\n            ...options,\n        });\n    }\n}\nclass Session extends _HeyApiClient {\n    /**\n     * List all sessions\n     */\n    list(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/session\",\n            ...options,\n        });\n    }\n    /**\n     * Create a new session\n     */\n    create(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/session\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n    /**\n     * Get session status\n     */\n    status(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/session/status\",\n            ...options,\n        });\n    }\n    /**\n     * Delete a session and all its data\n     */\n    delete(options) {\n        return (options.client ?? this._client).delete({\n            url: \"/session/{id}\",\n            ...options,\n        });\n    }\n    /**\n     * Get session\n     */\n    get(options) {\n        return (options.client ?? this._client).get({\n            url: \"/session/{id}\",\n            ...options,\n        });\n    }\n    /**\n     * Update session properties\n     */\n    update(options) {\n        return (options.client ?? this._client).patch({\n            url: \"/session/{id}\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Get a session's children\n     */\n    children(options) {\n        return (options.client ?? this._client).get({\n            url: \"/session/{id}/children\",\n            ...options,\n        });\n    }\n    /**\n     * Get the todo list for a session\n     */\n    todo(options) {\n        return (options.client ?? this._client).get({\n            url: \"/session/{id}/todo\",\n            ...options,\n        });\n    }\n    /**\n     * Analyze the app and create an AGENTS.md file\n     */\n    init(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/init\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Fork an existing session at a specific message\n     */\n    fork(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/fork\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Abort a session\n     */\n    abort(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/abort\",\n            ...options,\n        });\n    }\n    /**\n     * Unshare the session\n     */\n    unshare(options) {\n        return (options.client ?? this._client).delete({\n            url: \"/session/{id}/share\",\n            ...options,\n        });\n    }\n    /**\n     * Share a session\n     */\n    share(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/share\",\n            ...options,\n        });\n    }\n    /**\n     * Get the diff for this session\n     */\n    diff(options) {\n        return (options.client ?? this._client).get({\n            url: \"/session/{id}/diff\",\n            ...options,\n        });\n    }\n    /**\n     * Summarize the session\n     */\n    summarize(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/summarize\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * List messages for a session\n     */\n    messages(options) {\n        return (options.client ?? this._client).get({\n            url: \"/session/{id}/message\",\n            ...options,\n        });\n    }\n    /**\n     * Create and send a new message to a session\n     */\n    prompt(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/message\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Get a message from a session\n     */\n    message(options) {\n        return (options.client ?? this._client).get({\n            url: \"/session/{id}/message/{messageID}\",\n            ...options,\n        });\n    }\n    /**\n     * Create and send a new message to a session, start if needed and return immediately\n     */\n    promptAsync(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/prompt_async\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Send a new command to a session\n     */\n    command(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/command\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Run a shell command\n     */\n    shell(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/shell\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Revert a message\n     */\n    revert(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/revert\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Restore all reverted messages\n     */\n    unrevert(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/unrevert\",\n            ...options,\n        });\n    }\n}\nclass Command extends _HeyApiClient {\n    /**\n     * List all commands\n     */\n    list(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/command\",\n            ...options,\n        });\n    }\n}\nclass Oauth extends _HeyApiClient {\n    /**\n     * Authorize a provider using OAuth\n     */\n    authorize(options) {\n        return (options.client ?? this._client).post({\n            url: \"/provider/{id}/oauth/authorize\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Handle OAuth callback for a provider\n     */\n    callback(options) {\n        return (options.client ?? this._client).post({\n            url: \"/provider/{id}/oauth/callback\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n}\nclass Provider extends _HeyApiClient {\n    /**\n     * List all providers\n     */\n    list(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/provider\",\n            ...options,\n        });\n    }\n    /**\n     * Get provider authentication methods\n     */\n    auth(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/provider/auth\",\n            ...options,\n        });\n    }\n    oauth = new Oauth({ client: this._client });\n}\nclass Find extends _HeyApiClient {\n    /**\n     * Find text in files\n     */\n    text(options) {\n        return (options.client ?? this._client).get({\n            url: \"/find\",\n            ...options,\n        });\n    }\n    /**\n     * Find files\n     */\n    files(options) {\n        return (options.client ?? this._client).get({\n            url: \"/find/file\",\n            ...options,\n        });\n    }\n    /**\n     * Find workspace symbols\n     */\n    symbols(options) {\n        return (options.client ?? this._client).get({\n            url: \"/find/symbol\",\n            ...options,\n        });\n    }\n}\nclass File extends _HeyApiClient {\n    /**\n     * List files and directories\n     */\n    list(options) {\n        return (options.client ?? this._client).get({\n            url: \"/file\",\n            ...options,\n        });\n    }\n    /**\n     * Read a file\n     */\n    read(options) {\n        return (options.client ?? this._client).get({\n            url: \"/file/content\",\n            ...options,\n        });\n    }\n    /**\n     * Get file status\n     */\n    status(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/file/status\",\n            ...options,\n        });\n    }\n}\nclass App extends _HeyApiClient {\n    /**\n     * Write a log entry to the server logs\n     */\n    log(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/log\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n    /**\n     * List all agents\n     */\n    agents(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/agent\",\n            ...options,\n        });\n    }\n}\nclass Auth extends _HeyApiClient {\n    /**\n     * Remove OAuth credentials for an MCP server\n     */\n    remove(options) {\n        return (options.client ?? this._client).delete({\n            url: \"/mcp/{name}/auth\",\n            ...options,\n        });\n    }\n    /**\n     * Start OAuth authentication flow for an MCP server\n     */\n    start(options) {\n        return (options.client ?? this._client).post({\n            url: \"/mcp/{name}/auth\",\n            ...options,\n        });\n    }\n    /**\n     * Complete OAuth authentication with authorization code\n     */\n    callback(options) {\n        return (options.client ?? this._client).post({\n            url: \"/mcp/{name}/auth/callback\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    /**\n     * Start OAuth flow and wait for callback (opens browser)\n     */\n    authenticate(options) {\n        return (options.client ?? this._client).post({\n            url: \"/mcp/{name}/auth/authenticate\",\n            ...options,\n        });\n    }\n    /**\n     * Set authentication credentials\n     */\n    set(options) {\n        return (options.client ?? this._client).put({\n            url: \"/auth/{id}\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n}\nclass Mcp extends _HeyApiClient {\n    /**\n     * Get MCP server status\n     */\n    status(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/mcp\",\n            ...options,\n        });\n    }\n    /**\n     * Add MCP server dynamically\n     */\n    add(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/mcp\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n    /**\n     * Connect an MCP server\n     */\n    connect(options) {\n        return (options.client ?? this._client).post({\n            url: \"/mcp/{name}/connect\",\n            ...options,\n        });\n    }\n    /**\n     * Disconnect an MCP server\n     */\n    disconnect(options) {\n        return (options.client ?? this._client).post({\n            url: \"/mcp/{name}/disconnect\",\n            ...options,\n        });\n    }\n    auth = new Auth({ client: this._client });\n}\nclass Lsp extends _HeyApiClient {\n    /**\n     * Get LSP server status\n     */\n    status(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/lsp\",\n            ...options,\n        });\n    }\n}\nclass Formatter extends _HeyApiClient {\n    /**\n     * Get formatter status\n     */\n    status(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/formatter\",\n            ...options,\n        });\n    }\n}\nclass Control extends _HeyApiClient {\n    /**\n     * Get the next TUI request from the queue\n     */\n    next(options) {\n        return (options?.client ?? this._client).get({\n            url: \"/tui/control/next\",\n            ...options,\n        });\n    }\n    /**\n     * Submit a response to the TUI request queue\n     */\n    response(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/control/response\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n}\nclass Tui extends _HeyApiClient {\n    /**\n     * Append prompt to the TUI\n     */\n    appendPrompt(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/append-prompt\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n    /**\n     * Open the help dialog\n     */\n    openHelp(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/open-help\",\n            ...options,\n        });\n    }\n    /**\n     * Open the session dialog\n     */\n    openSessions(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/open-sessions\",\n            ...options,\n        });\n    }\n    /**\n     * Open the theme dialog\n     */\n    openThemes(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/open-themes\",\n            ...options,\n        });\n    }\n    /**\n     * Open the model dialog\n     */\n    openModels(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/open-models\",\n            ...options,\n        });\n    }\n    /**\n     * Submit the prompt\n     */\n    submitPrompt(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/submit-prompt\",\n            ...options,\n        });\n    }\n    /**\n     * Clear the prompt\n     */\n    clearPrompt(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/clear-prompt\",\n            ...options,\n        });\n    }\n    /**\n     * Execute a TUI command (e.g. agent_cycle)\n     */\n    executeCommand(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/execute-command\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n    /**\n     * Show a toast notification in the TUI\n     */\n    showToast(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/show-toast\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n    /**\n     * Publish a TUI event\n     */\n    publish(options) {\n        return (options?.client ?? this._client).post({\n            url: \"/tui/publish\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options?.headers,\n            },\n        });\n    }\n    control = new Control({ client: this._client });\n}\nclass Event extends _HeyApiClient {\n    /**\n     * Get events\n     */\n    subscribe(options) {\n        return (options?.client ?? this._client).get.sse({\n            url: \"/event\",\n            ...options,\n        });\n    }\n}\nexport class OpencodeClient extends _HeyApiClient {\n    /**\n     * Respond to a permission request\n     */\n    postSessionIdPermissionsPermissionId(options) {\n        return (options.client ?? this._client).post({\n            url: \"/session/{id}/permissions/{permissionID}\",\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...options.headers,\n            },\n        });\n    }\n    global = new Global({ client: this._client });\n    project = new Project({ client: this._client });\n    pty = new Pty({ client: this._client });\n    config = new Config({ client: this._client });\n    tool = new Tool({ client: this._client });\n    instance = new Instance({ client: this._client });\n    path = new Path({ client: this._client });\n    vcs = new Vcs({ client: this._client });\n    session = new Session({ client: this._client });\n    command = new Command({ client: this._client });\n    provider = new Provider({ client: this._client });\n    find = new Find({ client: this._client });\n    file = new File({ client: this._client });\n    app = new App({ client: this._client });\n    mcp = new Mcp({ client: this._client });\n    lsp = new Lsp({ client: this._client });\n    formatter = new Formatter({ client: this._client });\n    tui = new Tui({ client: this._client });\n    auth = new Auth({ client: this._client });\n    event = new Event({ client: this._client });\n}\n", "export * from \"./gen/types.gen.js\";\nimport { createClient } from \"./gen/client/client.gen.js\";\nimport { OpencodeClient } from \"./gen/sdk.gen.js\";\nexport { OpencodeClient };\nexport function createOpencodeClient(config) {\n    if (!config?.fetch) {\n        const customFetch = (req) => {\n            // @ts-ignore\n            req.timeout = false;\n            return fetch(req);\n        };\n        config = {\n            ...config,\n            fetch: customFetch,\n        };\n    }\n    if (config?.directory) {\n        config.headers = {\n            ...config.headers,\n            \"x-opencode-directory\": config.directory,\n        };\n    }\n    const client = createClient(config);\n    return new OpencodeClient({ client });\n}\n", "import { spawn } from \"node:child_process\";\nexport async function createOpencodeServer(options) {\n    options = Object.assign({\n        hostname: \"127.0.0.1\",\n        port: 4096,\n        timeout: 5000,\n    }, options ?? {});\n    const args = [`serve`, `--hostname=${options.hostname}`, `--port=${options.port}`];\n    if (options.config?.logLevel)\n        args.push(`--log-level=${options.config.logLevel}`);\n    const proc = spawn(`opencode`, args, {\n        signal: options.signal,\n        env: {\n            ...process.env,\n            OPENCODE_CONFIG_CONTENT: JSON.stringify(options.config ?? {}),\n        },\n    });\n    const url = await new Promise((resolve, reject) => {\n        const id = setTimeout(() => {\n            reject(new Error(`Timeout waiting for server to start after ${options.timeout}ms`));\n        }, options.timeout);\n        let output = \"\";\n        proc.stdout?.on(\"data\", (chunk) => {\n            output += chunk.toString();\n            const lines = output.split(\"\\n\");\n            for (const line of lines) {\n                if (line.startsWith(\"opencode server listening\")) {\n                    const match = line.match(/on\\s+(https?:\\/\\/[^\\s]+)/);\n                    if (!match) {\n                        throw new Error(`Failed to parse server url from output: ${line}`);\n                    }\n                    clearTimeout(id);\n                    resolve(match[1]);\n                    return;\n                }\n            }\n        });\n        proc.stderr?.on(\"data\", (chunk) => {\n            output += chunk.toString();\n        });\n        proc.on(\"exit\", (code) => {\n            clearTimeout(id);\n            let msg = `Server exited with code ${code}`;\n            if (output.trim()) {\n                msg += `\\nServer output: ${output}`;\n            }\n            reject(new Error(msg));\n        });\n        proc.on(\"error\", (error) => {\n            clearTimeout(id);\n            reject(error);\n        });\n        if (options.signal) {\n            options.signal.addEventListener(\"abort\", () => {\n                clearTimeout(id);\n                reject(new Error(\"Aborted\"));\n            });\n        }\n    });\n    return {\n        url,\n        close() {\n            proc.kill();\n        },\n    };\n}\nexport function createOpencodeTui(options) {\n    const args = [];\n    if (options?.project) {\n        args.push(`--project=${options.project}`);\n    }\n    if (options?.model) {\n        args.push(`--model=${options.model}`);\n    }\n    if (options?.session) {\n        args.push(`--session=${options.session}`);\n    }\n    if (options?.agent) {\n        args.push(`--agent=${options.agent}`);\n    }\n    const proc = spawn(`opencode`, args, {\n        signal: options?.signal,\n        stdio: \"inherit\",\n        env: {\n            ...process.env,\n            OPENCODE_CONFIG_CONTENT: JSON.stringify(options?.config ?? {}),\n        },\n    });\n    return {\n        close() {\n            proc.kill();\n        },\n    };\n}\n", "export * from \"./client.js\";\nexport * from \"./server.js\";\nimport { createOpencodeClient } from \"./client.js\";\nimport { createOpencodeServer } from \"./server.js\";\nexport async function createOpencode(options) {\n    const server = await createOpencodeServer({\n        ...options,\n    });\n    const client = createOpencodeClient({\n        baseUrl: server.url,\n    });\n    return {\n        client,\n        server,\n    };\n}\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n", "'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet flagForceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tflagForceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tflagForceColor = 1;\n}\n\nfunction envForceColor() {\n\tif ('FORCE_COLOR' in env) {\n\t\tif (env.FORCE_COLOR === 'true') {\n\t\t\treturn 1;\n\t\t}\n\n\t\tif (env.FORCE_COLOR === 'false') {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn env.FORCE_COLOR.length === 0 ? 1 : Math.min(Number.parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, {streamIsTTY, sniffFlags = true} = {}) {\n\tconst noFlagForceColor = envForceColor();\n\tif (noFlagForceColor !== undefined) {\n\t\tflagForceColor = noFlagForceColor;\n\t}\n\n\tconst forceColor = sniffFlags ? flagForceColor : noFlagForceColor;\n\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (sniffFlags) {\n\t\tif (hasFlag('color=16m') ||\n\t\t\thasFlag('color=full') ||\n\t\t\thasFlag('color=truecolor')) {\n\t\t\treturn 3;\n\t\t}\n\n\t\tif (hasFlag('color=256')) {\n\t\t\treturn 2;\n\t\t}\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE', 'DRONE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = Number.parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream, options = {}) {\n\tconst level = supportsColor(stream, {\n\t\tstreamIsTTY: stream && stream.isTTY,\n\t\t...options\n\t});\n\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel({isTTY: tty.isatty(1)}),\n\tstderr: getSupportLevel({isTTY: tty.isatty(2)})\n};\n", "/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n", "/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n", null, null, null, "import * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport * as path from 'path'\nimport { HiveService, HiveWatcher, Launcher, CheckpointService } from './services'\nimport { HiveSidebarProvider, HivePanelProvider, ReportViewProvider } from './providers'\nimport { viewDiff } from './commands'\n\nfunction findHiveRoot(startPath: string): string | null {\n  let current = startPath\n  while (current !== path.dirname(current)) {\n    if (fs.existsSync(path.join(current, '.hive'))) {\n      return current\n    }\n    current = path.dirname(current)\n  }\n  return null\n}\n\nexport function activate(context: vscode.ExtensionContext): void {\n  const workspaceFolder = vscode.workspace.workspaceFolders?.[0]?.uri.fsPath\n  if (!workspaceFolder) return\n\n  const workspaceRoot = findHiveRoot(workspaceFolder)\n  if (!workspaceRoot) return\n\n  const hiveService = new HiveService(workspaceRoot)\n  const launcher = new Launcher(workspaceRoot)\n  const checkpointService = new CheckpointService(workspaceRoot)\n\n  context.subscriptions.push(\n    vscode.commands.registerCommand('hive.refresh', () => {\n      const sidebarProvider = new HiveSidebarProvider(hiveService)\n      sidebarProvider.refresh()\n    }),\n\n    vscode.commands.registerCommand('hive.newFeature', async () => {\n      const name = await vscode.window.showInputBox({\n        prompt: 'Feature name',\n        placeHolder: 'my-feature'\n      })\n      if (name) {\n        const terminal = vscode.window.createTerminal('OpenCode - Hive')\n        terminal.sendText(`opencode --command \"/hive new ${name}\"`)\n        terminal.show()\n      }\n    }),\n\n    vscode.commands.registerCommand('hive.openStepInOpenCode', (featureName: string, stepName: string, sessionId?: string) => {\n      launcher.openStep('opencode', featureName, stepName, sessionId)\n    }),\n\n    vscode.commands.registerCommand('hive.openFeatureInOpenCode', (featureName: string) => {\n      launcher.openFeature('opencode', featureName)\n    }),\n\n    vscode.commands.registerCommand('hive.viewReport', (feature: string) => {\n      const report = hiveService.getReport(feature)\n      if (report) {\n        vscode.workspace.openTextDocument({ content: report, language: 'markdown' })\n          .then(doc => vscode.window.showTextDocument(doc))\n      } else {\n        vscode.window.showInformationMessage('No report generated yet')\n      }\n    }),\n\n    vscode.commands.registerCommand('hive.showFeature', (featureName: string) => {\n      const panelProvider = new HivePanelProvider(context.extensionUri, hiveService)\n      panelProvider.showFeature(featureName)\n    }),\n\n    vscode.commands.registerCommand('hive.openInOpenCode', (item: { featureName?: string; stepFolder?: string; sessionId?: string }) => {\n      if (item?.featureName && item?.stepFolder) {\n        launcher.openStep('opencode', item.featureName, item.stepFolder, item.sessionId)\n      }\n    }),\n\n    vscode.commands.registerCommand('hive.openFile', (filePath: string) => {\n      if (filePath) {\n        vscode.workspace.openTextDocument(filePath)\n          .then(doc => vscode.window.showTextDocument(doc))\n      }\n    }),\n\n    vscode.commands.registerCommand('hive.viewFeatureDetails', (item: { featureName?: string }) => {\n      if (item?.featureName) {\n        const panelProvider = new HivePanelProvider(context.extensionUri, hiveService)\n        panelProvider.showFeature(item.featureName)\n      }\n    }),\n\n    vscode.commands.registerCommand('hive.openSession', (item: { session?: { id: string } }) => {\n      if (item?.session?.id) {\n        launcher.openSession(item.session.id)\n      }\n    }),\n\n    vscode.commands.registerCommand('hive.viewDiff', (stepPath: string) => {\n      viewDiff(stepPath)\n    }),\n\n    vscode.commands.registerCommand('hive.viewStepReport', (item: { featureName?: string; stepFolder?: string }) => {\n      if (item?.featureName && item?.stepFolder) {\n        const reportViewProvider = new ReportViewProvider(context.extensionUri, hiveService, workspaceRoot)\n        reportViewProvider.show(item.featureName, item.stepFolder)\n      }\n    }),\n\n    vscode.commands.registerCommand('hive.revertStep', async (item: { featureName?: string; stepFolder?: string }) => {\n      if (item?.featureName && item?.stepFolder) {\n        const confirm = await vscode.window.showWarningMessage(\n          'Revert this step? Changes will be undone.',\n          { modal: true },\n          'Revert'\n        )\n        if (confirm === 'Revert') {\n          const result = await checkpointService.revertStep(item.featureName, item.stepFolder)\n          if (result.success) {\n            vscode.window.showInformationMessage('Step reverted')\n          } else {\n            vscode.window.showErrorMessage(`Failed to revert: ${result.error}`)\n          }\n          const sidebarProvider = new HiveSidebarProvider(hiveService)\n          sidebarProvider.refresh()\n        }\n      }\n    }),\n\n    vscode.commands.registerCommand('hive.revertBatch', async (item: { featureName?: string; order?: number }) => {\n      if (item?.featureName && item?.order) {\n        const confirm = await vscode.window.showWarningMessage(\n          `Revert batch ${item.order}? All steps in this batch will be reverted.`,\n          { modal: true },\n          'Revert'\n        )\n        if (confirm === 'Revert') {\n          const results = await checkpointService.revertBatch(item.featureName, item.order)\n          const failed = results.filter(r => !r.success)\n          if (failed.length === 0) {\n            vscode.window.showInformationMessage(`Batch ${item.order} reverted`)\n          } else {\n            vscode.window.showErrorMessage(`Some steps failed to revert: ${failed.map(f => f.error).join(', ')}`)\n          }\n          const sidebarProvider = new HiveSidebarProvider(hiveService)\n          sidebarProvider.refresh()\n        }\n      }\n    }),\n\n    vscode.commands.registerCommand('hive.executeBatch', async (item: { featureName?: string; order?: number }) => {\n      if (item?.featureName && item?.order) {\n        const confirm = await vscode.window.showInformationMessage(\n          `Execute batch ${item.order}? This will run all pending steps in this batch.`,\n          { modal: true },\n          'Execute'\n        )\n        if (confirm === 'Execute') {\n          const terminal = vscode.window.createTerminal('OpenCode - Hive')\n          terminal.sendText(`opencode --command \"/hive execute --batch ${item.order}\"`)\n          terminal.show()\n        }\n      }\n    })\n  )\n\n  if (!hiveService.exists()) return\n\n  const sidebarProvider = new HiveSidebarProvider(hiveService)\n  vscode.window.registerTreeDataProvider('hive.features', sidebarProvider)\n\n  const panelProvider = new HivePanelProvider(context.extensionUri, hiveService)\n  context.subscriptions.push(\n    vscode.window.registerWebviewViewProvider(HivePanelProvider.viewType, panelProvider)\n  )\n\n  const watcher = new HiveWatcher(workspaceRoot, () => sidebarProvider.refresh())\n  context.subscriptions.push({ dispose: () => watcher.dispose() })\n}\n\nexport function deactivate(): void {}\n", "import * as fs from 'fs'\nimport * as path from 'path'\nimport { Feature, Step, StepStatus, RequirementsDocs, ContextDocs, Batch, StepReport, ExecutionInfo, PlanJson, PlanComment } from '../types'\n\nexport interface SessionItem {\n  id: string\n  title?: string\n  summary?: string\n  isParent: boolean\n  createdAt: number\n  updatedAt: number\n}\n\nexport class HiveService {\n  private basePath: string\n\n  constructor(workspaceRoot: string) {\n    this.basePath = path.join(workspaceRoot, '.hive')\n  }\n\n  exists(): boolean {\n    return fs.existsSync(this.basePath)\n  }\n\n  private detectFeatureVersion(featurePath: string): 'v1' | 'v2' {\n    const tasksPath = path.join(featurePath, 'tasks')\n    const executionPath = path.join(featurePath, 'execution')\n    \n    if (fs.existsSync(tasksPath)) {\n      return 'v2'\n    }\n    if (fs.existsSync(executionPath)) {\n      return 'v1'\n    }\n    return 'v2'\n  }\n\n  private getStepsPath(featurePath: string): string {\n    const version = this.detectFeatureVersion(featurePath)\n    return version === 'v2' \n      ? path.join(featurePath, 'tasks')\n      : path.join(featurePath, 'execution')\n  }\n\n  private getDecisionsPath(featurePath: string): string {\n    const version = this.detectFeatureVersion(featurePath)\n    const decisionsPath = path.join(featurePath, 'context', 'decisions')\n    \n    if (version === 'v2' && fs.existsSync(decisionsPath)) {\n      return decisionsPath\n    }\n    return path.join(featurePath, 'context')\n  }\n\n  getFeatures(): Feature[] {\n    const featuresPath = path.join(this.basePath, 'features')\n    if (!fs.existsSync(featuresPath)) return []\n\n    return fs.readdirSync(featuresPath)\n      .filter(f => fs.statSync(path.join(featuresPath, f)).isDirectory())\n      .map(name => this.getFeature(name))\n  }\n\n  getFeature(name: string): Feature {\n    const steps = this.getSteps(name)\n    const activeSteps = steps.filter(s => s.status !== 'cancelled')\n    const doneCount = activeSteps.filter(s => s.status === 'done').length\n    const stepsCount = activeSteps.length\n    const progress = stepsCount > 0 ? Math.round((doneCount / stepsCount) * 100) : 0\n\n    const featureJsonPath = path.join(this.basePath, 'features', name, 'feature.json')\n    const featureJson = this.readJson<{ status?: string; createdAt?: string; completedAt?: string }>(featureJsonPath)\n    const status = (featureJson?.status as Feature['status']) || 'active'\n    const createdAt = featureJson?.createdAt\n    const completedAt = featureJson?.completedAt\n\n    return { name, progress, steps, stepsCount, doneCount, status, createdAt, completedAt }\n  }\n\n  getDecisions(feature: string): { filename: string; title: string; filePath: string }[] {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    const decisionsPath = this.getDecisionsPath(featurePath)\n    if (!fs.existsSync(decisionsPath)) return []\n\n    return fs.readdirSync(decisionsPath)\n      .filter(f => f.endsWith('.md'))\n      .map(filename => {\n        const filePath = path.join(decisionsPath, filename)\n        const content = this.readFile(filePath)\n        let title = filename.replace(/\\.md$/, '')\n        if (content) {\n          const h1Match = content.match(/^#\\s+(.+)$/m)\n          if (h1Match) title = h1Match[1]\n        }\n        return { filename, title, filePath }\n      })\n      .sort((a, b) => a.filename.localeCompare(b.filename))\n  }\n\n  getSteps(feature: string): Step[] {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    const stepsPath = this.getStepsPath(featurePath)\n    if (!fs.existsSync(stepsPath)) return []\n\n    return fs.readdirSync(stepsPath)\n      .filter(f => {\n        const stat = fs.statSync(path.join(stepsPath, f))\n        return stat.isDirectory()\n      })\n      .map(folder => {\n        const folderPath = path.join(stepsPath, folder)\n        const statusPath = path.join(folderPath, 'status.json')\n        const status = this.readJson<StepStatus>(statusPath)\n        \n        const specFiles = fs.readdirSync(folderPath)\n          .filter(f => f.endsWith('.md'))\n        \n        if (!status) return null\n        \n        return {\n          name: status.name,\n          order: status.order,\n          status: status.status,\n          folderPath: folder,\n          specFiles,\n          sessionId: status.sessionId,\n          summary: status.summary,\n          startedAt: status.startedAt,\n          completedAt: status.completedAt,\n          execution: status.execution\n        } as Step\n      })\n      .filter((s): s is Step => s !== null)\n      .sort((a, b) => a.order - b.order)\n  }\n\n  getBatches(feature: string): Batch[] {\n    const steps = this.getSteps(feature)\n    const stepsByOrder: Map<number, Step[]> = new Map()\n    \n    for (const step of steps) {\n      if (!stepsByOrder.has(step.order)) {\n        stepsByOrder.set(step.order, [])\n      }\n      stepsByOrder.get(step.order)!.push(step)\n    }\n    \n    const sortedOrders = Array.from(stepsByOrder.keys()).sort((a, b) => a - b)\n    const result: Batch[] = []\n    \n    let highestCompletedOrder = -1\n    for (const order of sortedOrders) {\n      const batchSteps = stepsByOrder.get(order)!\n      const allDone = batchSteps.every(s => s.status === 'done')\n      if (allDone) {\n        highestCompletedOrder = order\n      }\n    }\n    \n    let firstPendingOrder = -1\n    for (const order of sortedOrders) {\n      const batchSteps = stepsByOrder.get(order)!\n      const allDone = batchSteps.every(s => s.status === 'done')\n      if (!allDone && firstPendingOrder === -1) {\n        firstPendingOrder = order\n        break\n      }\n    }\n    \n    for (const order of sortedOrders) {\n      const batchSteps = stepsByOrder.get(order)!\n      result.push({\n        order,\n        steps: batchSteps,\n        isLatestDone: order === highestCompletedOrder,\n        canExecute: order === firstPendingOrder\n      })\n    }\n    \n    return result\n  }\n\n  getStepReport(feature: string, stepFolder: string): StepReport | null {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    const stepsPath = this.getStepsPath(featurePath)\n    const reportPath = path.join(stepsPath, stepFolder, 'report.json')\n    const report = this.readJson<{ diffStats?: StepReport }>(reportPath)\n    if (!report?.diffStats) return null\n    return report.diffStats\n  }\n\n  getStepDiffPath(feature: string, stepFolder: string): string | null {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    const stepsPath = this.getStepsPath(featurePath)\n    const diffPath = path.join(stepsPath, stepFolder, 'output.diff')\n    if (!fs.existsSync(diffPath)) return null\n    return diffPath\n  }\n\n  formatDuration(startedAt?: string, completedAt?: string): string {\n    if (!startedAt || !completedAt) return ''\n    const start = new Date(startedAt).getTime()\n    const end = new Date(completedAt).getTime()\n    const seconds = Math.floor((end - start) / 1000)\n    \n    if (seconds < 60) return `${seconds}s`\n    const minutes = Math.floor(seconds / 60)\n    const remainingSeconds = seconds % 60\n    if (minutes < 60) return `${minutes}m ${remainingSeconds}s`\n    const hours = Math.floor(minutes / 60)\n    const remainingMinutes = minutes % 60\n    return `${hours}h ${remainingMinutes}m`\n  }\n\n  getStepSpec(feature: string, stepFolder: string, specFile: string): string | null {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    const stepsPath = this.getStepsPath(featurePath)\n    const specPath = path.join(stepsPath, stepFolder, specFile)\n    return this.readFile(specPath)\n  }\n\n  getStepStatus(feature: string, stepFolder: string): StepStatus | null {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    const stepsPath = this.getStepsPath(featurePath)\n    const statusPath = path.join(stepsPath, stepFolder, 'status.json')\n    return this.readJson<StepStatus>(statusPath)\n  }\n\n  getProblemContent(feature: string): string | null {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    \n    const problemPath = path.join(featurePath, 'context', 'problem.md')\n    if (fs.existsSync(problemPath)) {\n      return this.readFile(problemPath)\n    }\n    \n    const ticketPath = path.join(featurePath, 'requirements', 'ticket.md')\n    if (fs.existsSync(ticketPath)) {\n      return this.readFile(ticketPath)\n    }\n    \n    const legacyProblemPath = path.join(featurePath, 'problem', 'ticket.md')\n    return this.readFile(legacyProblemPath)\n  }\n\n  getRequirements(feature: string): RequirementsDocs {\n    const ticket = this.getProblemContent(feature)\n    return {\n      ticket: ticket ?? undefined,\n      requirements: undefined,\n      notes: undefined\n    }\n  }\n\n  getContext(feature: string): ContextDocs {\n    const decisions = this.getDecisions(feature)\n    const decisionContent = decisions.length > 0 \n      ? decisions.map(d => `### ${d.title}`).join('\\n\\n')\n      : undefined\n    \n    return {\n      decisions: decisionContent,\n      architecture: undefined,\n      constraints: undefined\n    }\n  }\n\n  getPlanJson(feature: string): PlanJson | null {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    \n    const jsonPath = path.join(featurePath, 'plan.json')\n    if (fs.existsSync(jsonPath)) {\n      return this.readJson<PlanJson>(jsonPath)\n    }\n    \n    return null\n  }\n\n  getPlanContent(feature: string): string | null {\n    const planJson = this.getPlanJson(feature)\n    if (planJson) {\n      return this.planJsonToMarkdown(planJson)\n    }\n    \n    const legacyPath = path.join(this.basePath, 'features', feature, 'plan.md')\n    return this.readFile(legacyPath)\n  }\n\n  private planJsonToMarkdown(plan: PlanJson): string {\n    const lines: string[] = []\n    lines.push(`# Implementation Plan`)\n    lines.push(``)\n    lines.push(`**Version**: ${plan.version}`)\n    lines.push(`**Status**: ${plan.status}`)\n    lines.push(`**Updated**: ${plan.updatedAt}`)\n    lines.push(``)\n    \n    if (plan.summary) {\n      lines.push(`## Summary`)\n      lines.push(``)\n      lines.push(plan.summary)\n      lines.push(``)\n    }\n    \n    if (plan.tasks.length > 0) {\n      lines.push(`## Tasks`)\n      lines.push(``)\n      for (const task of plan.tasks) {\n        const icon = task.status === 'done' ? '\u2705' :\n                     task.status === 'in_progress' ? '\uD83D\uDD04' :\n                     task.status === 'cancelled' ? '\u23ED\uFE0F' : '\u2B1C'\n        lines.push(`${icon} **${task.id}**: ${task.name}`)\n      }\n    }\n    \n    return lines.join('\\n')\n  }\n\n  getPlanComments(feature: string): PlanComment[] {\n    const commentsPath = path.join(this.basePath, 'features', feature, 'comments.json')\n    if (!fs.existsSync(commentsPath)) return []\n    \n    try {\n      const data = JSON.parse(fs.readFileSync(commentsPath, 'utf-8'))\n      return data.comments || []\n    } catch {\n      return []\n    }\n  }\n\n  getFilesInFolder(feature: string, folder: 'requirements' | 'context'): string[] {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    \n    if (folder === 'context') {\n      const decisionsPath = this.getDecisionsPath(featurePath)\n      if (fs.existsSync(decisionsPath)) {\n        return fs.readdirSync(decisionsPath).filter(f => {\n          const stat = fs.statSync(path.join(decisionsPath, f))\n          return stat.isFile()\n        })\n      }\n    }\n    \n    let folderPath = path.join(featurePath, folder)\n    if (!fs.existsSync(folderPath)) {\n      if (folder === 'requirements') {\n        folderPath = path.join(featurePath, 'problem')\n      } else {\n        return []\n      }\n    }\n    if (!fs.existsSync(folderPath)) return []\n    return fs.readdirSync(folderPath).filter(f => {\n      const stat = fs.statSync(path.join(folderPath, f))\n      return stat.isFile()\n    })\n  }\n\n  getFilePath(feature: string, folder: 'requirements' | 'context' | 'execution', filename: string): string {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    \n    if (folder === 'requirements') {\n      const problemPath = path.join(featurePath, 'context', 'problem.md')\n      if (fs.existsSync(problemPath) && filename === 'ticket.md') {\n        return problemPath\n      }\n      const requirementsPath = path.join(featurePath, 'requirements')\n      if (fs.existsSync(requirementsPath)) {\n        return path.join(requirementsPath, filename)\n      }\n      return path.join(featurePath, 'problem', filename)\n    }\n    \n    if (folder === 'context') {\n      const decisionsPath = this.getDecisionsPath(featurePath)\n      return path.join(decisionsPath, filename)\n    }\n    \n    if (folder === 'execution') {\n      const stepsPath = this.getStepsPath(featurePath)\n      return path.join(stepsPath, filename)\n    }\n    \n    return path.join(featurePath, folder, filename)\n  }\n\n  getStepFilePath(feature: string, stepFolder: string, filename: string): string {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    const stepsPath = this.getStepsPath(featurePath)\n    return path.join(stepsPath, stepFolder, filename)\n  }\n\n  getFeaturePath(feature: string): string {\n    return path.join(this.basePath, 'features', feature)\n  }\n\n  getReport(feature: string): string {\n    const feat = this.getFeature(feature)\n    const requirements = this.getRequirements(feature)\n    const context = this.getContext(feature)\n    \n    let report = `# Feature: ${feature}\\n\\n`\n    report += `## REQUIREMENTS\\n${requirements.ticket || '(no ticket)'}\\n\\n`\n    \n    report += `## CONTEXT\\n`\n    if (context.decisions) report += context.decisions + '\\n'\n    if (context.architecture) report += context.architecture + '\\n'\n    if (!context.decisions && !context.architecture) report += '(no decisions)\\n'\n    report += '\\n'\n    \n    report += `## EXECUTION\\n`\n    for (const step of feat.steps) {\n      const icon = step.status === 'done' ? '\u2705' : step.status === 'in_progress' ? '\uD83D\uDD04' : '\u2B1C'\n      report += `${icon} **${step.order}. ${step.name}** (${step.status})`\n      if (step.sessionId) report += ` [session: ${step.sessionId}]`\n      report += '\\n'\n      if (step.summary) report += `   ${step.summary}\\n`\n    }\n    \n    return report\n  }\n\n  updateStepSession(feature: string, stepFolder: string, sessionId: string): boolean {\n    const featurePath = path.join(this.basePath, 'features', feature)\n    const stepsPath = this.getStepsPath(featurePath)\n    const statusPath = path.join(stepsPath, stepFolder, 'status.json')\n    const status = this.readJson<StepStatus>(statusPath)\n    if (!status) return false\n    \n    status.sessionId = sessionId\n    try {\n      fs.writeFileSync(statusPath, JSON.stringify(status, null, 2))\n      return true\n    } catch {\n      return false\n    }\n  }\n\n  async getStepSessions(feature: string, stepFolder: string): Promise<SessionItem[]> {\n    const status = this.getStepStatus(feature, stepFolder)\n    if (!status?.sessionId) return []\n\n    const workspaceRoot = path.dirname(this.basePath)\n    \n    try {\n      const { createOpencodeClient } = await import('@opencode-ai/sdk')\n      const client = createOpencodeClient({ directory: workspaceRoot })\n      const response = await client.session.list({ query: { directory: workspaceRoot } })\n      \n      if (response.error || !response.data) return []\n      const sessions = response.data\n      \n      const parentSession = sessions.find((s: { id: string }) => s.id === status.sessionId)\n      if (!parentSession) return []\n\n      const result: SessionItem[] = [{\n        id: parentSession.id,\n        title: parentSession.title,\n        summary: parentSession.summary ? `+${parentSession.summary.additions}/-${parentSession.summary.deletions} in ${parentSession.summary.files} files` : undefined,\n        isParent: true,\n        createdAt: parentSession.time.created,\n        updatedAt: parentSession.time.updated\n      }]\n\n      const childSessions = sessions\n        .filter((s: { parentID?: string }) => s.parentID === status.sessionId)\n        .sort((a: { time: { created: number } }, b: { time: { created: number } }) => \n          a.time.created - b.time.created)\n\n      for (const child of childSessions) {\n        result.push({\n          id: child.id,\n          title: child.title,\n          summary: child.summary ? `+${child.summary.additions}/-${child.summary.deletions} in ${child.summary.files} files` : undefined,\n          isParent: false,\n          createdAt: child.time.created,\n          updatedAt: child.time.updated\n        })\n      }\n\n      return result\n    } catch {\n      return []\n    }\n  }\n\n  private readFile(filePath: string): string | null {\n    try {\n      return fs.readFileSync(filePath, 'utf-8')\n    } catch {\n      return null\n    }\n  }\n\n  private readJson<T>(filePath: string): T | null {\n    const content = this.readFile(filePath)\n    if (!content) return null\n    try {\n      return JSON.parse(content)\n    } catch {\n      return null\n    }\n  }\n}\n", "import * as vscode from 'vscode'\nimport * as path from 'path'\n\nexport class HiveWatcher {\n  private watcher: vscode.FileSystemWatcher\n\n  constructor(workspaceRoot: string, onChange: () => void) {\n    const pattern = new vscode.RelativePattern(\n      workspaceRoot,\n      '.hive/**/*'\n    )\n    this.watcher = vscode.workspace.createFileSystemWatcher(pattern)\n\n    this.watcher.onDidCreate(onChange)\n    this.watcher.onDidChange(onChange)\n    this.watcher.onDidDelete(onChange)\n  }\n\n  dispose(): void {\n    this.watcher.dispose()\n  }\n}\n", "import * as vscode from 'vscode'\nimport * as path from 'path'\nimport * as fs from 'fs'\nimport { spawn } from 'child_process'\nimport { HiveService } from './hiveService'\n\nexport type Client = 'opencode'\n\nexport class Launcher {\n  private hiveService: HiveService\n\n  constructor(private workspaceRoot: string) {\n    this.hiveService = new HiveService(workspaceRoot)\n  }\n\n  async createSession(feature: string, step: string): Promise<void> {\n    const specPath = path.join(\n      this.workspaceRoot,\n      '.hive',\n      'features',\n      feature,\n      'execution',\n      step,\n      'spec.md'\n    )\n\n    if (!fs.existsSync(specPath)) {\n      vscode.window.showErrorMessage(`Spec file not found: ${specPath}`)\n      return\n    }\n\n    const spec = fs.readFileSync(specPath, 'utf-8')\n    const prompt = this.buildStepPrompt(feature, step, spec)\n    const sessionTitle = `[${feature}] ${step}`\n\n    vscode.window.withProgress(\n      { location: vscode.ProgressLocation.Notification, title: 'Creating OpenCode session...' },\n      async () => {\n        const sessionId = await this.createOpencodeSession(sessionTitle, prompt)\n        if (sessionId) {\n          this.hiveService.updateStepSession(feature, step, sessionId)\n          vscode.window.showInformationMessage(`Session created: ${sessionId}`)\n        } else {\n          vscode.window.showErrorMessage('Failed to create session')\n        }\n      }\n    )\n  }\n\n  async openStep(\n    client: Client,\n    feature: string,\n    step: string,\n    sessionId?: string\n  ): Promise<void> {\n    return this.openInOpenCode(feature, step, sessionId)\n  }\n\n  async openFeature(client: Client, feature: string): Promise<void> {\n    return this.openInOpenCode(feature)\n  }\n\n  openSession(sessionId: string): void {\n    const terminal = vscode.window.createTerminal({\n      name: `OpenCode - ${sessionId.slice(0, 8)}`,\n      cwd: this.workspaceRoot\n    })\n    terminal.sendText(`opencode -s ${sessionId}`)\n    terminal.show()\n  }\n\n  private async openInOpenCode(\n    feature: string,\n    step?: string,\n    sessionId?: string\n  ): Promise<void> {\n    const terminalName = `OpenCode: ${feature}${step ? '/' + step : ''}`\n\n    if (sessionId) {\n      const terminal = vscode.window.createTerminal({\n        name: terminalName,\n        cwd: this.workspaceRoot\n      })\n      terminal.sendText(`opencode -s ${sessionId}`)\n      terminal.show()\n      return\n    }\n\n    if (step) {\n      const specPath = path.join(\n        this.workspaceRoot,\n        '.hive',\n        'features',\n        feature,\n        'execution',\n        step,\n        'spec.md'\n      )\n\n      if (fs.existsSync(specPath)) {\n        const spec = fs.readFileSync(specPath, 'utf-8')\n        const prompt = this.buildStepPrompt(feature, step, spec)\n        const sessionTitle = `[${feature}] ${step}`\n\n        try {\n          const newSessionId = await this.createOpencodeSession(sessionTitle, prompt)\n          \n          if (newSessionId) {\n            this.hiveService.updateStepSession(feature, step, newSessionId)\n            \n            const terminal = vscode.window.createTerminal({\n              name: terminalName,\n              cwd: this.workspaceRoot\n            })\n            terminal.sendText(`opencode -s ${newSessionId}`)\n            terminal.show()\n            return\n          }\n        } catch (err) {\n          console.error('Failed to create opencode session:', err)\n        }\n      }\n    }\n\n    const terminal = vscode.window.createTerminal({\n      name: terminalName,\n      cwd: this.workspaceRoot\n    })\n    terminal.sendText('opencode')\n    terminal.show()\n  }\n\n  private async createOpencodeSession(title: string, prompt: string): Promise<string | null> {\n    return new Promise((resolve) => {\n      const scriptPath = path.join(__dirname, '..', '..', 'scripts', 'create-session.mjs')\n      const proc = spawn('node', [scriptPath, title, prompt], { cwd: this.workspaceRoot })\n      \n      let stdout = ''\n      let stderr = ''\n      \n      proc.stdout.on('data', (data) => { stdout += data.toString() })\n      proc.stderr.on('data', (data) => { stderr += data.toString() })\n      \n      proc.on('close', (code) => {\n        if (code === 0 && stdout.trim()) {\n          resolve(stdout.trim())\n        } else {\n          console.error('create-session failed:', stderr)\n          resolve(null)\n        }\n      })\n      \n      proc.on('error', (err) => {\n        console.error('create-session spawn error:', err)\n        resolve(null)\n      })\n    })\n  }\n\n  private buildStepPrompt(feature: string, step: string, spec: string): string {\n    return `You are working on step \"${step}\" of feature \"${feature}\".\n\n## Step Specification\n${spec}\n\n## Context\n- Feature: ${feature}\n- Step: ${step}\n- Read the full feature context at: .hive/features/${feature}/\n\nBegin by acknowledging this step and asking any clarifying questions.`\n  }\n}\n", "import * as fs from 'fs'\nimport * as path from 'path'\nimport simpleGit, { SimpleGit } from 'simple-git'\nimport { Step, StepStatus } from '../types'\n\nexport interface ExecutionInfo {\n  worktreeBranch: string\n  worktreePath: string\n  appliedAt?: string\n  canRevert: boolean\n}\n\nexport interface ExtendedStepStatus extends StepStatus {\n  execution?: ExecutionInfo | null\n}\n\nexport interface ExecutionState {\n  step: Step\n  status: ExtendedStepStatus\n  canRevert: boolean\n  diffPath: string | null\n  diffExists: boolean\n}\n\nexport interface RevertResult {\n  success: boolean\n  error?: string\n  filesAffected?: string[]\n}\n\nexport interface ConflictCheckResult {\n  hasConflicts: boolean\n  conflictDetails?: string\n}\n\nexport interface ChangedFile {\n  path: string\n  status: 'added' | 'modified' | 'deleted'\n}\n\nexport class CheckpointService {\n  private basePath: string\n  private workspaceRoot: string\n  private git: SimpleGit\n\n  constructor(workspaceRoot: string) {\n    this.workspaceRoot = workspaceRoot\n    this.basePath = path.join(workspaceRoot, '.hive')\n    this.git = simpleGit(workspaceRoot)\n  }\n\n  /**\n   * Get full execution state for a step including revert capability\n   */\n  getExecutionState(feature: string, stepFolder: string): ExecutionState | null {\n    const stepPath = path.join(this.basePath, 'features', feature, 'execution', stepFolder)\n    const statusPath = path.join(stepPath, 'status.json')\n    const diffPath = path.join(stepPath, 'output.diff')\n\n    const status = this.readJson<ExtendedStepStatus>(statusPath)\n    if (!status) return null\n\n    const diffExists = fs.existsSync(diffPath)\n    const canRevert = status.status === 'done' && \n                      status.execution?.canRevert === true && \n                      diffExists\n\n    return {\n      step: {\n        name: status.name,\n        order: status.order,\n        status: status.status as Step['status'],\n        folderPath: stepFolder,\n        specFiles: this.getSpecFiles(stepPath),\n        sessionId: status.sessionId,\n        summary: status.summary\n      },\n      status,\n      canRevert,\n      diffPath: diffExists ? diffPath : null,\n      diffExists\n    }\n  }\n\n  /**\n   * Check if a step can be reverted\n   */\n  canRevert(feature: string, stepFolder: string): boolean {\n    const state = this.getExecutionState(feature, stepFolder)\n    return state?.canRevert ?? false\n  }\n\n  /**\n   * Check for conflicts before reverting (async)\n   */\n  async checkConflicts(feature: string, stepFolder: string): Promise<ConflictCheckResult> {\n    const state = this.getExecutionState(feature, stepFolder)\n    if (!state?.diffPath) {\n      return { hasConflicts: true, conflictDetails: 'No diff file found' }\n    }\n\n    const diffContent = this.readFile(state.diffPath)\n    if (!diffContent) {\n      return { hasConflicts: true, conflictDetails: 'Could not read diff file' }\n    }\n\n    try {\n      await this.git.applyPatch(diffContent, ['--check', '-R'])\n      return { hasConflicts: false }\n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Unknown conflict'\n      return { hasConflicts: true, conflictDetails: message }\n    }\n  }\n\n  /**\n   * Revert a single step using its saved diff (async)\n   */\n  async revertStep(feature: string, stepFolder: string): Promise<RevertResult> {\n    const state = this.getExecutionState(feature, stepFolder)\n    if (!state) {\n      return { success: false, error: 'Step not found' }\n    }\n    if (!state.canRevert) {\n      return { success: false, error: 'Step cannot be reverted' }\n    }\n    if (!state.diffPath) {\n      return { success: false, error: 'No diff file found' }\n    }\n\n    const conflictCheck = await this.checkConflicts(feature, stepFolder)\n    if (conflictCheck.hasConflicts) {\n      return { success: false, error: `Conflicts detected: ${conflictCheck.conflictDetails}` }\n    }\n\n    const diffContent = this.readFile(state.diffPath)\n    if (!diffContent) {\n      return { success: false, error: 'Could not read diff file' }\n    }\n\n    try {\n      await this.git.applyPatch(diffContent, ['-R'])\n\n      const filesAffected = this.parseFilesFromDiff(state.diffPath)\n      this.updateStepAfterRevert(feature, stepFolder)\n\n      return { success: true, filesAffected }\n    } catch (error) {\n      const message = error instanceof Error ? error.message : String(error)\n      return { success: false, error: message }\n    }\n  }\n\n  /**\n   * Revert all steps in a batch (same order number) - async\n   */\n  async revertBatch(feature: string, batchOrder: number): Promise<RevertResult[]> {\n    const steps = this.getStepsInBatch(feature, batchOrder)\n    const results: RevertResult[] = []\n\n    for (const step of steps) {\n      const result = await this.revertStep(feature, step.folderPath)\n      results.push(result)\n    }\n\n    return results\n  }\n\n  /**\n   * Get the diff content for a step\n   */\n  getDiff(feature: string, stepFolder: string): string | null {\n    const diffPath = path.join(\n      this.basePath, 'features', feature, 'execution', stepFolder, 'output.diff'\n    )\n    return this.readFile(diffPath)\n  }\n\n  /**\n   * Get changed files from a step's diff\n   */\n  getChangedFiles(feature: string, stepFolder: string): ChangedFile[] {\n    const diffContent = this.getDiff(feature, stepFolder)\n    if (!diffContent) return []\n\n    const files: ChangedFile[] = []\n    const lines = diffContent.split('\\n')\n\n    for (const line of lines) {\n      if (line.startsWith('diff --git')) {\n        const match = line.match(/diff --git a\\/(.+) b\\/(.+)/)\n        if (match) {\n          files.push({ path: match[2], status: 'modified' })\n        }\n      } else if (line.startsWith('new file mode')) {\n        if (files.length > 0) {\n          files[files.length - 1].status = 'added'\n        }\n      } else if (line.startsWith('deleted file mode')) {\n        if (files.length > 0) {\n          files[files.length - 1].status = 'deleted'\n        }\n      }\n    }\n\n    return files\n  }\n\n  /**\n   * Get steps that belong to a specific batch\n   */\n  getStepsInBatch(feature: string, batchOrder: number): Step[] {\n    const execPath = path.join(this.basePath, 'features', feature, 'execution')\n    if (!fs.existsSync(execPath)) return []\n\n    const steps: Step[] = []\n    const folders = fs.readdirSync(execPath).filter(f => \n      fs.statSync(path.join(execPath, f)).isDirectory()\n    )\n\n    for (const folder of folders) {\n      const state = this.getExecutionState(feature, folder)\n      if (state && state.status.order === batchOrder && state.canRevert) {\n        steps.push(state.step)\n      }\n    }\n\n    return steps.sort((a, b) => a.name.localeCompare(b.name))\n  }\n\n  /**\n   * Get all revertible steps for a feature\n   */\n  getRevertibleSteps(feature: string): Step[] {\n    const execPath = path.join(this.basePath, 'features', feature, 'execution')\n    if (!fs.existsSync(execPath)) return []\n\n    const steps: Step[] = []\n    const folders = fs.readdirSync(execPath).filter(f => \n      fs.statSync(path.join(execPath, f)).isDirectory()\n    )\n\n    for (const folder of folders) {\n      const state = this.getExecutionState(feature, folder)\n      if (state?.canRevert) {\n        steps.push(state.step)\n      }\n    }\n\n    return steps.sort((a, b) => a.order - b.order)\n  }\n\n  private parseFilesFromDiff(diffPath: string): string[] {\n    const content = this.readFile(diffPath)\n    if (!content) return []\n\n    const files: string[] = []\n    const lines = content.split('\\n')\n\n    for (const line of lines) {\n      if (line.startsWith('diff --git')) {\n        const match = line.match(/diff --git a\\/(.+) b\\/(.+)/)\n        if (match) {\n          files.push(match[2])\n        }\n      }\n    }\n\n    return [...new Set(files)]\n  }\n\n  private updateStepAfterRevert(feature: string, stepFolder: string): void {\n    const statusPath = path.join(\n      this.basePath, 'features', feature, 'execution', stepFolder, 'status.json'\n    )\n    const status = this.readJson<ExtendedStepStatus>(statusPath)\n    if (!status) return\n\n    status.status = 'pending'\n    if (status.execution) {\n      status.execution.canRevert = false\n    }\n\n    try {\n      fs.writeFileSync(statusPath, JSON.stringify(status, null, 2))\n    } catch {\n      /* intentional: status update is best-effort */\n    }\n  }\n\n  private getSpecFiles(stepPath: string): string[] {\n    try {\n      return fs.readdirSync(stepPath).filter(f => f.endsWith('.md'))\n    } catch {\n      return []\n    }\n  }\n\n  private readFile(filePath: string): string | null {\n    try {\n      return fs.readFileSync(filePath, 'utf-8')\n    } catch {\n      return null\n    }\n  }\n\n  private readJson<T>(filePath: string): T | null {\n    const content = this.readFile(filePath)\n    if (!content) return null\n    try {\n      return JSON.parse(content)\n    } catch {\n      return null\n    }\n  }\n}\n", "const cache = new WeakMap<String, string[]>();\n\nexport function pathspec(...paths: string[]) {\n   const key = new String(paths);\n   cache.set(key, paths);\n\n   return key as string;\n}\n\nexport function isPathSpec(path: string | unknown): path is string {\n   return path instanceof String && cache.has(path);\n}\n\nexport function toPaths(pathSpec: string): string[] {\n   return cache.get(pathSpec) || [];\n}\n", "import type { SimpleGitTask } from '../types';\n\n/**\n * The `GitError` is thrown when the underlying `git` process throws a\n * fatal exception (eg an `ENOENT` exception when attempting to use a\n * non-writable directory as the root for your repo), and acts as the\n * base class for more specific errors thrown by the parsing of the\n * git response or errors in the configuration of the task about to\n * be run.\n *\n * When an exception is thrown, pending tasks in the same instance will\n * not be executed. The recommended way to run a series of tasks that\n * can independently fail without needing to prevent future tasks from\n * running is to catch them individually:\n *\n * ```typescript\n import { gitP, SimpleGit, GitError, PullResult } from 'simple-git';\n\n function catchTask (e: GitError) {\n   return e.\n }\n\n const git = gitP(repoWorkingDir);\n const pulled: PullResult | GitError = await git.pull().catch(catchTask);\n const pushed: string | GitError = await git.pushTags().catch(catchTask);\n ```\n */\nexport class GitError extends Error {\n   constructor(\n      public task?: SimpleGitTask<any>,\n      message?: string\n   ) {\n      super(message);\n      Object.setPrototypeOf(this, new.target.prototype);\n   }\n}\n", "import { GitError } from './git-error';\n\n/**\n * The `GitResponseError` is the wrapper for a parsed response that is treated as\n * a fatal error, for example attempting a `merge` can leave the repo in a corrupted\n * state when there are conflicts so the task will reject rather than resolve.\n *\n * For example, catching the merge conflict exception:\n *\n * ```typescript\n import { gitP, SimpleGit, GitResponseError, MergeSummary } from 'simple-git';\n\n const git = gitP(repoRoot);\n const mergeOptions: string[] = ['--no-ff', 'other-branch'];\n const mergeSummary: MergeSummary = await git.merge(mergeOptions)\n      .catch((e: GitResponseError<MergeSummary>) => e.git);\n\n if (mergeSummary.failed) {\n   // deal with the error\n }\n ```\n */\nexport class GitResponseError<T = any> extends GitError {\n   constructor(\n      /**\n       * `.git` access the parsed response that is treated as being an error\n       */\n      public readonly git: T,\n      message?: string\n   ) {\n      super(undefined, message || String(git));\n   }\n}\n", "import { GitError } from './git-error';\n\n/**\n * The `TaskConfigurationError` is thrown when a command was incorrectly\n * configured. An error of this kind means that no attempt was made to\n * run your command through the underlying `git` binary.\n *\n * Check the `.message` property for more detail on why your configuration\n * resulted in an error.\n */\nexport class TaskConfigurationError extends GitError {\n   constructor(message?: string) {\n      super(undefined, message);\n   }\n}\n", "import { Buffer } from 'node:buffer';\nimport { exists, FOLDER } from '@kwsites/file-exists';\nimport type { Maybe } from '../types';\nimport { filterHasLength } from './argument-filters';\n\ntype Callable = (...args: unknown[]) => unknown;\n\nexport const NULL = '\\0';\n\nexport const NOOP: Callable = () => {};\n\n/**\n * Returns either the source argument when it is a `Function`, or the default\n * `NOOP` function constant\n */\nexport function asFunction<T>(source: T | unknown): Callable {\n   if (typeof source !== 'function') {\n      return NOOP;\n   }\n   return source as Callable;\n}\n\n/**\n * Determines whether the supplied argument is both a function, and is not\n * the `NOOP` function.\n */\nexport function isUserFunction<T extends Function>(source: T | unknown): source is T {\n   return typeof source === 'function' && source !== NOOP;\n}\n\nexport function splitOn(input: string, char: string): [string, string] {\n   const index = input.indexOf(char);\n   if (index <= 0) {\n      return [input, ''];\n   }\n\n   return [input.substr(0, index), input.substr(index + 1)];\n}\n\nexport function first<T extends unknown[]>(input: T, offset?: number): Maybe<T[number]>;\nexport function first<T extends IArguments>(input: T, offset?: number): Maybe<unknown>;\nexport function first(input: unknown[] | IArguments, offset = 0): Maybe<unknown> {\n   return isArrayLike(input) && input.length > offset ? input[offset] : undefined;\n}\n\nexport function last<T extends unknown[]>(input: T, offset?: number): Maybe<T[number]>;\nexport function last<T extends IArguments>(input: T, offset?: number): Maybe<unknown>;\nexport function last<T>(input: T, offset?: number): Maybe<unknown>;\nexport function last(input: unknown, offset = 0) {\n   if (isArrayLike(input) && input.length > offset) {\n      return input[input.length - 1 - offset];\n   }\n}\n\ntype ArrayLike<T> = T[] | IArguments | { [index: number]: T; length: number };\n\nfunction isArrayLike(input: unknown): input is ArrayLike<unknown> {\n   return filterHasLength(input);\n}\n\nexport function toLinesWithContent(input = '', trimmed = true, separator = '\\n'): string[] {\n   return input.split(separator).reduce((output, line) => {\n      const lineContent = trimmed ? line.trim() : line;\n      if (lineContent) {\n         output.push(lineContent);\n      }\n      return output;\n   }, [] as string[]);\n}\n\ntype LineWithContentCallback<T = void> = (line: string) => T;\n\nexport function forEachLineWithContent<T>(\n   input: string,\n   callback: LineWithContentCallback<T>\n): T[] {\n   return toLinesWithContent(input, true).map((line) => callback(line));\n}\n\nexport function folderExists(path: string): boolean {\n   return exists(path, FOLDER);\n}\n\n/**\n * Adds `item` into the `target` `Array` or `Set` when it is not already present and returns the `item`.\n */\nexport function append<T>(target: T[] | Set<T>, item: T): typeof item {\n   if (Array.isArray(target)) {\n      if (!target.includes(item)) {\n         target.push(item);\n      }\n   } else {\n      target.add(item);\n   }\n   return item;\n}\n\n/**\n * Adds `item` into the `target` `Array` when it is not already present and returns the `target`.\n */\nexport function including<T>(target: T[], item: T): typeof target {\n   if (Array.isArray(target) && !target.includes(item)) {\n      target.push(item);\n   }\n\n   return target;\n}\n\nexport function remove<T>(target: Set<T> | T[], item: T): T {\n   if (Array.isArray(target)) {\n      const index = target.indexOf(item);\n      if (index >= 0) {\n         target.splice(index, 1);\n      }\n   } else {\n      target.delete(item);\n   }\n   return item;\n}\n\nexport const objectToString = Object.prototype.toString.call.bind(Object.prototype.toString) as (\n   input: unknown\n) => string;\n\nexport function asArray<T>(source: T | T[]): T[] {\n   return Array.isArray(source) ? source : [source];\n}\n\nexport function asCamelCase(str: string) {\n   return str.replace(/[\\s-]+(.)/g, (_all, chr) => {\n      return chr.toUpperCase();\n   });\n}\n\nexport function asStringArray<T>(source: T | T[]): string[] {\n   return asArray(source).map((item) => {\n      return item instanceof String ? (item as string) : String(item);\n   });\n}\n\nexport function asNumber(source: string | null | undefined, onNaN = 0) {\n   if (source == null) {\n      return onNaN;\n   }\n\n   const num = parseInt(source, 10);\n   return Number.isNaN(num) ? onNaN : num;\n}\n\nexport function prefixedArray<T>(input: T[], prefix: T): T[] {\n   const output: T[] = [];\n   for (let i = 0, max = input.length; i < max; i++) {\n      output.push(prefix, input[i]);\n   }\n   return output;\n}\n\nexport function bufferToString(input: Buffer | Buffer[]): string {\n   return (Array.isArray(input) ? Buffer.concat(input) : input).toString('utf-8');\n}\n\n/**\n * Get a new object from a source object with only the listed properties.\n */\nexport function pick<T, K extends keyof T>(source: T, properties: readonly K[]) {\n   const out: Partial<Pick<T, K>> = {};\n\n   properties.forEach((key) => {\n      if (source[key] !== undefined) {\n         out[key] = source[key];\n      }\n   });\n\n   return out;\n}\n\nexport function delay(duration = 0): Promise<void> {\n   return new Promise((done) => setTimeout(done, duration));\n}\n\nexport function orVoid<T>(input: T | false) {\n   if (input === false) {\n      return undefined;\n   }\n   return input;\n}\n", "import { isPathSpec } from '../args/pathspec';\nimport type { Maybe, Options, Primitives } from '../types';\nimport { objectToString } from './util';\n\nexport type ArgumentFilterPredicate<T> = (input: T | unknown) => input is T;\n\nexport function filterType<T, K>(\n   input: K,\n   filter: ArgumentFilterPredicate<T>\n): K extends T ? T : undefined;\nexport function filterType<T, K>(input: K, filter: ArgumentFilterPredicate<T>, def: T): T;\nexport function filterType<T, K>(input: K, filter: ArgumentFilterPredicate<T>, def?: T): Maybe<T> {\n   if (filter(input)) {\n      return input;\n   }\n   return arguments.length > 2 ? def : undefined;\n}\n\nexport const filterArray: ArgumentFilterPredicate<Array<unknown>> = (\n   input\n): input is Array<unknown> => {\n   return Array.isArray(input);\n};\n\nexport function filterPrimitives(\n   input: unknown,\n   omit?: Array<'boolean' | 'string' | 'number'>\n): input is Primitives {\n   const type = isPathSpec(input) ? 'string' : typeof input;\n\n   return (\n      /number|string|boolean/.test(type) &&\n      (!omit || !omit.includes(type as 'boolean' | 'string' | 'number'))\n   );\n}\n\nexport const filterNumber: ArgumentFilterPredicate<number> = (input: unknown): input is number => {\n   return typeof input === 'number';\n};\n\nexport const filterString: ArgumentFilterPredicate<string> = (input: unknown): input is string => {\n   return typeof input === 'string';\n};\n\nexport const filterStringOrStringArray: ArgumentFilterPredicate<string | string[]> = (\n   input\n): input is string | string[] => {\n   return filterString(input) || (Array.isArray(input) && input.every(filterString));\n};\n\nexport function filterPlainObject<T extends Options>(input: T | unknown): input is T;\nexport function filterPlainObject<T extends Record<string, unknown>>(\n   input: T | unknown\n): input is T {\n   return !!input && objectToString(input) === '[object Object]';\n}\n\nexport function filterFunction(input: unknown): input is (...args: unknown[]) => unknown {\n   return typeof input === 'function';\n}\n\nexport const filterHasLength: ArgumentFilterPredicate<{ length: number }> = (\n   input\n): input is { length: number } => {\n   if (input == null || 'number|boolean|function'.includes(typeof input)) {\n      return false;\n   }\n\n   return typeof (input as { length?: number }).length === 'number';\n};\n", "/**\n * Known process exit codes used by the task parsers to determine whether an error\n * was one they can automatically handle\n */\nexport enum ExitCodes {\n   SUCCESS,\n   ERROR,\n   NOT_FOUND = -2,\n   UNCLEAN = 128,\n}\n", "import { TaskResponseFormat } from '../types';\n\nexport class GitOutputStreams<T extends TaskResponseFormat = Buffer> {\n   constructor(\n      public readonly stdOut: T,\n      public readonly stdErr: T\n   ) {}\n\n   asStrings(): GitOutputStreams<string> {\n      return new GitOutputStreams(this.stdOut.toString('utf8'), this.stdErr.toString('utf8'));\n   }\n}\n", "function useMatchesDefault() {\n   throw new Error(`LineParser:useMatches not implemented`);\n}\n\nexport class LineParser<T> {\n   protected matches: string[] = [];\n   protected useMatches: (target: T, match: string[]) => boolean | void = useMatchesDefault;\n\n   private _regExp: RegExp[];\n\n   constructor(\n      regExp: RegExp | RegExp[],\n      useMatches?: (target: T, match: string[]) => boolean | void\n   ) {\n      this._regExp = Array.isArray(regExp) ? regExp : [regExp];\n      if (useMatches) {\n         this.useMatches = useMatches;\n      }\n   }\n\n   parse = (line: (offset: number) => string | undefined, target: T): boolean => {\n      this.resetMatches();\n\n      if (!this._regExp.every((reg, index) => this.addMatch(reg, index, line(index)))) {\n         return false;\n      }\n\n      return this.useMatches(target, this.prepareMatches()) !== false;\n   };\n\n   protected resetMatches() {\n      this.matches.length = 0;\n   }\n\n   protected prepareMatches() {\n      return this.matches;\n   }\n\n   protected addMatch(reg: RegExp, index: number, line?: string) {\n      const matched = line && reg.exec(line);\n      if (matched) {\n         this.pushMatch(index, matched);\n      }\n\n      return !!matched;\n   }\n\n   protected pushMatch(_index: number, matched: string[]) {\n      this.matches.push(...matched.slice(1));\n   }\n}\n\nexport class RemoteLineParser<T> extends LineParser<T> {\n   protected addMatch(reg: RegExp, index: number, line?: string): boolean {\n      return /^remote:\\s/.test(String(line)) && super.addMatch(reg, index, line);\n   }\n\n   protected pushMatch(index: number, matched: string[]) {\n      if (index > 0 || matched.length > 1) {\n         super.pushMatch(index, matched);\n      }\n   }\n}\n", "import { SimpleGitOptions } from '../types';\n\nconst defaultOptions: Omit<SimpleGitOptions, 'baseDir'> = {\n   binary: 'git',\n   maxConcurrentProcesses: 5,\n   config: [],\n   trimmed: false,\n};\n\nexport function createInstanceConfig(\n   ...options: Array<Partial<SimpleGitOptions> | undefined>\n): SimpleGitOptions {\n   const baseDir = process.cwd();\n   const config: SimpleGitOptions = Object.assign(\n      { baseDir, ...defaultOptions },\n      ...options.filter((o) => typeof o === 'object' && o)\n   );\n\n   config.baseDir = config.baseDir || baseDir;\n   config.trimmed = config.trimmed === true;\n\n   return config;\n}\n", "import {\n   filterArray,\n   filterFunction,\n   filterPlainObject,\n   filterPrimitives,\n   filterType,\n} from './argument-filters';\nimport { asFunction, asStringArray, isUserFunction, last } from './util';\nimport { Maybe, Options } from '../types';\nimport { isPathSpec } from '../args/pathspec';\n\nexport function appendTaskOptions<T extends Options = Options>(\n   options: Maybe<T>,\n   commands: string[] = []\n): string[] {\n   if (!filterPlainObject<Options>(options)) {\n      return commands;\n   }\n\n   return Object.keys(options).reduce((commands: string[], key: string) => {\n      const value = options[key];\n\n      if (isPathSpec(value)) {\n         commands.push(value);\n      } else if (filterPrimitives(value, ['boolean'])) {\n         commands.push(key + '=' + value);\n      } else if (Array.isArray(value)) {\n         for (const v of value) {\n            if (!filterPrimitives(v, ['string', 'number'])) {\n               commands.push(key + '=' + v);\n            }\n         }\n      } else {\n         commands.push(key);\n      }\n\n      return commands;\n   }, commands);\n}\n\nexport function getTrailingOptions(\n   args: IArguments,\n   initialPrimitive = 0,\n   objectOnly = false\n): string[] {\n   const command: string[] = [];\n\n   for (let i = 0, max = initialPrimitive < 0 ? args.length : initialPrimitive; i < max; i++) {\n      if ('string|number'.includes(typeof args[i])) {\n         command.push(String(args[i]));\n      }\n   }\n\n   appendTaskOptions(trailingOptionsArgument(args), command);\n   if (!objectOnly) {\n      command.push(...trailingArrayArgument(args));\n   }\n\n   return command;\n}\n\nfunction trailingArrayArgument(args: IArguments) {\n   const hasTrailingCallback = typeof last(args) === 'function';\n   return asStringArray(filterType(last(args, hasTrailingCallback ? 1 : 0), filterArray, []));\n}\n\n/**\n * Given any number of arguments, returns the trailing options argument, ignoring a trailing function argument\n * if there is one. When not found, the return value is null.\n */\nexport function trailingOptionsArgument(args: IArguments): Maybe<Options> {\n   const hasTrailingCallback = filterFunction(last(args));\n   return filterType(last(args, hasTrailingCallback ? 1 : 0), filterPlainObject);\n}\n\n/**\n * Returns either the source argument when it is a `Function`, or the default\n * `NOOP` function constant\n */\nexport function trailingFunctionArgument(\n   args: unknown[] | IArguments | unknown,\n   includeNoop = true\n): Maybe<(...args: unknown[]) => unknown> {\n   const callback = asFunction(last(args));\n   return includeNoop || isUserFunction(callback) ? callback : undefined;\n}\n", "import type { MaybeArray, TaskParser, TaskResponseFormat } from '../types';\nimport { GitOutputStreams } from './git-output-streams';\nimport { LineParser } from './line-parser';\nimport { asArray, toLinesWithContent } from './util';\n\nexport function callTaskParser<INPUT extends TaskResponseFormat, RESPONSE>(\n   parser: TaskParser<INPUT, RESPONSE>,\n   streams: GitOutputStreams<INPUT>\n) {\n   return parser(streams.stdOut, streams.stdErr);\n}\n\nexport function parseStringResponse<T>(\n   result: T,\n   parsers: LineParser<T>[],\n   texts: MaybeArray<string>,\n   trim = true\n): T {\n   asArray(texts).forEach((text) => {\n      for (let lines = toLinesWithContent(text, trim), i = 0, max = lines.length; i < max; i++) {\n         const line = (offset = 0) => {\n            if (i + offset >= max) {\n               return;\n            }\n            return lines[i + offset];\n         };\n\n         parsers.some(({ parse }) => parse(line, result));\n      }\n   });\n\n   return result;\n}\n", "export * from './argument-filters';\nexport * from './exit-codes';\nexport * from './git-output-streams';\nexport * from './line-parser';\nexport * from './simple-git-options';\nexport * from './task-options';\nexport * from './task-parser';\nexport * from './util';\n", "import { ExitCodes } from '../utils';\nimport { Maybe, StringTask } from '../types';\n\nexport enum CheckRepoActions {\n   BARE = 'bare',\n   IN_TREE = 'tree',\n   IS_REPO_ROOT = 'root',\n}\n\nconst onError: StringTask<boolean>['onError'] = ({ exitCode }, error, done, fail) => {\n   if (exitCode === ExitCodes.UNCLEAN && isNotRepoMessage(error)) {\n      return done(Buffer.from('false'));\n   }\n\n   fail(error);\n};\n\nconst parser: StringTask<boolean>['parser'] = (text) => {\n   return text.trim() === 'true';\n};\n\nexport function checkIsRepoTask(action: Maybe<CheckRepoActions>): StringTask<boolean> {\n   switch (action) {\n      case CheckRepoActions.BARE:\n         return checkIsBareRepoTask();\n      case CheckRepoActions.IS_REPO_ROOT:\n         return checkIsRepoRootTask();\n   }\n\n   const commands = ['rev-parse', '--is-inside-work-tree'];\n\n   return {\n      commands,\n      format: 'utf-8',\n      onError,\n      parser,\n   };\n}\n\nexport function checkIsRepoRootTask(): StringTask<boolean> {\n   const commands = ['rev-parse', '--git-dir'];\n\n   return {\n      commands,\n      format: 'utf-8',\n      onError,\n      parser(path) {\n         return /^\\.(git)?$/.test(path.trim());\n      },\n   };\n}\n\nexport function checkIsBareRepoTask(): StringTask<boolean> {\n   const commands = ['rev-parse', '--is-bare-repository'];\n\n   return {\n      commands,\n      format: 'utf-8',\n      onError,\n      parser,\n   };\n}\n\nfunction isNotRepoMessage(error: Error): boolean {\n   return /(Not a git repository|Kein Git-Repository)/i.test(String(error));\n}\n", "import { CleanSummary } from '../../../typings';\nimport { toLinesWithContent } from '../utils';\n\nexport class CleanResponse implements CleanSummary {\n   public paths: string[] = [];\n   public files: string[] = [];\n   public folders: string[] = [];\n\n   constructor(public readonly dryRun: boolean) {}\n}\n\nconst removalRegexp = /^[a-z]+\\s*/i;\nconst dryRunRemovalRegexp = /^[a-z]+\\s+[a-z]+\\s*/i;\nconst isFolderRegexp = /\\/$/;\n\nexport function cleanSummaryParser(dryRun: boolean, text: string): CleanSummary {\n   const summary = new CleanResponse(dryRun);\n   const regexp = dryRun ? dryRunRemovalRegexp : removalRegexp;\n\n   toLinesWithContent(text).forEach((line) => {\n      const removed = line.replace(regexp, '');\n\n      summary.paths.push(removed);\n      (isFolderRegexp.test(removed) ? summary.folders : summary.files).push(removed);\n   });\n\n   return summary;\n}\n", "import { TaskConfigurationError } from '../errors/task-configuration-error';\nimport type { BufferTask, EmptyTaskParser, SimpleGitTask, StringTask } from '../types';\n\nexport const EMPTY_COMMANDS: [] = [];\n\nexport type EmptyTask = {\n   commands: typeof EMPTY_COMMANDS;\n   format: 'empty';\n   parser: EmptyTaskParser;\n   onError?: undefined;\n};\n\nexport function adhocExecTask(parser: EmptyTaskParser): EmptyTask {\n   return {\n      commands: EMPTY_COMMANDS,\n      format: 'empty',\n      parser,\n   };\n}\n\nexport function configurationErrorTask(error: Error | string): EmptyTask {\n   return {\n      commands: EMPTY_COMMANDS,\n      format: 'empty',\n      parser() {\n         throw typeof error === 'string' ? new TaskConfigurationError(error) : error;\n      },\n   };\n}\n\nexport function straightThroughStringTask(commands: string[], trimmed = false): StringTask<string> {\n   return {\n      commands,\n      format: 'utf-8',\n      parser(text) {\n         return trimmed ? String(text).trim() : text;\n      },\n   };\n}\n\nexport function straightThroughBufferTask(commands: string[]): BufferTask<Buffer> {\n   return {\n      commands,\n      format: 'buffer',\n      parser(buffer) {\n         return buffer;\n      },\n   };\n}\n\nexport function isBufferTask<R>(task: SimpleGitTask<R>): task is BufferTask<R> {\n   return task.format === 'buffer';\n}\n\nexport function isEmptyTask<R>(task: SimpleGitTask<R>): task is EmptyTask {\n   return task.format === 'empty' || !task.commands.length;\n}\n", "import { CleanSummary } from '../../../typings';\nimport { cleanSummaryParser } from '../responses/CleanSummary';\nimport { Maybe, StringTask } from '../types';\nimport { asStringArray } from '../utils';\nimport { configurationErrorTask } from './task';\n\nexport const CONFIG_ERROR_INTERACTIVE_MODE = 'Git clean interactive mode is not supported';\nexport const CONFIG_ERROR_MODE_REQUIRED = 'Git clean mode parameter (\"n\" or \"f\") is required';\nexport const CONFIG_ERROR_UNKNOWN_OPTION = 'Git clean unknown option found in: ';\n\n/**\n * All supported option switches available for use in a `git.clean` operation\n */\nexport enum CleanOptions {\n   DRY_RUN = 'n',\n   FORCE = 'f',\n   IGNORED_INCLUDED = 'x',\n   IGNORED_ONLY = 'X',\n   EXCLUDING = 'e',\n   QUIET = 'q',\n   RECURSIVE = 'd',\n}\n\n/**\n * The two modes `git.clean` can run in - one of these must be supplied in order\n * for the command to not throw a `TaskConfigurationError`\n */\nexport type CleanMode = CleanOptions.FORCE | CleanOptions.DRY_RUN;\n\nconst CleanOptionValues: Set<string> = new Set([\n   'i',\n   ...asStringArray(Object.values(CleanOptions as any)),\n]);\n\nexport function cleanWithOptionsTask(mode: CleanMode | string, customArgs: string[]) {\n   const { cleanMode, options, valid } = getCleanOptions(mode);\n\n   if (!cleanMode) {\n      return configurationErrorTask(CONFIG_ERROR_MODE_REQUIRED);\n   }\n\n   if (!valid.options) {\n      return configurationErrorTask(CONFIG_ERROR_UNKNOWN_OPTION + JSON.stringify(mode));\n   }\n\n   options.push(...customArgs);\n\n   if (options.some(isInteractiveMode)) {\n      return configurationErrorTask(CONFIG_ERROR_INTERACTIVE_MODE);\n   }\n\n   return cleanTask(cleanMode, options);\n}\n\nexport function cleanTask(mode: CleanMode, customArgs: string[]): StringTask<CleanSummary> {\n   const commands: string[] = ['clean', `-${mode}`, ...customArgs];\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser(text: string): CleanSummary {\n         return cleanSummaryParser(mode === CleanOptions.DRY_RUN, text);\n      },\n   };\n}\n\nexport function isCleanOptionsArray(input: string[]): input is CleanOptions[] {\n   return Array.isArray(input) && input.every((test) => CleanOptionValues.has(test));\n}\n\nfunction getCleanOptions(input: string) {\n   let cleanMode: Maybe<CleanMode>;\n   let options: string[] = [];\n   let valid = { cleanMode: false, options: true };\n\n   input\n      .replace(/[^a-z]i/g, '')\n      .split('')\n      .forEach((char) => {\n         if (isCleanMode(char)) {\n            cleanMode = char;\n            valid.cleanMode = true;\n         } else {\n            valid.options = valid.options && isKnownOption((options[options.length] = `-${char}`));\n         }\n      });\n\n   return {\n      cleanMode,\n      options,\n      valid,\n   };\n}\n\nfunction isCleanMode(cleanMode?: string): cleanMode is CleanMode {\n   return cleanMode === CleanOptions.FORCE || cleanMode === CleanOptions.DRY_RUN;\n}\n\nfunction isKnownOption(option: string): boolean {\n   return /^-[a-z]$/i.test(option) && CleanOptionValues.has(option.charAt(1));\n}\n\nfunction isInteractiveMode(option: string): boolean {\n   if (/^-[^\\-]/.test(option)) {\n      return option.indexOf('i') > 0;\n   }\n\n   return option === '--interactive';\n}\n", "import { ConfigGetResult, ConfigListSummary, ConfigValues } from '../../../typings';\nimport { last, splitOn } from '../utils';\n\nexport class ConfigList implements ConfigListSummary {\n   public files: string[] = [];\n   public values: { [fileName: string]: ConfigValues } = Object.create(null);\n\n   private _all: ConfigValues | undefined;\n\n   public get all(): ConfigValues {\n      if (!this._all) {\n         this._all = this.files.reduce((all: ConfigValues, file: string) => {\n            return Object.assign(all, this.values[file]);\n         }, {});\n      }\n\n      return this._all;\n   }\n\n   public addFile(file: string): ConfigValues {\n      if (!(file in this.values)) {\n         const latest = last(this.files);\n         this.values[file] = latest ? Object.create(this.values[latest]) : {};\n\n         this.files.push(file);\n      }\n\n      return this.values[file];\n   }\n\n   public addValue(file: string, key: string, value: string) {\n      const values = this.addFile(file);\n\n      if (!Object.hasOwn(values, key)) {\n         values[key] = value;\n      } else if (Array.isArray(values[key])) {\n         (values[key] as string[]).push(value);\n      } else {\n         values[key] = [values[key] as string, value];\n      }\n\n      this._all = undefined;\n   }\n}\n\nexport function configListParser(text: string): ConfigList {\n   const config = new ConfigList();\n\n   for (const item of configParser(text)) {\n      config.addValue(item.file, String(item.key), item.value);\n   }\n\n   return config;\n}\n\nexport function configGetParser(text: string, key: string): ConfigGetResult {\n   let value: string | null = null;\n   const values: string[] = [];\n   const scopes: Map<string, string[]> = new Map();\n\n   for (const item of configParser(text, key)) {\n      if (item.key !== key) {\n         continue;\n      }\n\n      values.push((value = item.value));\n\n      if (!scopes.has(item.file)) {\n         scopes.set(item.file, []);\n      }\n\n      scopes.get(item.file)!.push(value);\n   }\n\n   return {\n      key,\n      paths: Array.from(scopes.keys()),\n      scopes,\n      value,\n      values,\n   };\n}\n\nfunction configFilePath(filePath: string): string {\n   return filePath.replace(/^(file):/, '');\n}\n\nfunction* configParser(text: string, requestedKey: string | null = null) {\n   const lines = text.split('\\0');\n\n   for (let i = 0, max = lines.length - 1; i < max; ) {\n      const file = configFilePath(lines[i++]);\n\n      let value = lines[i++];\n      let key = requestedKey;\n\n      if (value.includes('\\n')) {\n         const line = splitOn(value, '\\n');\n         key = line[0];\n         value = line[1];\n      }\n\n      yield { file, key, value };\n   }\n}\n", "import type { ConfigGetResult, ConfigListSummary, SimpleGit } from '../../../typings';\nimport { configGetParser, configListParser } from '../responses/ConfigList';\nimport type { SimpleGitApi } from '../simple-git-api';\nimport type { StringTask } from '../types';\nimport { trailingFunctionArgument } from '../utils';\n\nexport enum GitConfigScope {\n   system = 'system',\n   global = 'global',\n   local = 'local',\n   worktree = 'worktree',\n}\n\nfunction asConfigScope<T extends GitConfigScope | undefined>(\n   scope: GitConfigScope | unknown,\n   fallback: T\n): GitConfigScope | T {\n   if (typeof scope === 'string' && Object.hasOwn(GitConfigScope, scope)) {\n      return scope as GitConfigScope;\n   }\n   return fallback;\n}\n\nfunction addConfigTask(\n   key: string,\n   value: string,\n   append: boolean,\n   scope: GitConfigScope\n): StringTask<string> {\n   const commands: string[] = ['config', `--${scope}`];\n\n   if (append) {\n      commands.push('--add');\n   }\n\n   commands.push(key, value);\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser(text: string): string {\n         return text;\n      },\n   };\n}\n\nfunction getConfigTask(key: string, scope?: GitConfigScope): StringTask<ConfigGetResult> {\n   const commands: string[] = ['config', '--null', '--show-origin', '--get-all', key];\n\n   if (scope) {\n      commands.splice(1, 0, `--${scope}`);\n   }\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser(text) {\n         return configGetParser(text, key);\n      },\n   };\n}\n\nfunction listConfigTask(scope?: GitConfigScope): StringTask<ConfigListSummary> {\n   const commands = ['config', '--list', '--show-origin', '--null'];\n\n   if (scope) {\n      commands.push(`--${scope}`);\n   }\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser(text: string) {\n         return configListParser(text);\n      },\n   };\n}\n\nexport default function (): Pick<SimpleGit, 'addConfig' | 'getConfig' | 'listConfig'> {\n   return {\n      addConfig(this: SimpleGitApi, key: string, value: string, ...rest: unknown[]) {\n         return this._runTask(\n            addConfigTask(\n               key,\n               value,\n               rest[0] === true,\n               asConfigScope(rest[1], GitConfigScope.local)\n            ),\n            trailingFunctionArgument(arguments)\n         );\n      },\n\n      getConfig(this: SimpleGitApi, key: string, scope?: GitConfigScope) {\n         return this._runTask(\n            getConfigTask(key, asConfigScope(scope, undefined)),\n            trailingFunctionArgument(arguments)\n         );\n      },\n\n      listConfig(this: SimpleGitApi, ...rest: unknown[]) {\n         return this._runTask(\n            listConfigTask(asConfigScope(rest[0], undefined)),\n            trailingFunctionArgument(arguments)\n         );\n      },\n   };\n}\n", "export enum DiffNameStatus {\n   ADDED = 'A',\n   COPIED = 'C',\n   DELETED = 'D',\n   MODIFIED = 'M',\n   RENAMED = 'R',\n   CHANGED = 'T',\n   UNMERGED = 'U',\n   UNKNOWN = 'X',\n   BROKEN = 'B',\n}\n\nconst diffNameStatus = new Set(Object.values(DiffNameStatus));\n\nexport function isDiffNameStatus(input: string): input is DiffNameStatus {\n   return diffNameStatus.has(input as DiffNameStatus);\n}\n", "import { GrepResult, SimpleGit } from '../../../typings';\nimport { SimpleGitApi } from '../simple-git-api';\nimport {\n   asNumber,\n   forEachLineWithContent,\n   getTrailingOptions,\n   NULL,\n   prefixedArray,\n   trailingFunctionArgument,\n} from '../utils';\n\nimport { configurationErrorTask } from './task';\n\nconst disallowedOptions = ['-h'];\n\nconst Query = Symbol('grepQuery');\n\nexport interface GitGrepQuery extends Iterable<string> {\n   /** Adds one or more terms to be grouped as an \"and\" to any other terms */\n   and(...and: string[]): this;\n\n   /** Adds one or more search terms - git.grep will \"or\" this to other terms */\n   param(...param: string[]): this;\n}\n\nclass GrepQuery implements GitGrepQuery {\n   private [Query]: string[] = [];\n\n   *[Symbol.iterator]() {\n      for (const query of this[Query]) {\n         yield query;\n      }\n   }\n\n   and(...and: string[]) {\n      and.length && this[Query].push('--and', '(', ...prefixedArray(and, '-e'), ')');\n      return this;\n   }\n\n   param(...param: string[]) {\n      this[Query].push(...prefixedArray(param, '-e'));\n      return this;\n   }\n}\n\n/**\n * Creates a new builder for a `git.grep` query with optional params\n */\nexport function grepQueryBuilder(...params: string[]): GitGrepQuery {\n   return new GrepQuery().param(...params);\n}\n\nfunction parseGrep(grep: string): GrepResult {\n   const paths: GrepResult['paths'] = new Set<string>();\n   const results: GrepResult['results'] = {};\n\n   forEachLineWithContent(grep, (input) => {\n      const [path, line, preview] = input.split(NULL);\n      paths.add(path);\n      (results[path] = results[path] || []).push({\n         line: asNumber(line),\n         path,\n         preview,\n      });\n   });\n\n   return {\n      paths,\n      results,\n   };\n}\n\nexport default function (): Pick<SimpleGit, 'grep'> {\n   return {\n      grep(this: SimpleGitApi, searchTerm: string | GitGrepQuery) {\n         const then = trailingFunctionArgument(arguments);\n         const options = getTrailingOptions(arguments);\n\n         for (const option of disallowedOptions) {\n            if (options.includes(option)) {\n               return this._runTask(\n                  configurationErrorTask(`git.grep: use of \"${option}\" is not supported.`),\n                  then\n               );\n            }\n         }\n\n         if (typeof searchTerm === 'string') {\n            searchTerm = grepQueryBuilder().param(searchTerm);\n         }\n\n         const commands = ['grep', '--null', '-n', '--full-name', ...options, ...searchTerm];\n\n         return this._runTask(\n            {\n               commands,\n               format: 'utf-8',\n               parser(stdOut) {\n                  return parseGrep(stdOut);\n               },\n            },\n            then\n         );\n      },\n   };\n}\n", "import type { Maybe, OptionFlags, Options } from '../types';\nimport { asStringArray } from '../utils';\nimport { straightThroughStringTask } from './task';\n\nexport enum ResetMode {\n   MIXED = 'mixed',\n   SOFT = 'soft',\n   HARD = 'hard',\n   MERGE = 'merge',\n   KEEP = 'keep',\n}\n\nconst validResetModes = asStringArray(Object.values(ResetMode));\n\nexport type ResetOptions = Options &\n   OptionFlags<'-q' | '--quiet' | '--no-quiet' | '--pathspec-from-nul'> &\n   OptionFlags<'--pathspec-from-file', string>;\n\nexport function resetTask(mode: Maybe<ResetMode>, customArgs: string[]) {\n   const commands: string[] = ['reset'];\n   if (isValidResetMode(mode)) {\n      commands.push(`--${mode}`);\n   }\n   commands.push(...customArgs);\n\n   return straightThroughStringTask(commands);\n}\n\nexport function getResetMode(mode: ResetMode | unknown): Maybe<ResetMode> {\n   if (isValidResetMode(mode)) {\n      return mode;\n   }\n\n   switch (typeof mode) {\n      case 'string':\n      case 'undefined':\n         return ResetMode.SOFT;\n   }\n\n   return;\n}\n\nfunction isValidResetMode(mode: ResetMode | unknown): mode is ResetMode {\n   return typeof mode === 'string' && validResetModes.includes(mode);\n}\n", "import debug, { Debugger } from 'debug';\nimport {\n   append,\n   filterHasLength,\n   filterString,\n   filterType,\n   NOOP,\n   objectToString,\n   remove,\n} from './utils';\nimport { Maybe } from './types';\n\ndebug.formatters.L = (value: any) => String(filterHasLength(value) ? value.length : '-');\ndebug.formatters.B = (value: Buffer) => {\n   if (Buffer.isBuffer(value)) {\n      return value.toString('utf8');\n   }\n   return objectToString(value);\n};\n\ntype OutputLoggingHandler = (message: string, ...args: any[]) => void;\n\nfunction createLog() {\n   return debug('simple-git');\n}\n\nexport interface OutputLogger extends OutputLoggingHandler {\n   readonly label: string;\n\n   info: OutputLoggingHandler;\n   step(nextStep?: string): OutputLogger;\n   sibling(name: string): OutputLogger;\n}\n\nfunction prefixedLogger(\n   to: Debugger,\n   prefix: string,\n   forward?: OutputLoggingHandler\n): OutputLoggingHandler {\n   if (!prefix || !String(prefix).replace(/\\s*/, '')) {\n      return !forward\n         ? to\n         : (message, ...args) => {\n              to(message, ...args);\n              forward(message, ...args);\n           };\n   }\n\n   return (message, ...args) => {\n      to(`%s ${message}`, prefix, ...args);\n      if (forward) {\n         forward(message, ...args);\n      }\n   };\n}\n\nfunction childLoggerName(\n   name: Maybe<string>,\n   childDebugger: Maybe<Debugger>,\n   { namespace: parentNamespace }: Debugger\n): string {\n   if (typeof name === 'string') {\n      return name;\n   }\n   const childNamespace = (childDebugger && childDebugger.namespace) || '';\n\n   if (childNamespace.startsWith(parentNamespace)) {\n      return childNamespace.substr(parentNamespace.length + 1);\n   }\n\n   return childNamespace || parentNamespace;\n}\n\nexport function createLogger(\n   label: string,\n   verbose?: string | Debugger,\n   initialStep?: string,\n   infoDebugger = createLog()\n): OutputLogger {\n   const labelPrefix = (label && `[${label}]`) || '';\n\n   const spawned: OutputLogger[] = [];\n   const debugDebugger: Maybe<Debugger> =\n      typeof verbose === 'string' ? infoDebugger.extend(verbose) : verbose;\n   const key = childLoggerName(filterType(verbose, filterString), debugDebugger, infoDebugger);\n\n   return step(initialStep);\n\n   function sibling(name: string, initial?: string) {\n      return append(\n         spawned,\n         createLogger(label, key.replace(/^[^:]+/, name), initial, infoDebugger)\n      );\n   }\n\n   function step(phase?: string) {\n      const stepPrefix = (phase && `[${phase}]`) || '';\n      const debug = (debugDebugger && prefixedLogger(debugDebugger, stepPrefix)) || NOOP;\n      const info = prefixedLogger(infoDebugger, `${labelPrefix} ${stepPrefix}`, debug);\n\n      return Object.assign(debugDebugger ? debug : info, {\n         label,\n         sibling,\n         info,\n         step,\n      });\n   }\n}\n\n/**\n * The `GitLogger` is used by the main `SimpleGit` runner to handle logging\n * any warnings or errors.\n */\nexport class GitLogger {\n   public error: OutputLoggingHandler;\n\n   public warn: OutputLoggingHandler;\n\n   constructor(private _out: Debugger = createLog()) {\n      this.error = prefixedLogger(_out, '[ERROR]');\n      this.warn = prefixedLogger(_out, '[WARN]');\n   }\n\n   silent(silence = false) {\n      if (silence !== this._out.enabled) {\n         return;\n      }\n\n      const { namespace } = this._out;\n      const env = (process.env.DEBUG || '').split(',').filter((s) => !!s);\n      const hasOn = env.includes(namespace);\n      const hasOff = env.includes(`-${namespace}`);\n\n      // enabling the log\n      if (!silence) {\n         if (hasOff) {\n            remove(env, `-${namespace}`);\n         } else {\n            env.push(namespace);\n         }\n      } else {\n         if (hasOn) {\n            remove(env, namespace);\n         } else {\n            env.push(`-${namespace}`);\n         }\n      }\n\n      debug.enable(env.join(','));\n   }\n}\n", "import { SimpleGitTask } from '../types';\nimport { GitError } from '../errors/git-error';\nimport { createLogger, OutputLogger } from '../git-logger';\n\ntype AnySimpleGitTask = SimpleGitTask<any>;\n\ntype TaskInProgress = {\n   name: string;\n   logger: OutputLogger;\n   task: AnySimpleGitTask;\n};\n\nexport class TasksPendingQueue {\n   private _queue: Map<AnySimpleGitTask, TaskInProgress> = new Map();\n\n   constructor(private logLabel = 'GitExecutor') {}\n\n   private withProgress(task: AnySimpleGitTask) {\n      return this._queue.get(task);\n   }\n\n   private createProgress(task: AnySimpleGitTask): TaskInProgress {\n      const name = TasksPendingQueue.getName(task.commands[0]);\n      const logger = createLogger(this.logLabel, name);\n\n      return {\n         task,\n         logger,\n         name,\n      };\n   }\n\n   push(task: AnySimpleGitTask): TaskInProgress {\n      const progress = this.createProgress(task);\n      progress.logger('Adding task to the queue, commands = %o', task.commands);\n\n      this._queue.set(task, progress);\n\n      return progress;\n   }\n\n   fatal(err: GitError) {\n      for (const [task, { logger }] of Array.from(this._queue.entries())) {\n         if (task === err.task) {\n            logger.info(`Failed %o`, err);\n            logger(\n               `Fatal exception, any as-yet un-started tasks run through this executor will not be attempted`\n            );\n         } else {\n            logger.info(\n               `A fatal exception occurred in a previous task, the queue has been purged: %o`,\n               err.message\n            );\n         }\n\n         this.complete(task);\n      }\n\n      if (this._queue.size !== 0) {\n         throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`);\n      }\n   }\n\n   complete(task: AnySimpleGitTask) {\n      const progress = this.withProgress(task);\n      if (progress) {\n         this._queue.delete(task);\n      }\n   }\n\n   attempt(task: AnySimpleGitTask): TaskInProgress {\n      const progress = this.withProgress(task);\n      if (!progress) {\n         throw new GitError(undefined, 'TasksPendingQueue: attempt called for an unknown task');\n      }\n      progress.logger('Starting task');\n\n      return progress;\n   }\n\n   static getName(name = 'empty') {\n      return `task:${name}:${++TasksPendingQueue.counter}`;\n   }\n\n   private static counter = 0;\n}\n", "import { spawn, SpawnOptions } from 'child_process';\nimport { GitError } from '../errors/git-error';\nimport { OutputLogger } from '../git-logger';\nimport { PluginStore } from '../plugins';\nimport { EmptyTask, isBufferTask, isEmptyTask } from '../tasks/task';\nimport {\n   GitExecutorResult,\n   Maybe,\n   outputHandler,\n   RunnableTask,\n   SimpleGitExecutor,\n   SimpleGitTask,\n} from '../types';\nimport { callTaskParser, first, GitOutputStreams, objectToString } from '../utils';\nimport { Scheduler } from './scheduler';\nimport { TasksPendingQueue } from './tasks-pending-queue';\n\nexport class GitExecutorChain implements SimpleGitExecutor {\n   private _chain: Promise<any> = Promise.resolve();\n   private _queue = new TasksPendingQueue();\n   private _cwd: string | undefined;\n\n   public get cwd() {\n      return this._cwd || this._executor.cwd;\n   }\n\n   public set cwd(cwd: string) {\n      this._cwd = cwd;\n   }\n\n   public get env() {\n      return this._executor.env;\n   }\n\n   public get outputHandler() {\n      return this._executor.outputHandler;\n   }\n\n   constructor(\n      private _executor: SimpleGitExecutor,\n      private _scheduler: Scheduler,\n      private _plugins: PluginStore\n   ) {}\n\n   public chain() {\n      return this;\n   }\n\n   public push<R>(task: SimpleGitTask<R>): Promise<R> {\n      this._queue.push(task);\n\n      return (this._chain = this._chain.then(() => this.attemptTask(task)));\n   }\n\n   private async attemptTask<R>(task: SimpleGitTask<R>): Promise<void | R> {\n      const onScheduleComplete = await this._scheduler.next();\n      const onQueueComplete = () => this._queue.complete(task);\n\n      try {\n         const { logger } = this._queue.attempt(task);\n         return (await (isEmptyTask(task)\n            ? this.attemptEmptyTask(task, logger)\n            : this.attemptRemoteTask(task, logger))) as R;\n      } catch (e) {\n         throw this.onFatalException(task, e as Error);\n      } finally {\n         onQueueComplete();\n         onScheduleComplete();\n      }\n   }\n\n   private onFatalException<R>(task: SimpleGitTask<R>, e: Error) {\n      const gitError =\n         e instanceof GitError ? Object.assign(e, { task }) : new GitError(task, e && String(e));\n\n      this._chain = Promise.resolve();\n      this._queue.fatal(gitError);\n\n      return gitError;\n   }\n\n   private async attemptRemoteTask<R>(task: RunnableTask<R>, logger: OutputLogger) {\n      const binary = this._plugins.exec('spawn.binary', '', pluginContext(task, task.commands));\n      const args = this._plugins.exec(\n         'spawn.args',\n         [...task.commands],\n         pluginContext(task, task.commands)\n      );\n\n      const raw = await this.gitResponse(\n         task,\n         binary,\n         args,\n         this.outputHandler,\n         logger.step('SPAWN')\n      );\n      const outputStreams = await this.handleTaskData(task, args, raw, logger.step('HANDLE'));\n\n      logger(`passing response to task's parser as a %s`, task.format);\n\n      if (isBufferTask(task)) {\n         return callTaskParser(task.parser, outputStreams);\n      }\n\n      return callTaskParser(task.parser, outputStreams.asStrings());\n   }\n\n   private async attemptEmptyTask(task: EmptyTask, logger: OutputLogger) {\n      logger(`empty task bypassing child process to call to task's parser`);\n      return task.parser(this);\n   }\n\n   private handleTaskData<R>(\n      task: SimpleGitTask<R>,\n      args: string[],\n      result: GitExecutorResult,\n      logger: OutputLogger\n   ): Promise<GitOutputStreams> {\n      const { exitCode, rejection, stdOut, stdErr } = result;\n\n      return new Promise((done, fail) => {\n         logger(`Preparing to handle process response exitCode=%d stdOut=`, exitCode);\n\n         const { error } = this._plugins.exec(\n            'task.error',\n            { error: rejection },\n            {\n               ...pluginContext(task, args),\n               ...result,\n            }\n         );\n\n         if (error && task.onError) {\n            logger.info(`exitCode=%s handling with custom error handler`);\n\n            return task.onError(\n               result,\n               error,\n               (newStdOut) => {\n                  logger.info(`custom error handler treated as success`);\n                  logger(`custom error returned a %s`, objectToString(newStdOut));\n\n                  done(\n                     new GitOutputStreams(\n                        Array.isArray(newStdOut) ? Buffer.concat(newStdOut) : newStdOut,\n                        Buffer.concat(stdErr)\n                     )\n                  );\n               },\n               fail\n            );\n         }\n\n         if (error) {\n            logger.info(\n               `handling as error: exitCode=%s stdErr=%s rejection=%o`,\n               exitCode,\n               stdErr.length,\n               rejection\n            );\n            return fail(error);\n         }\n\n         logger.info(`retrieving task output complete`);\n         done(new GitOutputStreams(Buffer.concat(stdOut), Buffer.concat(stdErr)));\n      });\n   }\n\n   private async gitResponse<R>(\n      task: SimpleGitTask<R>,\n      command: string,\n      args: string[],\n      outputHandler: Maybe<outputHandler>,\n      logger: OutputLogger\n   ): Promise<GitExecutorResult> {\n      const outputLogger = logger.sibling('output');\n      const spawnOptions: SpawnOptions = this._plugins.exec(\n         'spawn.options',\n         {\n            cwd: this.cwd,\n            env: this.env,\n            windowsHide: true,\n         },\n         pluginContext(task, task.commands)\n      );\n\n      return new Promise((done) => {\n         const stdOut: Buffer[] = [];\n         const stdErr: Buffer[] = [];\n\n         logger.info(`%s %o`, command, args);\n         logger('%O', spawnOptions);\n\n         let rejection = this._beforeSpawn(task, args);\n         if (rejection) {\n            return done({\n               stdOut,\n               stdErr,\n               exitCode: 9901,\n               rejection,\n            });\n         }\n\n         this._plugins.exec('spawn.before', undefined, {\n            ...pluginContext(task, args),\n            kill(reason) {\n               rejection = reason || rejection;\n            },\n         });\n\n         const spawned = spawn(command, args, spawnOptions);\n\n         spawned.stdout!.on(\n            'data',\n            onDataReceived(stdOut, 'stdOut', logger, outputLogger.step('stdOut'))\n         );\n         spawned.stderr!.on(\n            'data',\n            onDataReceived(stdErr, 'stdErr', logger, outputLogger.step('stdErr'))\n         );\n\n         spawned.on('error', onErrorReceived(stdErr, logger));\n\n         if (outputHandler) {\n            logger(`Passing child process stdOut/stdErr to custom outputHandler`);\n            outputHandler(command, spawned.stdout!, spawned.stderr!, [...args]);\n         }\n\n         this._plugins.exec('spawn.after', undefined, {\n            ...pluginContext(task, args),\n            spawned,\n            close(exitCode: number, reason?: Error) {\n               done({\n                  stdOut,\n                  stdErr,\n                  exitCode,\n                  rejection: rejection || reason,\n               });\n            },\n            kill(reason: Error) {\n               if (spawned.killed) {\n                  return;\n               }\n\n               rejection = reason;\n               spawned.kill('SIGINT');\n            },\n         });\n      });\n   }\n\n   private _beforeSpawn<R>(task: SimpleGitTask<R>, args: string[]) {\n      let rejection: Maybe<Error>;\n      this._plugins.exec('spawn.before', undefined, {\n         ...pluginContext(task, args),\n         kill(reason) {\n            rejection = reason || rejection;\n         },\n      });\n\n      return rejection;\n   }\n}\n\nfunction pluginContext<R>(task: SimpleGitTask<R>, commands: string[]) {\n   return {\n      method: first(task.commands) || '',\n      commands,\n   };\n}\n\nfunction onErrorReceived(target: Buffer[], logger: OutputLogger) {\n   return (err: Error) => {\n      logger(`[ERROR] child process exception %o`, err);\n      target.push(Buffer.from(String(err.stack), 'ascii'));\n   };\n}\n\nfunction onDataReceived(\n   target: Buffer[],\n   name: string,\n   logger: OutputLogger,\n   output: OutputLogger\n) {\n   return (buffer: Buffer) => {\n      logger(`%s received %L bytes`, name, buffer);\n      output(`%B`, buffer);\n      target.push(buffer);\n   };\n}\n", "import type { PluginStore } from '../plugins';\nimport type { GitExecutorEnv, outputHandler, SimpleGitExecutor, SimpleGitTask } from '../types';\n\nimport { GitExecutorChain } from './git-executor-chain';\nimport { Scheduler } from './scheduler';\n\nexport class GitExecutor implements SimpleGitExecutor {\n   private _chain = new GitExecutorChain(this, this._scheduler, this._plugins);\n\n   public env: GitExecutorEnv;\n   public outputHandler?: outputHandler;\n\n   constructor(\n      public cwd: string,\n      private _scheduler: Scheduler,\n      private _plugins: PluginStore\n   ) {}\n\n   chain(): SimpleGitExecutor {\n      return new GitExecutorChain(this, this._scheduler, this._plugins);\n   }\n\n   push<R>(task: SimpleGitTask<R>): Promise<R> {\n      return this._chain.push(task);\n   }\n}\n", "import { GitError } from './errors/git-error';\nimport { GitResponseError } from './errors/git-response-error';\nimport { SimpleGitTask, SimpleGitTaskCallback } from './types';\nimport { NOOP } from './utils';\n\nexport function taskCallback<R>(\n   task: SimpleGitTask<R>,\n   response: Promise<R>,\n   callback: SimpleGitTaskCallback<R> = NOOP\n) {\n   const onSuccess = (data: R) => {\n      callback(null, data);\n   };\n\n   const onError = (err: GitError | GitResponseError) => {\n      if (err?.task === task) {\n         callback(\n            err instanceof GitResponseError ? addDeprecationNoticeToError(err) : err,\n            undefined as any\n         );\n      }\n   };\n\n   response.then(onSuccess, onError);\n}\n\nfunction addDeprecationNoticeToError(err: GitResponseError) {\n   let log = (name: string) => {\n      console.warn(\n         `simple-git deprecation notice: accessing GitResponseError.${name} should be GitResponseError.git.${name}, this will no longer be available in version 3`\n      );\n      log = NOOP;\n   };\n\n   return Object.create(err, Object.getOwnPropertyNames(err.git).reduce(descriptorReducer, {}));\n\n   function descriptorReducer(all: PropertyDescriptorMap, name: string): typeof all {\n      if (name in err) {\n         return all;\n      }\n\n      all[name] = {\n         enumerable: false,\n         configurable: false,\n         get() {\n            log(name);\n            return err.git[name];\n         },\n      };\n\n      return all;\n   }\n}\n", "import { folderExists } from '../utils';\nimport { SimpleGitExecutor } from '../types';\nimport { adhocExecTask } from './task';\n\nexport function changeWorkingDirectoryTask(directory: string, root?: SimpleGitExecutor) {\n   return adhocExecTask((instance: SimpleGitExecutor) => {\n      if (!folderExists(directory)) {\n         throw new Error(`Git.cwd: cannot change to non-directory \"${directory}\"`);\n      }\n\n      return ((root || instance).cwd = directory);\n   });\n}\n", "import type { SimpleGit } from '../../../typings';\nimport type { SimpleGitApi } from '../simple-git-api';\nimport { getTrailingOptions, remove, trailingFunctionArgument } from '../utils';\nimport { straightThroughStringTask } from './task';\n\nfunction checkoutTask(args: string[]) {\n   const commands = ['checkout', ...args];\n   if (commands[1] === '-b' && commands.includes('-B')) {\n      commands[1] = remove(commands, '-B');\n   }\n\n   return straightThroughStringTask(commands);\n}\n\nexport default function (): Pick<SimpleGit, 'checkout' | 'checkoutBranch' | 'checkoutLocalBranch'> {\n   return {\n      checkout(this: SimpleGitApi) {\n         return this._runTask(\n            checkoutTask(getTrailingOptions(arguments, 1)),\n            trailingFunctionArgument(arguments)\n         );\n      },\n\n      checkoutBranch(this: SimpleGitApi, branchName, startPoint) {\n         return this._runTask(\n            checkoutTask(['-b', branchName, startPoint, ...getTrailingOptions(arguments)]),\n            trailingFunctionArgument(arguments)\n         );\n      },\n\n      checkoutLocalBranch(this: SimpleGitApi, branchName) {\n         return this._runTask(\n            checkoutTask(['-b', branchName, ...getTrailingOptions(arguments)]),\n            trailingFunctionArgument(arguments)\n         );\n      },\n   };\n}\n", "import type { SimpleGitApi } from '../simple-git-api';\nimport type { SimpleGit } from '../../../typings';\nimport { asCamelCase, asNumber, LineParser, parseStringResponse } from '../utils';\n\nexport interface CountObjectsResult {\n   count: number;\n   size: number;\n   inPack: number;\n   packs: number;\n   sizePack: number;\n   prunePackable: number;\n   garbage: number;\n   sizeGarbage: number;\n}\n\nfunction countObjectsResponse(): CountObjectsResult {\n   return {\n      count: 0,\n      garbage: 0,\n      inPack: 0,\n      packs: 0,\n      prunePackable: 0,\n      size: 0,\n      sizeGarbage: 0,\n      sizePack: 0,\n   };\n}\n\nconst parser: LineParser<CountObjectsResult> = new LineParser(\n   /([a-z-]+): (\\d+)$/,\n   (result, [key, value]) => {\n      const property = asCamelCase(key);\n      if (Object.hasOwn(result, property)) {\n         result[property as keyof typeof result] = asNumber(value);\n      }\n   }\n);\n\nexport default function (): Pick<SimpleGit, 'countObjects'> {\n   return {\n      countObjects(this: SimpleGitApi) {\n         return this._runTask({\n            commands: ['count-objects', '--verbose'],\n            format: 'utf-8',\n            parser(stdOut: string) {\n               return parseStringResponse(countObjectsResponse(), [parser], stdOut);\n            },\n         });\n      },\n   };\n}\n", "import { CommitResult } from '../../../typings';\nimport { LineParser, parseStringResponse } from '../utils';\n\nconst parsers: LineParser<CommitResult>[] = [\n   new LineParser(/^\\[([^\\s]+)( \\([^)]+\\))? ([^\\]]+)/, (result, [branch, root, commit]) => {\n      result.branch = branch;\n      result.commit = commit;\n      result.root = !!root;\n   }),\n   new LineParser(/\\s*Author:\\s(.+)/i, (result, [author]) => {\n      const parts = author.split('<');\n      const email = parts.pop();\n\n      if (!email || !email.includes('@')) {\n         return;\n      }\n\n      result.author = {\n         email: email.substr(0, email.length - 1),\n         name: parts.join('<').trim(),\n      };\n   }),\n   new LineParser(\n      /(\\d+)[^,]*(?:,\\s*(\\d+)[^,]*)(?:,\\s*(\\d+))/g,\n      (result, [changes, insertions, deletions]) => {\n         result.summary.changes = parseInt(changes, 10) || 0;\n         result.summary.insertions = parseInt(insertions, 10) || 0;\n         result.summary.deletions = parseInt(deletions, 10) || 0;\n      }\n   ),\n   new LineParser(\n      /^(\\d+)[^,]*(?:,\\s*(\\d+)[^(]+\\(([+-]))?/,\n      (result, [changes, lines, direction]) => {\n         result.summary.changes = parseInt(changes, 10) || 0;\n         const count = parseInt(lines, 10) || 0;\n         if (direction === '-') {\n            result.summary.deletions = count;\n         } else if (direction === '+') {\n            result.summary.insertions = count;\n         }\n      }\n   ),\n];\n\nexport function parseCommitResult(stdOut: string): CommitResult {\n   const result: CommitResult = {\n      author: null,\n      branch: '',\n      commit: '',\n      root: false,\n      summary: {\n         changes: 0,\n         insertions: 0,\n         deletions: 0,\n      },\n   };\n   return parseStringResponse(result, parsers, stdOut);\n}\n", "import type { CommitResult, SimpleGit } from '../../../typings';\nimport type { SimpleGitApi } from '../simple-git-api';\nimport type { StringTask } from '../types';\nimport { parseCommitResult } from '../parsers/parse-commit';\nimport {\n   asArray,\n   asStringArray,\n   filterArray,\n   filterStringOrStringArray,\n   filterType,\n   getTrailingOptions,\n   prefixedArray,\n   trailingFunctionArgument,\n} from '../utils';\nimport { configurationErrorTask } from './task';\n\nexport function commitTask(\n   message: string[],\n   files: string[],\n   customArgs: string[]\n): StringTask<CommitResult> {\n   const commands: string[] = [\n      '-c',\n      'core.abbrev=40',\n      'commit',\n      ...prefixedArray(message, '-m'),\n      ...files,\n      ...customArgs,\n   ];\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser: parseCommitResult,\n   };\n}\n\nexport default function (): Pick<SimpleGit, 'commit'> {\n   return {\n      commit(this: SimpleGitApi, message: string | string[], ...rest: unknown[]) {\n         const next = trailingFunctionArgument(arguments);\n         const task =\n            rejectDeprecatedSignatures(message) ||\n            commitTask(\n               asArray(message),\n               asArray(filterType(rest[0], filterStringOrStringArray, [])),\n               [\n                  ...asStringArray(filterType(rest[1], filterArray, [])),\n                  ...getTrailingOptions(arguments, 0, true),\n               ]\n            );\n\n         return this._runTask(task, next);\n      },\n   };\n\n   function rejectDeprecatedSignatures(message?: unknown) {\n      return (\n         !filterStringOrStringArray(message) &&\n         configurationErrorTask(\n            `git.commit: requires the commit message to be supplied as a string/string[]`\n         )\n      );\n   }\n}\n", "import { Response, SimpleGit } from '../../../typings';\nimport { SimpleGitApi } from '../simple-git-api';\nimport { trailingFunctionArgument } from '../utils';\nimport { straightThroughStringTask } from './task';\n\nexport default function (): Pick<SimpleGit, 'firstCommit'> {\n   return {\n      firstCommit(this: SimpleGitApi): Response<string> {\n         return this._runTask(\n            straightThroughStringTask(['rev-list', '--max-parents=0', 'HEAD'], true),\n            trailingFunctionArgument(arguments)\n         );\n      },\n   };\n}\n", "import { straightThroughStringTask } from './task';\nimport { StringTask } from '../types';\n\n/**\n * Task used by `git.hashObject`\n */\nexport function hashObjectTask(filePath: string, write: boolean): StringTask<string> {\n   const commands = ['hash-object', filePath];\n   if (write) {\n      commands.push('-w');\n   }\n\n   return straightThroughStringTask(commands, true);\n}\n", "import { InitResult } from '../../../typings';\n\nexport class InitSummary implements InitResult {\n   constructor(\n      public readonly bare: boolean,\n      public readonly path: string,\n      public readonly existing: boolean,\n      public readonly gitDir: string\n   ) {}\n}\n\nconst initResponseRegex = /^Init.+ repository in (.+)$/;\nconst reInitResponseRegex = /^Rein.+ in (.+)$/;\n\nexport function parseInit(bare: boolean, path: string, text: string) {\n   const response = String(text).trim();\n   let result;\n\n   if ((result = initResponseRegex.exec(response))) {\n      return new InitSummary(bare, path, false, result[1]);\n   }\n\n   if ((result = reInitResponseRegex.exec(response))) {\n      return new InitSummary(bare, path, true, result[1]);\n   }\n\n   let gitDir = '';\n   const tokens = response.split(' ');\n   while (tokens.length) {\n      const token = tokens.shift();\n      if (token === 'in') {\n         gitDir = tokens.join(' ');\n         break;\n      }\n   }\n\n   return new InitSummary(bare, path, /^re/i.test(response), gitDir);\n}\n", "import { InitResult } from '../../../typings';\nimport { parseInit } from '../responses/InitSummary';\nimport { StringTask } from '../types';\n\nconst bareCommand = '--bare';\n\nfunction hasBareCommand(command: string[]) {\n   return command.includes(bareCommand);\n}\n\nexport function initTask(bare = false, path: string, customArgs: string[]): StringTask<InitResult> {\n   const commands = ['init', ...customArgs];\n   if (bare && !hasBareCommand(commands)) {\n      commands.splice(1, 0, bareCommand);\n   }\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser(text: string): InitResult {\n         return parseInit(commands.includes('--bare'), path, text);\n      },\n   };\n}\n", "export enum LogFormat {\n   NONE = '',\n   STAT = '--stat',\n   NUM_STAT = '--numstat',\n   NAME_ONLY = '--name-only',\n   NAME_STATUS = '--name-status',\n}\n\nconst logFormatRegex = /^--(stat|numstat|name-only|name-status)(=|$)/;\n\nexport function logFormatFromCommand(customArgs: string[]) {\n   for (let i = 0; i < customArgs.length; i++) {\n      const format = logFormatRegex.exec(customArgs[i]);\n      if (format) {\n         return `--${format[1]}` as LogFormat;\n      }\n   }\n\n   return LogFormat.NONE;\n}\n\nexport function isLogFormat(customArg: string | unknown) {\n   return logFormatRegex.test(customArg as string);\n}\n", "import { DiffResult, DiffResultBinaryFile, DiffResultTextFile } from '../../../typings';\n\n/***\n * The DiffSummary is returned as a response to getting `git().status()`\n */\nexport class DiffSummary implements DiffResult {\n   changed = 0;\n   deletions = 0;\n   insertions = 0;\n\n   files: Array<DiffResultTextFile | DiffResultBinaryFile> = [];\n}\n", "import { DiffResult } from '../../../typings';\nimport { LogFormat } from '../args/log-format';\nimport { DiffSummary } from '../responses/DiffSummary';\nimport { isDiffNameStatus } from '../tasks/diff-name-status';\nimport { asNumber, LineParser, orVoid, parseStringResponse } from '../utils';\n\nconst statParser = [\n   new LineParser<DiffResult>(\n      /^(.+)\\s+\\|\\s+(\\d+)(\\s+[+\\-]+)?$/,\n      (result, [file, changes, alterations = '']) => {\n         result.files.push({\n            file: file.trim(),\n            changes: asNumber(changes),\n            insertions: alterations.replace(/[^+]/g, '').length,\n            deletions: alterations.replace(/[^-]/g, '').length,\n            binary: false,\n         });\n      }\n   ),\n   new LineParser<DiffResult>(\n      /^(.+) \\|\\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,\n      (result, [file, before, after]) => {\n         result.files.push({\n            file: file.trim(),\n            before: asNumber(before),\n            after: asNumber(after),\n            binary: true,\n         });\n      }\n   ),\n   new LineParser<DiffResult>(\n      /(\\d+) files? changed\\s*((?:, \\d+ [^,]+){0,2})/,\n      (result, [changed, summary]) => {\n         const inserted = /(\\d+) i/.exec(summary);\n         const deleted = /(\\d+) d/.exec(summary);\n\n         result.changed = asNumber(changed);\n         result.insertions = asNumber(inserted?.[1]);\n         result.deletions = asNumber(deleted?.[1]);\n      }\n   ),\n];\n\nconst numStatParser = [\n   new LineParser<DiffResult>(\n      /(\\d+)\\t(\\d+)\\t(.+)$/,\n      (result, [changesInsert, changesDelete, file]) => {\n         const insertions = asNumber(changesInsert);\n         const deletions = asNumber(changesDelete);\n\n         result.changed++;\n         result.insertions += insertions;\n         result.deletions += deletions;\n\n         result.files.push({\n            file,\n            changes: insertions + deletions,\n            insertions,\n            deletions,\n            binary: false,\n         });\n      }\n   ),\n   new LineParser<DiffResult>(/-\\t-\\t(.+)$/, (result, [file]) => {\n      result.changed++;\n\n      result.files.push({\n         file,\n         after: 0,\n         before: 0,\n         binary: true,\n      });\n   }),\n];\n\nconst nameOnlyParser = [\n   new LineParser<DiffResult>(/(.+)$/, (result, [file]) => {\n      result.changed++;\n      result.files.push({\n         file,\n         changes: 0,\n         insertions: 0,\n         deletions: 0,\n         binary: false,\n      });\n   }),\n];\n\nconst nameStatusParser = [\n   new LineParser<DiffResult>(\n      /([ACDMRTUXB])([0-9]{0,3})\\t(.[^\\t]*)(\\t(.[^\\t]*))?$/,\n      (result, [status, similarity, from, _to, to]) => {\n         result.changed++;\n         result.files.push({\n            file: to ?? from,\n            changes: 0,\n            insertions: 0,\n            deletions: 0,\n            binary: false,\n            status: orVoid(isDiffNameStatus(status) && status),\n            from: orVoid(!!to && from !== to && from),\n            similarity: asNumber(similarity),\n         });\n      }\n   ),\n];\n\nconst diffSummaryParsers: Record<LogFormat, LineParser<DiffResult>[]> = {\n   [LogFormat.NONE]: statParser,\n   [LogFormat.STAT]: statParser,\n   [LogFormat.NUM_STAT]: numStatParser,\n   [LogFormat.NAME_STATUS]: nameStatusParser,\n   [LogFormat.NAME_ONLY]: nameOnlyParser,\n};\n\nexport function getDiffParser(format = LogFormat.NONE) {\n   const parser = diffSummaryParsers[format];\n\n   return (stdOut: string) => parseStringResponse(new DiffSummary(), parser, stdOut, false);\n}\n", "import { ListLogLine, LogResult } from '../../../typings';\nimport { toLinesWithContent } from '../utils';\nimport { getDiffParser } from './parse-diff-summary';\nimport { LogFormat } from '../args/log-format';\n\nexport const START_BOUNDARY = '\u00F2\u00F2\u00F2\u00F2\u00F2\u00F2 ';\n\nexport const COMMIT_BOUNDARY = ' \u00F2\u00F2';\n\nexport const SPLITTER = ' \u00F2 ';\n\nconst defaultFieldNames = ['hash', 'date', 'message', 'refs', 'author_name', 'author_email'];\n\nfunction lineBuilder(tokens: string[], fields: string[]): any {\n   return fields.reduce(\n      (line, field, index) => {\n         line[field] = tokens[index] || '';\n         return line;\n      },\n      Object.create({ diff: null }) as any\n   );\n}\n\nexport function createListLogSummaryParser<T = any>(\n   splitter = SPLITTER,\n   fields = defaultFieldNames,\n   logFormat = LogFormat.NONE\n) {\n   const parseDiffResult = getDiffParser(logFormat);\n\n   return function (stdOut: string): LogResult<T> {\n      const all: ReadonlyArray<T & ListLogLine> = toLinesWithContent(\n         stdOut.trim(),\n         false,\n         START_BOUNDARY\n      ).map(function (item) {\n         const lineDetail = item.split(COMMIT_BOUNDARY);\n         const listLogLine: T & ListLogLine = lineBuilder(lineDetail[0].split(splitter), fields);\n\n         if (lineDetail.length > 1 && !!lineDetail[1].trim()) {\n            listLogLine.diff = parseDiffResult(lineDetail[1]);\n         }\n\n         return listLogLine;\n      });\n\n      return {\n         all,\n         latest: (all.length && all[0]) || null,\n         total: all.length,\n      };\n   };\n}\n", "import { StringTask } from '../types';\nimport { DiffResult } from '../../../typings';\nimport { isLogFormat, LogFormat, logFormatFromCommand } from '../args/log-format';\nimport { getDiffParser } from '../parsers/parse-diff-summary';\nimport { configurationErrorTask, EmptyTask } from './task';\n\nexport function diffSummaryTask(customArgs: string[]): StringTask<DiffResult> | EmptyTask {\n   let logFormat = logFormatFromCommand(customArgs);\n\n   const commands = ['diff'];\n\n   if (logFormat === LogFormat.NONE) {\n      logFormat = LogFormat.STAT;\n      commands.push('--stat=4096');\n   }\n\n   commands.push(...customArgs);\n\n   return (\n      validateLogFormatConfig(commands) || {\n         commands,\n         format: 'utf-8',\n         parser: getDiffParser(logFormat),\n      }\n   );\n}\n\nexport function validateLogFormatConfig(customArgs: unknown[]): EmptyTask | void {\n   const flags = customArgs.filter(isLogFormat);\n\n   if (flags.length > 1) {\n      return configurationErrorTask(\n         `Summary flags are mutually exclusive - pick one of ${flags.join(',')}`\n      );\n   }\n\n   if (flags.length && customArgs.includes('-z')) {\n      return configurationErrorTask(\n         `Summary flag ${flags} parsing is not compatible with null termination option '-z'`\n      );\n   }\n}\n", "import type { LogResult, Options, SimpleGit } from '../../../typings';\nimport { logFormatFromCommand } from '../args/log-format';\nimport { pathspec } from '../args/pathspec';\nimport {\n   COMMIT_BOUNDARY,\n   createListLogSummaryParser,\n   SPLITTER,\n   START_BOUNDARY,\n} from '../parsers/parse-list-log-summary';\nimport {\n   appendTaskOptions,\n   asStringArray,\n   filterArray,\n   filterPlainObject,\n   filterString,\n   filterType,\n   trailingFunctionArgument,\n   trailingOptionsArgument,\n} from '../utils';\nimport { SimpleGitApi } from '../simple-git-api';\nimport { configurationErrorTask } from './task';\nimport { validateLogFormatConfig } from './diff';\nimport { StringTask } from '../types';\n\nenum excludeOptions {\n   '--pretty',\n   'max-count',\n   'maxCount',\n   'n',\n   'file',\n   'format',\n   'from',\n   'to',\n   'splitter',\n   'symmetric',\n   'mailMap',\n   'multiLine',\n   'strictDate',\n}\n\nexport interface DefaultLogFields {\n   hash: string;\n   date: string;\n   message: string;\n   refs: string;\n   body: string;\n   author_name: string;\n   author_email: string;\n}\n\nexport type LogOptions<T = DefaultLogFields> = {\n   file?: string;\n   format?: T;\n   from?: string;\n   mailMap?: boolean;\n   maxCount?: number;\n   multiLine?: boolean;\n   splitter?: string;\n   strictDate?: boolean;\n   symmetric?: boolean;\n   to?: string;\n};\n\ninterface ParsedLogOptions {\n   fields: string[];\n   splitter: string;\n   commands: string[];\n}\n\nfunction prettyFormat(\n   format: Record<string, string | unknown>,\n   splitter: string\n): [string[], string] {\n   const fields: string[] = [];\n   const formatStr: string[] = [];\n\n   Object.keys(format).forEach((field) => {\n      fields.push(field);\n      formatStr.push(String(format[field]));\n   });\n\n   return [fields, formatStr.join(splitter)];\n}\n\nfunction userOptions<T extends Options>(input: T): Options {\n   return Object.keys(input).reduce((out, key) => {\n      if (!(key in excludeOptions)) {\n         out[key] = input[key];\n      }\n      return out;\n   }, {} as Options);\n}\n\nexport function parseLogOptions<T extends Options>(\n   opt: Options | LogOptions<T> = {},\n   customArgs: string[] = []\n): ParsedLogOptions {\n   const splitter = filterType(opt.splitter, filterString, SPLITTER);\n   const format = filterPlainObject(opt.format)\n      ? opt.format\n      : {\n           hash: '%H',\n           date: opt.strictDate === false ? '%ai' : '%aI',\n           message: '%s',\n           refs: '%D',\n           body: opt.multiLine ? '%B' : '%b',\n           author_name: opt.mailMap !== false ? '%aN' : '%an',\n           author_email: opt.mailMap !== false ? '%aE' : '%ae',\n        };\n\n   const [fields, formatStr] = prettyFormat(format, splitter);\n\n   const suffix: string[] = [];\n   const command: string[] = [\n      `--pretty=format:${START_BOUNDARY}${formatStr}${COMMIT_BOUNDARY}`,\n      ...customArgs,\n   ];\n\n   const maxCount: number | undefined = (opt as any).n || (opt as any)['max-count'] || opt.maxCount;\n   if (maxCount) {\n      command.push(`--max-count=${maxCount}`);\n   }\n\n   if (opt.from || opt.to) {\n      const rangeOperator = opt.symmetric !== false ? '...' : '..';\n      suffix.push(`${opt.from || ''}${rangeOperator}${opt.to || ''}`);\n   }\n\n   if (filterString(opt.file)) {\n      command.push('--follow', pathspec(opt.file));\n   }\n\n   appendTaskOptions(userOptions(opt as Options), command);\n\n   return {\n      fields,\n      splitter,\n      commands: [...command, ...suffix],\n   };\n}\n\nexport function logTask<T>(\n   splitter: string,\n   fields: string[],\n   customArgs: string[]\n): StringTask<LogResult<T>> {\n   const parser = createListLogSummaryParser(splitter, fields, logFormatFromCommand(customArgs));\n\n   return {\n      commands: ['log', ...customArgs],\n      format: 'utf-8',\n      parser,\n   };\n}\n\nexport default function (): Pick<SimpleGit, 'log'> {\n   return {\n      log<T extends Options>(this: SimpleGitApi, ...rest: unknown[]) {\n         const next = trailingFunctionArgument(arguments);\n         const options = parseLogOptions<T>(\n            trailingOptionsArgument(arguments),\n            asStringArray(filterType(arguments[0], filterArray, []))\n         );\n         const task =\n            rejectDeprecatedSignatures(...rest) ||\n            validateLogFormatConfig(options.commands) ||\n            createLogTask(options);\n\n         return this._runTask(task, next);\n      },\n   };\n\n   function createLogTask(options: ParsedLogOptions) {\n      return logTask(options.splitter, options.fields, options.commands);\n   }\n\n   function rejectDeprecatedSignatures(from?: unknown, to?: unknown) {\n      return (\n         filterString(from) &&\n         filterString(to) &&\n         configurationErrorTask(\n            `git.log(string, string) should be replaced with git.log({ from: string, to: string })`\n         )\n      );\n   }\n}\n", "import {\n   MergeConflict,\n   MergeConflictDeletion,\n   MergeDetail,\n   MergeResultStatus,\n} from '../../../typings';\n\nexport class MergeSummaryConflict implements MergeConflict {\n   constructor(\n      public readonly reason: string,\n      public readonly file: string | null = null,\n      public readonly meta?: MergeConflictDeletion\n   ) {}\n\n   toString() {\n      return `${this.file}:${this.reason}`;\n   }\n}\n\nexport class MergeSummaryDetail implements MergeDetail {\n   public conflicts: MergeConflict[] = [];\n   public merges: string[] = [];\n   public result: MergeResultStatus = 'success';\n\n   get failed() {\n      return this.conflicts.length > 0;\n   }\n\n   get reason() {\n      return this.result;\n   }\n\n   toString() {\n      if (this.conflicts.length) {\n         return `CONFLICTS: ${this.conflicts.join(', ')}`;\n      }\n\n      return 'OK';\n   }\n}\n", "import {\n   PullDetailFileChanges,\n   PullDetailSummary,\n   PullFailedResult,\n   PullResult,\n} from '../../../typings';\n\nexport class PullSummary implements PullResult {\n   public remoteMessages = {\n      all: [],\n   };\n   public created = [];\n   public deleted: string[] = [];\n   public files: string[] = [];\n   public deletions: PullDetailFileChanges = {};\n   public insertions: PullDetailFileChanges = {};\n   public summary: PullDetailSummary = {\n      changes: 0,\n      deletions: 0,\n      insertions: 0,\n   };\n}\n\nexport class PullFailedSummary implements PullFailedResult {\n   remote = '';\n   hash = {\n      local: '',\n      remote: '',\n   };\n   branch = {\n      local: '',\n      remote: '',\n   };\n   message = '';\n\n   toString() {\n      return this.message;\n   }\n}\n", "import {\n   RemoteMessageResult,\n   RemoteMessages,\n   RemoteMessagesObjectEnumeration,\n} from '../../../typings';\nimport { asNumber, RemoteLineParser } from '../utils';\n\nfunction objectEnumerationResult<T extends RemoteMessages = RemoteMessages>(\n   remoteMessages: T\n): RemoteMessagesObjectEnumeration {\n   return (remoteMessages.objects = remoteMessages.objects || {\n      compressing: 0,\n      counting: 0,\n      enumerating: 0,\n      packReused: 0,\n      reused: { count: 0, delta: 0 },\n      total: { count: 0, delta: 0 },\n   });\n}\n\nfunction asObjectCount(source: string) {\n   const count = /^\\s*(\\d+)/.exec(source);\n   const delta = /delta (\\d+)/i.exec(source);\n\n   return {\n      count: asNumber((count && count[1]) || '0'),\n      delta: asNumber((delta && delta[1]) || '0'),\n   };\n}\n\nexport const remoteMessagesObjectParsers: RemoteLineParser<RemoteMessageResult<RemoteMessages>>[] =\n   [\n      new RemoteLineParser(\n         /^remote:\\s*(enumerating|counting|compressing) objects: (\\d+),/i,\n         (result, [action, count]) => {\n            const key = action.toLowerCase();\n            const enumeration = objectEnumerationResult(result.remoteMessages);\n\n            Object.assign(enumeration, { [key]: asNumber(count) });\n         }\n      ),\n      new RemoteLineParser(\n         /^remote:\\s*(enumerating|counting|compressing) objects: \\d+% \\(\\d+\\/(\\d+)\\),/i,\n         (result, [action, count]) => {\n            const key = action.toLowerCase();\n            const enumeration = objectEnumerationResult(result.remoteMessages);\n\n            Object.assign(enumeration, { [key]: asNumber(count) });\n         }\n      ),\n      new RemoteLineParser(\n         /total ([^,]+), reused ([^,]+), pack-reused (\\d+)/i,\n         (result, [total, reused, packReused]) => {\n            const objects = objectEnumerationResult(result.remoteMessages);\n            objects.total = asObjectCount(total);\n            objects.reused = asObjectCount(reused);\n            objects.packReused = asNumber(packReused);\n         }\n      ),\n   ];\n", "import { PushResultRemoteMessages, RemoteMessageResult, RemoteMessages } from '../../../typings';\nimport { asNumber, parseStringResponse, RemoteLineParser } from '../utils';\nimport { remoteMessagesObjectParsers } from './parse-remote-objects';\n\nconst parsers: RemoteLineParser<RemoteMessageResult<PushResultRemoteMessages | RemoteMessages>>[] =\n   [\n      new RemoteLineParser(/^remote:\\s*(.+)$/, (result, [text]) => {\n         result.remoteMessages.all.push(text.trim());\n         return false;\n      }),\n      ...remoteMessagesObjectParsers,\n      new RemoteLineParser(\n         [/create a (?:pull|merge) request/i, /\\s(https?:\\/\\/\\S+)$/],\n         (result, [pullRequestUrl]) => {\n            (result.remoteMessages as PushResultRemoteMessages).pullRequestUrl = pullRequestUrl;\n         }\n      ),\n      new RemoteLineParser(\n         [/found (\\d+) vulnerabilities.+\\(([^)]+)\\)/i, /\\s(https?:\\/\\/\\S+)$/],\n         (result, [count, summary, url]) => {\n            (result.remoteMessages as PushResultRemoteMessages).vulnerabilities = {\n               count: asNumber(count),\n               summary,\n               url,\n            };\n         }\n      ),\n   ];\n\nexport function parseRemoteMessages<T extends RemoteMessages = RemoteMessages>(\n   _stdOut: string,\n   stdErr: string\n): RemoteMessageResult {\n   return parseStringResponse({ remoteMessages: new RemoteMessageSummary() as T }, parsers, stdErr);\n}\n\nexport class RemoteMessageSummary implements RemoteMessages {\n   public readonly all: string[] = [];\n}\n", "import { PullDetail, PullFailedResult, PullResult, RemoteMessages } from '../../../typings';\nimport { PullFailedSummary, PullSummary } from '../responses/PullSummary';\nimport { TaskParser } from '../types';\nimport { append, LineParser, parseStringResponse } from '../utils';\nimport { parseRemoteMessages } from './parse-remote-messages';\n\nconst FILE_UPDATE_REGEX = /^\\s*(.+?)\\s+\\|\\s+\\d+\\s*(\\+*)(-*)/;\nconst SUMMARY_REGEX = /(\\d+)\\D+((\\d+)\\D+\\(\\+\\))?(\\D+(\\d+)\\D+\\(-\\))?/;\nconst ACTION_REGEX = /^(create|delete) mode \\d+ (.+)/;\n\nconst parsers: LineParser<PullResult>[] = [\n   new LineParser(FILE_UPDATE_REGEX, (result, [file, insertions, deletions]) => {\n      result.files.push(file);\n\n      if (insertions) {\n         result.insertions[file] = insertions.length;\n      }\n\n      if (deletions) {\n         result.deletions[file] = deletions.length;\n      }\n   }),\n   new LineParser(SUMMARY_REGEX, (result, [changes, , insertions, , deletions]) => {\n      if (insertions !== undefined || deletions !== undefined) {\n         result.summary.changes = +changes || 0;\n         result.summary.insertions = +insertions || 0;\n         result.summary.deletions = +deletions || 0;\n         return true;\n      }\n      return false;\n   }),\n   new LineParser(ACTION_REGEX, (result, [action, file]) => {\n      append(result.files, file);\n      append(action === 'create' ? result.created : result.deleted, file);\n   }),\n];\n\nconst errorParsers: LineParser<PullFailedResult>[] = [\n   new LineParser(/^from\\s(.+)$/i, (result, [remote]) => void (result.remote = remote)),\n   new LineParser(/^fatal:\\s(.+)$/, (result, [message]) => void (result.message = message)),\n   new LineParser(\n      /([a-z0-9]+)\\.\\.([a-z0-9]+)\\s+(\\S+)\\s+->\\s+(\\S+)$/,\n      (result, [hashLocal, hashRemote, branchLocal, branchRemote]) => {\n         result.branch.local = branchLocal;\n         result.hash.local = hashLocal;\n         result.branch.remote = branchRemote;\n         result.hash.remote = hashRemote;\n      }\n   ),\n];\n\nexport const parsePullDetail: TaskParser<string, PullDetail> = (stdOut, stdErr) => {\n   return parseStringResponse(new PullSummary(), parsers, [stdOut, stdErr]);\n};\n\nexport const parsePullResult: TaskParser<string, PullResult> = (stdOut, stdErr) => {\n   return Object.assign(\n      new PullSummary(),\n      parsePullDetail(stdOut, stdErr),\n      parseRemoteMessages<RemoteMessages>(stdOut, stdErr)\n   );\n};\n\nexport function parsePullErrorResult(stdOut: string, stdErr: string) {\n   const pullError = parseStringResponse(new PullFailedSummary(), errorParsers, [stdOut, stdErr]);\n\n   return pullError.message && pullError;\n}\n", "import { MergeDetail, MergeResult } from '../../../typings';\nimport { MergeSummaryConflict, MergeSummaryDetail } from '../responses/MergeSummary';\nimport { TaskParser } from '../types';\nimport { LineParser, parseStringResponse } from '../utils';\nimport { parsePullResult } from './parse-pull';\n\nconst parsers: LineParser<MergeDetail>[] = [\n   new LineParser(/^Auto-merging\\s+(.+)$/, (summary, [autoMerge]) => {\n      summary.merges.push(autoMerge);\n   }),\n   new LineParser(/^CONFLICT\\s+\\((.+)\\): Merge conflict in (.+)$/, (summary, [reason, file]) => {\n      summary.conflicts.push(new MergeSummaryConflict(reason, file));\n   }),\n   new LineParser(\n      /^CONFLICT\\s+\\((.+\\/delete)\\): (.+) deleted in (.+) and/,\n      (summary, [reason, file, deleteRef]) => {\n         summary.conflicts.push(new MergeSummaryConflict(reason, file, { deleteRef }));\n      }\n   ),\n   new LineParser(/^CONFLICT\\s+\\((.+)\\):/, (summary, [reason]) => {\n      summary.conflicts.push(new MergeSummaryConflict(reason, null));\n   }),\n   new LineParser(/^Automatic merge failed;\\s+(.+)$/, (summary, [result]) => {\n      summary.result = result;\n   }),\n];\n\n/**\n * Parse the complete response from `git.merge`\n */\nexport const parseMergeResult: TaskParser<string, MergeResult> = (stdOut, stdErr) => {\n   return Object.assign(parseMergeDetail(stdOut, stdErr), parsePullResult(stdOut, stdErr));\n};\n\n/**\n * Parse the merge specific detail (ie: not the content also available in the pull detail) from `git.mnerge`\n * @param stdOut\n */\nexport const parseMergeDetail: TaskParser<string, MergeDetail> = (stdOut) => {\n   return parseStringResponse(new MergeSummaryDetail(), parsers, stdOut);\n};\n", "import { MergeResult } from '../../../typings';\nimport { GitResponseError } from '../errors/git-response-error';\nimport { parseMergeResult } from '../parsers/parse-merge';\nimport { StringTask } from '../types';\nimport { configurationErrorTask, EmptyTask } from './task';\n\nexport function mergeTask(customArgs: string[]): EmptyTask | StringTask<MergeResult> {\n   if (!customArgs.length) {\n      return configurationErrorTask('Git.merge requires at least one option');\n   }\n\n   return {\n      commands: ['merge', ...customArgs],\n      format: 'utf-8',\n      parser(stdOut, stdErr): MergeResult {\n         const merge = parseMergeResult(stdOut, stdErr);\n         if (merge.failed) {\n            throw new GitResponseError(merge);\n         }\n\n         return merge;\n      },\n   };\n}\n", "import {\n   PushDetail,\n   PushResult,\n   PushResultPushedItem,\n   PushResultRemoteMessages,\n} from '../../../typings';\nimport { TaskParser } from '../types';\nimport { LineParser, parseStringResponse } from '../utils';\nimport { parseRemoteMessages } from './parse-remote-messages';\n\nfunction pushResultPushedItem(local: string, remote: string, status: string): PushResultPushedItem {\n   const deleted = status.includes('deleted');\n   const tag = status.includes('tag') || /^refs\\/tags/.test(local);\n   const alreadyUpdated = !status.includes('new');\n\n   return {\n      deleted,\n      tag,\n      branch: !tag,\n      new: !alreadyUpdated,\n      alreadyUpdated,\n      local,\n      remote,\n   };\n}\n\nconst parsers: LineParser<PushDetail>[] = [\n   new LineParser(/^Pushing to (.+)$/, (result, [repo]) => {\n      result.repo = repo;\n   }),\n   new LineParser(/^updating local tracking ref '(.+)'/, (result, [local]) => {\n      result.ref = {\n         ...(result.ref || {}),\n         local,\n      };\n   }),\n   new LineParser(/^[=*-]\\s+([^:]+):(\\S+)\\s+\\[(.+)]$/, (result, [local, remote, type]) => {\n      result.pushed.push(pushResultPushedItem(local, remote, type));\n   }),\n   new LineParser(\n      /^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,\n      (result, [local, remote, remoteName]) => {\n         result.branch = {\n            ...(result.branch || {}),\n            local,\n            remote,\n            remoteName,\n         };\n      }\n   ),\n   new LineParser(\n      /^([^:]+):(\\S+)\\s+([a-z0-9]+)\\.\\.([a-z0-9]+)$/,\n      (result, [local, remote, from, to]) => {\n         result.update = {\n            head: {\n               local,\n               remote,\n            },\n            hash: {\n               from,\n               to,\n            },\n         };\n      }\n   ),\n];\n\nexport const parsePushResult: TaskParser<string, PushResult> = (stdOut, stdErr) => {\n   const pushDetail = parsePushDetail(stdOut, stdErr);\n   const responseDetail = parseRemoteMessages<PushResultRemoteMessages>(stdOut, stdErr);\n\n   return {\n      ...pushDetail,\n      ...responseDetail,\n   };\n};\n\nexport const parsePushDetail: TaskParser<string, PushDetail> = (stdOut, stdErr) => {\n   return parseStringResponse({ pushed: [] }, parsers, [stdOut, stdErr]);\n};\n", "import { PushResult } from '../../../typings';\nimport { parsePushResult as parser } from '../parsers/parse-push';\nimport { StringTask } from '../types';\nimport { append, remove } from '../utils';\n\ntype PushRef = { remote?: string; branch?: string };\n\nexport function pushTagsTask(ref: PushRef = {}, customArgs: string[]): StringTask<PushResult> {\n   append(customArgs, '--tags');\n   return pushTask(ref, customArgs);\n}\n\nexport function pushTask(ref: PushRef = {}, customArgs: string[]): StringTask<PushResult> {\n   const commands = ['push', ...customArgs];\n   if (ref.branch) {\n      commands.splice(1, 0, ref.branch);\n   }\n   if (ref.remote) {\n      commands.splice(1, 0, ref.remote);\n   }\n\n   remove(commands, '-v');\n   append(commands, '--verbose');\n   append(commands, '--porcelain');\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser,\n   };\n}\n", "import { SimpleGit } from '../../../typings';\nimport { SimpleGitApi } from '../simple-git-api';\nimport { getTrailingOptions, trailingFunctionArgument } from '../utils';\nimport { straightThroughBufferTask, straightThroughStringTask } from './task';\n\nexport default function (): Pick<SimpleGit, 'showBuffer' | 'show'> {\n   return {\n      showBuffer(this: SimpleGitApi) {\n         const commands = ['show', ...getTrailingOptions(arguments, 1)];\n         if (!commands.includes('--binary')) {\n            commands.splice(1, 0, '--binary');\n         }\n\n         return this._runTask(\n            straightThroughBufferTask(commands),\n            trailingFunctionArgument(arguments)\n         );\n      },\n\n      show(this: SimpleGitApi) {\n         const commands = ['show', ...getTrailingOptions(arguments, 1)];\n         return this._runTask(\n            straightThroughStringTask(commands),\n            trailingFunctionArgument(arguments)\n         );\n      },\n   };\n}\n", "import { FileStatusResult } from '../../../typings';\n\nexport const fromPathRegex = /^(.+)\\0(.+)$/;\n\nexport class FileStatusSummary implements FileStatusResult {\n   public readonly from: string | undefined;\n\n   constructor(\n      public path: string,\n      public index: string,\n      public working_dir: string\n   ) {\n      if (index === 'R' || working_dir === 'R') {\n         const detail = fromPathRegex.exec(path) || [null, path, path];\n         this.from = detail[2] || '';\n         this.path = detail[1] || '';\n      }\n   }\n}\n", "import { StatusResult } from '../../../typings';\nimport { append, filterString, filterType, NULL } from '../utils';\nimport { FileStatusSummary } from './FileStatusSummary';\n\ntype StatusLineParser = (result: StatusResult, file: string) => void;\n\nexport class StatusSummary implements StatusResult {\n   public not_added = [];\n   public conflicted = [];\n   public created = [];\n   public deleted = [];\n   public ignored = undefined;\n   public modified = [];\n   public renamed = [];\n   public files = [];\n   public staged = [];\n   public ahead = 0;\n   public behind = 0;\n   public current = null;\n   public tracking = null;\n   public detached = false;\n\n   public isClean = () => {\n      return !this.files.length;\n   };\n}\n\nenum PorcelainFileStatus {\n   ADDED = 'A',\n   DELETED = 'D',\n   MODIFIED = 'M',\n   RENAMED = 'R',\n   COPIED = 'C',\n   UNMERGED = 'U',\n   UNTRACKED = '?',\n   IGNORED = '!',\n   NONE = ' ',\n}\n\nfunction renamedFile(line: string) {\n   const [to, from] = line.split(NULL);\n\n   return {\n      from: from || to,\n      to,\n   };\n}\n\nfunction parser(\n   indexX: PorcelainFileStatus,\n   indexY: PorcelainFileStatus,\n   handler: StatusLineParser\n): [string, StatusLineParser] {\n   return [`${indexX}${indexY}`, handler];\n}\n\nfunction conflicts(indexX: PorcelainFileStatus, ...indexY: PorcelainFileStatus[]) {\n   return indexY.map((y) => parser(indexX, y, (result, file) => append(result.conflicted, file)));\n}\n\nconst parsers: Map<string, StatusLineParser> = new Map([\n   parser(PorcelainFileStatus.NONE, PorcelainFileStatus.ADDED, (result, file) =>\n      append(result.created, file)\n   ),\n   parser(PorcelainFileStatus.NONE, PorcelainFileStatus.DELETED, (result, file) =>\n      append(result.deleted, file)\n   ),\n   parser(PorcelainFileStatus.NONE, PorcelainFileStatus.MODIFIED, (result, file) =>\n      append(result.modified, file)\n   ),\n\n   parser(\n      PorcelainFileStatus.ADDED,\n      PorcelainFileStatus.NONE,\n      (result, file) => append(result.created, file) && append(result.staged, file)\n   ),\n   parser(\n      PorcelainFileStatus.ADDED,\n      PorcelainFileStatus.MODIFIED,\n      (result, file) =>\n         append(result.created, file) &&\n         append(result.staged, file) &&\n         append(result.modified, file)\n   ),\n\n   parser(\n      PorcelainFileStatus.DELETED,\n      PorcelainFileStatus.NONE,\n      (result, file) => append(result.deleted, file) && append(result.staged, file)\n   ),\n\n   parser(\n      PorcelainFileStatus.MODIFIED,\n      PorcelainFileStatus.NONE,\n      (result, file) => append(result.modified, file) && append(result.staged, file)\n   ),\n   parser(\n      PorcelainFileStatus.MODIFIED,\n      PorcelainFileStatus.MODIFIED,\n      (result, file) => append(result.modified, file) && append(result.staged, file)\n   ),\n\n   parser(PorcelainFileStatus.RENAMED, PorcelainFileStatus.NONE, (result, file) => {\n      append(result.renamed, renamedFile(file));\n   }),\n   parser(PorcelainFileStatus.RENAMED, PorcelainFileStatus.MODIFIED, (result, file) => {\n      const renamed = renamedFile(file);\n      append(result.renamed, renamed);\n      append(result.modified, renamed.to);\n   }),\n   parser(PorcelainFileStatus.IGNORED, PorcelainFileStatus.IGNORED, (_result, _file) => {\n      append((_result.ignored = _result.ignored || []), _file);\n   }),\n\n   parser(PorcelainFileStatus.UNTRACKED, PorcelainFileStatus.UNTRACKED, (result, file) =>\n      append(result.not_added, file)\n   ),\n\n   ...conflicts(PorcelainFileStatus.ADDED, PorcelainFileStatus.ADDED, PorcelainFileStatus.UNMERGED),\n   ...conflicts(\n      PorcelainFileStatus.DELETED,\n      PorcelainFileStatus.DELETED,\n      PorcelainFileStatus.UNMERGED\n   ),\n   ...conflicts(\n      PorcelainFileStatus.UNMERGED,\n      PorcelainFileStatus.ADDED,\n      PorcelainFileStatus.DELETED,\n      PorcelainFileStatus.UNMERGED\n   ),\n\n   [\n      '##',\n      (result, line) => {\n         const aheadReg = /ahead (\\d+)/;\n         const behindReg = /behind (\\d+)/;\n         const currentReg = /^(.+?(?=(?:\\.{3}|\\s|$)))/;\n         const trackingReg = /\\.{3}(\\S*)/;\n         const onEmptyBranchReg = /\\son\\s(\\S+?)(?=\\.{3}|$)/;\n\n         let regexResult = aheadReg.exec(line);\n         result.ahead = (regexResult && +regexResult[1]) || 0;\n\n         regexResult = behindReg.exec(line);\n         result.behind = (regexResult && +regexResult[1]) || 0;\n\n         regexResult = currentReg.exec(line);\n         result.current = filterType(regexResult?.[1], filterString, null);\n\n         regexResult = trackingReg.exec(line);\n         result.tracking = filterType(regexResult?.[1], filterString, null);\n\n         regexResult = onEmptyBranchReg.exec(line);\n         if (regexResult) {\n            result.current = filterType(regexResult?.[1], filterString, result.current);\n         }\n\n         result.detached = /\\(no branch\\)/.test(line);\n      },\n   ],\n]);\n\nexport const parseStatusSummary = function (text: string): StatusResult {\n   const lines = text.split(NULL);\n   const status = new StatusSummary();\n\n   for (let i = 0, l = lines.length; i < l; ) {\n      let line = lines[i++].trim();\n\n      if (!line) {\n         continue;\n      }\n\n      if (line.charAt(0) === PorcelainFileStatus.RENAMED) {\n         line += NULL + (lines[i++] || '');\n      }\n\n      splitLine(status, line);\n   }\n\n   return status;\n};\n\nfunction splitLine(result: StatusResult, lineStr: string) {\n   const trimmed = lineStr.trim();\n   switch (' ') {\n      case trimmed.charAt(2):\n         return data(trimmed.charAt(0), trimmed.charAt(1), trimmed.substr(3));\n      case trimmed.charAt(1):\n         return data(PorcelainFileStatus.NONE, trimmed.charAt(0), trimmed.substr(2));\n      default:\n         return;\n   }\n\n   function data(index: string, workingDir: string, path: string) {\n      const raw = `${index}${workingDir}`;\n      const handler = parsers.get(raw);\n\n      if (handler) {\n         handler(result, path);\n      }\n\n      if (raw !== '##' && raw !== '!!') {\n         result.files.push(new FileStatusSummary(path, index, workingDir));\n      }\n   }\n}\n", "import { StatusResult } from '../../../typings';\nimport { parseStatusSummary } from '../responses/StatusSummary';\nimport { StringTask } from '../types';\n\nconst ignoredOptions = ['--null', '-z'];\n\nexport function statusTask(customArgs: string[]): StringTask<StatusResult> {\n   const commands = [\n      'status',\n      '--porcelain',\n      '-b',\n      '-u',\n      '--null',\n      ...customArgs.filter((arg) => !ignoredOptions.includes(arg)),\n   ];\n\n   return {\n      format: 'utf-8',\n      commands,\n      parser(text: string) {\n         return parseStatusSummary(text);\n      },\n   };\n}\n", "import type { SimpleGitApi } from '../simple-git-api';\nimport type { SimpleGit } from '../../../typings';\nimport { asNumber, ExitCodes, LineParser, parseStringResponse } from '../utils';\n\nexport interface VersionResult {\n   major: number;\n   minor: number;\n   patch: number | string;\n   agent: string;\n   installed: boolean;\n}\n\nconst NOT_INSTALLED = 'installed=false';\n\nfunction versionResponse(\n   major = 0,\n   minor = 0,\n   patch: string | number = 0,\n   agent = '',\n   installed = true\n): VersionResult {\n   return Object.defineProperty(\n      {\n         major,\n         minor,\n         patch,\n         agent,\n         installed,\n      },\n      'toString',\n      {\n         value() {\n            return `${this.major}.${this.minor}.${this.patch}`;\n         },\n         configurable: false,\n         enumerable: false,\n      }\n   );\n}\n\nfunction notInstalledResponse() {\n   return versionResponse(0, 0, 0, '', false);\n}\n\nexport default function (): Pick<SimpleGit, 'version'> {\n   return {\n      version(this: SimpleGitApi) {\n         return this._runTask({\n            commands: ['--version'],\n            format: 'utf-8',\n            parser: versionParser,\n            onError(result, error, done, fail) {\n               if (result.exitCode === ExitCodes.NOT_FOUND) {\n                  return done(Buffer.from(NOT_INSTALLED));\n               }\n\n               fail(error);\n            },\n         });\n      },\n   };\n}\n\nconst parsers: LineParser<VersionResult>[] = [\n   new LineParser(\n      /version (\\d+)\\.(\\d+)\\.(\\d+)(?:\\s*\\((.+)\\))?/,\n      (result, [major, minor, patch, agent = '']) => {\n         Object.assign(\n            result,\n            versionResponse(asNumber(major), asNumber(minor), asNumber(patch), agent)\n         );\n      }\n   ),\n   new LineParser(\n      /version (\\d+)\\.(\\d+)\\.(\\D+)(.+)?$/,\n      (result, [major, minor, patch, agent = '']) => {\n         Object.assign(result, versionResponse(asNumber(major), asNumber(minor), patch, agent));\n      }\n   ),\n];\n\nfunction versionParser(stdOut: string) {\n   if (stdOut === NOT_INSTALLED) {\n      return notInstalledResponse();\n   }\n\n   return parseStringResponse(versionResponse(0, 0, 0, stdOut), parsers, stdOut);\n}\n", "import { SimpleGitBase } from '../../typings';\nimport { taskCallback } from './task-callback';\nimport { changeWorkingDirectoryTask } from './tasks/change-working-directory';\nimport checkout from './tasks/checkout';\nimport countObjects from './tasks/count-objects';\nimport commit from './tasks/commit';\nimport config from './tasks/config';\nimport firstCommit from './tasks/first-commit';\nimport grep from './tasks/grep';\nimport { hashObjectTask } from './tasks/hash-object';\nimport { initTask } from './tasks/init';\nimport log from './tasks/log';\nimport { mergeTask } from './tasks/merge';\nimport { pushTask } from './tasks/push';\nimport show from './tasks/show';\nimport { statusTask } from './tasks/status';\nimport { configurationErrorTask, straightThroughStringTask } from './tasks/task';\nimport version from './tasks/version';\nimport { outputHandler, SimpleGitExecutor, SimpleGitTask, SimpleGitTaskCallback } from './types';\nimport {\n   asArray,\n   filterString,\n   filterType,\n   getTrailingOptions,\n   trailingFunctionArgument,\n} from './utils';\n\nexport class SimpleGitApi implements SimpleGitBase {\n   constructor(private _executor: SimpleGitExecutor) {}\n\n   protected _runTask<T>(task: SimpleGitTask<T>, then?: SimpleGitTaskCallback<T>) {\n      const chain = this._executor.chain();\n      const promise = chain.push(task);\n\n      if (then) {\n         taskCallback(task, promise, then);\n      }\n\n      return Object.create(this, {\n         then: { value: promise.then.bind(promise) },\n         catch: { value: promise.catch.bind(promise) },\n         _executor: { value: chain },\n      });\n   }\n\n   add(files: string | string[]) {\n      return this._runTask(\n         straightThroughStringTask(['add', ...asArray(files)]),\n         trailingFunctionArgument(arguments)\n      );\n   }\n\n   cwd(directory: string | { path: string; root?: boolean }) {\n      const next = trailingFunctionArgument(arguments);\n\n      if (typeof directory === 'string') {\n         return this._runTask(changeWorkingDirectoryTask(directory, this._executor), next);\n      }\n\n      if (typeof directory?.path === 'string') {\n         return this._runTask(\n            changeWorkingDirectoryTask(\n               directory.path,\n               (directory.root && this._executor) || undefined\n            ),\n            next\n         );\n      }\n\n      return this._runTask(\n         configurationErrorTask('Git.cwd: workingDirectory must be supplied as a string'),\n         next\n      );\n   }\n\n   hashObject(path: string, write: boolean | unknown) {\n      return this._runTask(\n         hashObjectTask(path, write === true),\n         trailingFunctionArgument(arguments)\n      );\n   }\n\n   init(bare?: boolean | unknown) {\n      return this._runTask(\n         initTask(bare === true, this._executor.cwd, getTrailingOptions(arguments)),\n         trailingFunctionArgument(arguments)\n      );\n   }\n\n   merge() {\n      return this._runTask(\n         mergeTask(getTrailingOptions(arguments)),\n         trailingFunctionArgument(arguments)\n      );\n   }\n\n   mergeFromTo(remote: string, branch: string) {\n      if (!(filterString(remote) && filterString(branch))) {\n         return this._runTask(\n            configurationErrorTask(\n               `Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings`\n            )\n         );\n      }\n\n      return this._runTask(\n         mergeTask([remote, branch, ...getTrailingOptions(arguments)]),\n         trailingFunctionArgument(arguments, false)\n      );\n   }\n\n   outputHandler(handler: outputHandler) {\n      this._executor.outputHandler = handler;\n      return this;\n   }\n\n   push() {\n      const task = pushTask(\n         {\n            remote: filterType(arguments[0], filterString),\n            branch: filterType(arguments[1], filterString),\n         },\n         getTrailingOptions(arguments)\n      );\n\n      return this._runTask(task, trailingFunctionArgument(arguments));\n   }\n\n   stash() {\n      return this._runTask(\n         straightThroughStringTask(['stash', ...getTrailingOptions(arguments)]),\n         trailingFunctionArgument(arguments)\n      );\n   }\n\n   status() {\n      return this._runTask(\n         statusTask(getTrailingOptions(arguments)),\n         trailingFunctionArgument(arguments)\n      );\n   }\n}\n\nObject.assign(\n   SimpleGitApi.prototype,\n   checkout(),\n   commit(),\n   config(),\n   countObjects(),\n   firstCommit(),\n   grep(),\n   log(),\n   show(),\n   version()\n);\n", "import { append, remove } from '../utils';\nimport { createDeferred, DeferredPromise } from '@kwsites/promise-deferred';\nimport { createLogger } from '../git-logger';\n\ntype ScheduleCompleteCallback = () => void;\ntype ScheduledTask = Pick<DeferredPromise<ScheduleCompleteCallback>, 'promise' | 'done'> & {\n   id: number;\n};\n\nconst createScheduledTask: () => ScheduledTask = (() => {\n   let id = 0;\n   return () => {\n      id++;\n      const { promise, done } = createDeferred<ScheduleCompleteCallback>();\n\n      return {\n         promise,\n         done,\n         id,\n      };\n   };\n})();\n\nexport class Scheduler {\n   private logger = createLogger('', 'scheduler');\n   private pending: ScheduledTask[] = [];\n   private running: ScheduledTask[] = [];\n\n   constructor(private concurrency = 2) {\n      this.logger(`Constructed, concurrency=%s`, concurrency);\n   }\n\n   private schedule() {\n      if (!this.pending.length || this.running.length >= this.concurrency) {\n         this.logger(\n            `Schedule attempt ignored, pending=%s running=%s concurrency=%s`,\n            this.pending.length,\n            this.running.length,\n            this.concurrency\n         );\n         return;\n      }\n\n      const task = append(this.running, this.pending.shift()!);\n      this.logger(`Attempting id=%s`, task.id);\n      task.done(() => {\n         this.logger(`Completing id=`, task.id);\n         remove(this.running, task);\n         this.schedule();\n      });\n   }\n\n   next(): Promise<ScheduleCompleteCallback> {\n      const { promise, id } = append(this.pending, createScheduledTask());\n      this.logger(`Scheduling id=%s`, id);\n\n      this.schedule();\n\n      return promise;\n   }\n}\n", "import { straightThroughStringTask } from './task';\nimport { OptionFlags, Options, StringTask } from '../types';\n\nexport type ApplyOptions = Options &\n   OptionFlags<\n      | '--stat'\n      | '--numstat'\n      | '--summary'\n      | '--check'\n      | '--index'\n      | '--intent-to-add'\n      | '--3way'\n      | '--apply'\n      | '--no-add'\n      | '-R'\n      | '--reverse'\n      | '--allow-binary-replacement'\n      | '--binary'\n      | '--reject'\n      | '-z'\n      | '--inaccurate-eof'\n      | '--recount'\n      | '--cached'\n      | '--ignore-space-change'\n      | '--ignore-whitespace'\n      | '--verbose'\n      | '--unsafe-paths'\n   > &\n   OptionFlags<'--whitespace', 'nowarn' | 'warn' | 'fix' | 'error' | 'error-all'> &\n   OptionFlags<'--build-fake-ancestor' | '--exclude' | '--include' | '--directory', string> &\n   OptionFlags<'-p' | '-C', number>;\n\nexport function applyPatchTask(patches: string[], customArgs: string[]): StringTask<string> {\n   return straightThroughStringTask(['apply', ...customArgs, ...patches]);\n}\n", "import {\n   BranchMultiDeleteResult,\n   BranchSingleDeleteFailure,\n   BranchSingleDeleteResult,\n   BranchSingleDeleteSuccess,\n} from '../../../typings';\n\nexport class BranchDeletionBatch implements BranchMultiDeleteResult {\n   all: BranchSingleDeleteResult[] = [];\n   branches: { [branchName: string]: BranchSingleDeleteResult } = {};\n   errors: BranchSingleDeleteResult[] = [];\n\n   get success(): boolean {\n      return !this.errors.length;\n   }\n}\n\nexport function branchDeletionSuccess(branch: string, hash: string): BranchSingleDeleteSuccess {\n   return {\n      branch,\n      hash,\n      success: true,\n   };\n}\n\nexport function branchDeletionFailure(branch: string): BranchSingleDeleteFailure {\n   return {\n      branch,\n      hash: null,\n      success: false,\n   };\n}\n\nexport function isSingleBranchDeleteFailure(\n   test: BranchSingleDeleteResult\n): test is BranchSingleDeleteSuccess {\n   return test.success;\n}\n", "import { BranchMultiDeleteResult } from '../../../typings';\nimport {\n   BranchDeletionBatch,\n   branchDeletionFailure,\n   branchDeletionSuccess,\n} from '../responses/BranchDeleteSummary';\nimport { TaskParser } from '../types';\nimport { ExitCodes, LineParser, parseStringResponse } from '../utils';\n\nconst deleteSuccessRegex = /(\\S+)\\s+\\(\\S+\\s([^)]+)\\)/;\nconst deleteErrorRegex = /^error[^']+'([^']+)'/m;\n\nconst parsers: LineParser<BranchMultiDeleteResult>[] = [\n   new LineParser(deleteSuccessRegex, (result, [branch, hash]) => {\n      const deletion = branchDeletionSuccess(branch, hash);\n\n      result.all.push(deletion);\n      result.branches[branch] = deletion;\n   }),\n   new LineParser(deleteErrorRegex, (result, [branch]) => {\n      const deletion = branchDeletionFailure(branch);\n\n      result.errors.push(deletion);\n      result.all.push(deletion);\n      result.branches[branch] = deletion;\n   }),\n];\n\nexport const parseBranchDeletions: TaskParser<string, BranchMultiDeleteResult> = (\n   stdOut,\n   stdErr\n) => {\n   return parseStringResponse(new BranchDeletionBatch(), parsers, [stdOut, stdErr]);\n};\n\nexport function hasBranchDeletionError(data: string, processExitCode: ExitCodes): boolean {\n   return processExitCode === ExitCodes.ERROR && deleteErrorRegex.test(data);\n}\n", "import type { BranchSummary, BranchSummaryBranch } from '../../../typings';\n\nexport enum BranchStatusIdentifier {\n   CURRENT = '*',\n   LINKED = '+',\n}\n\nexport class BranchSummaryResult implements BranchSummary {\n   public all: string[] = [];\n   public branches: { [p: string]: BranchSummaryBranch } = {};\n   public current: string = '';\n   public detached: boolean = false;\n\n   push(\n      status: BranchStatusIdentifier | unknown,\n      detached: boolean,\n      name: string,\n      commit: string,\n      label: string\n   ) {\n      if (status === BranchStatusIdentifier.CURRENT) {\n         this.detached = detached;\n         this.current = name;\n      }\n\n      this.all.push(name);\n      this.branches[name] = {\n         current: status === BranchStatusIdentifier.CURRENT,\n         linkedWorkTree: status === BranchStatusIdentifier.LINKED,\n         name,\n         commit,\n         label,\n      };\n   }\n}\n", "import type { BranchSummary } from '../../../typings';\nimport { BranchStatusIdentifier, BranchSummaryResult } from '../responses/BranchSummary';\nimport { LineParser, parseStringResponse } from '../utils';\n\nconst parsers: LineParser<BranchSummaryResult>[] = [\n   new LineParser(\n      /^([*+]\\s)?\\((?:HEAD )?detached (?:from|at) (\\S+)\\)\\s+([a-z0-9]+)\\s(.*)$/,\n      (result, [current, name, commit, label]) => {\n         result.push(branchStatus(current), true, name, commit, label);\n      }\n   ),\n   new LineParser(\n      /^([*+]\\s)?(\\S+)\\s+([a-z0-9]+)\\s?(.*)$/s,\n      (result, [current, name, commit, label]) => {\n         result.push(branchStatus(current), false, name, commit, label);\n      }\n   ),\n];\n\nconst currentBranchParser = new LineParser<BranchSummaryResult>(/^(\\S+)$/s, (result, [name]) => {\n   result.push(BranchStatusIdentifier.CURRENT, false, name, '', '');\n});\n\nfunction branchStatus(input?: string) {\n   return input ? input.charAt(0) : '';\n}\n\nexport function parseBranchSummary(stdOut: string, currentOnly = false): BranchSummary {\n   return parseStringResponse(\n      new BranchSummaryResult(),\n      currentOnly ? [currentBranchParser] : parsers,\n      stdOut\n   );\n}\n", "import { BranchMultiDeleteResult, BranchSingleDeleteResult, BranchSummary } from '../../../typings';\nimport { StringTask } from '../types';\nimport { GitResponseError } from '../errors/git-response-error';\nimport { hasBranchDeletionError, parseBranchDeletions } from '../parsers/parse-branch-delete';\nimport { parseBranchSummary } from '../parsers/parse-branch';\nimport { bufferToString } from '../utils';\n\nexport function containsDeleteBranchCommand(commands: string[]) {\n   const deleteCommands = ['-d', '-D', '--delete'];\n   return commands.some((command) => deleteCommands.includes(command));\n}\n\nexport function branchTask(\n   customArgs: string[]\n): StringTask<BranchSummary | BranchSingleDeleteResult> {\n   const isDelete = containsDeleteBranchCommand(customArgs);\n   const isCurrentOnly = customArgs.includes('--show-current');\n\n   const commands = ['branch', ...customArgs];\n\n   if (commands.length === 1) {\n      commands.push('-a');\n   }\n\n   if (!commands.includes('-v')) {\n      commands.splice(1, 0, '-v');\n   }\n\n   return {\n      format: 'utf-8',\n      commands,\n      parser(stdOut, stdErr) {\n         if (isDelete) {\n            return parseBranchDeletions(stdOut, stdErr).all[0];\n         }\n\n         return parseBranchSummary(stdOut, isCurrentOnly);\n      },\n   };\n}\n\nexport function branchLocalTask(): StringTask<BranchSummary> {\n   return {\n      format: 'utf-8',\n      commands: ['branch', '-v'],\n      parser(stdOut) {\n         return parseBranchSummary(stdOut);\n      },\n   };\n}\n\nexport function deleteBranchesTask(\n   branches: string[],\n   forceDelete = false\n): StringTask<BranchMultiDeleteResult> {\n   return {\n      format: 'utf-8',\n      commands: ['branch', '-v', forceDelete ? '-D' : '-d', ...branches],\n      parser(stdOut, stdErr) {\n         return parseBranchDeletions(stdOut, stdErr);\n      },\n      onError({ exitCode, stdOut }, error, done, fail) {\n         if (!hasBranchDeletionError(String(error), exitCode)) {\n            return fail(error);\n         }\n\n         done(stdOut);\n      },\n   };\n}\n\nexport function deleteBranchTask(\n   branch: string,\n   forceDelete = false\n): StringTask<BranchSingleDeleteResult> {\n   const task: StringTask<BranchSingleDeleteResult> = {\n      format: 'utf-8',\n      commands: ['branch', '-v', forceDelete ? '-D' : '-d', branch],\n      parser(stdOut, stdErr) {\n         return parseBranchDeletions(stdOut, stdErr).branches[branch]!;\n      },\n      onError({ exitCode, stdErr, stdOut }, error, _, fail) {\n         if (!hasBranchDeletionError(String(error), exitCode)) {\n            return fail(error);\n         }\n\n         throw new GitResponseError(\n            task.parser(bufferToString(stdOut), bufferToString(stdErr)),\n            String(error)\n         );\n      },\n   };\n\n   return task;\n}\n", "import { normalize } from 'node:path';\n\n/**\n * Parser for the `check-ignore` command - returns each file as a string array\n */\nexport const parseCheckIgnore = (text: string): string[] => {\n   return text.split(/\\n/g).map(toPath).filter(Boolean);\n};\n\nfunction toPath(input: string) {\n   const path = input.trim().replace(/^[\"']|[\"']$/g, '');\n   return path && normalize(path);\n}\n", "import { StringTask } from '../types';\nimport { parseCheckIgnore } from '../responses/CheckIgnore';\n\nexport function checkIgnoreTask(paths: string[]): StringTask<string[]> {\n   return {\n      commands: ['check-ignore', ...paths],\n      format: 'utf-8',\n      parser: parseCheckIgnore,\n   };\n}\n", "import { configurationErrorTask, EmptyTask, straightThroughStringTask } from './task';\nimport { OptionFlags, Options, StringTask } from '../types';\nimport { append, filterString } from '../utils';\n\nexport type CloneOptions = Options &\n   OptionFlags<\n      | '--bare'\n      | '--dissociate'\n      | '--mirror'\n      | '--no-checkout'\n      | '--no-remote-submodules'\n      | '--no-shallow-submodules'\n      | '--no-single-branch'\n      | '--no-tags'\n      | '--remote-submodules'\n      | '--single-branch'\n      | '--shallow-submodules'\n      | '--verbose'\n   > &\n   OptionFlags<'--depth' | '-j' | '--jobs', number> &\n   OptionFlags<\n      | '--branch'\n      | '--origin'\n      | '--recurse-submodules'\n      | '--separate-git-dir'\n      | '--shallow-exclude'\n      | '--shallow-since'\n      | '--template',\n      string\n   >;\n\nfunction disallowedCommand(command: string) {\n   return /^--upload-pack(=|$)/.test(command);\n}\n\nexport function cloneTask(\n   repo: string | undefined,\n   directory: string | undefined,\n   customArgs: string[]\n): StringTask<string> | EmptyTask {\n   const commands = ['clone', ...customArgs];\n\n   filterString(repo) && commands.push(repo);\n   filterString(directory) && commands.push(directory);\n\n   const banned = commands.find(disallowedCommand);\n   if (banned) {\n      return configurationErrorTask(`git.fetch: potential exploit argument blocked.`);\n   }\n\n   return straightThroughStringTask(commands);\n}\n\nexport function cloneMirrorTask(\n   repo: string | undefined,\n   directory: string | undefined,\n   customArgs: string[]\n) {\n   append(customArgs, '--mirror');\n\n   return cloneTask(repo, directory, customArgs);\n}\n", "import { FetchResult } from '../../../typings';\nimport { LineParser, parseStringResponse } from '../utils';\n\nconst parsers: LineParser<FetchResult>[] = [\n   new LineParser(/From (.+)$/, (result, [remote]) => {\n      result.remote = remote;\n   }),\n   new LineParser(/\\* \\[new branch]\\s+(\\S+)\\s*-> (.+)$/, (result, [name, tracking]) => {\n      result.branches.push({\n         name,\n         tracking,\n      });\n   }),\n   new LineParser(/\\* \\[new tag]\\s+(\\S+)\\s*-> (.+)$/, (result, [name, tracking]) => {\n      result.tags.push({\n         name,\n         tracking,\n      });\n   }),\n   new LineParser(/- \\[deleted]\\s+\\S+\\s*-> (.+)$/, (result, [tracking]) => {\n      result.deleted.push({\n         tracking,\n      });\n   }),\n   new LineParser(\n      /\\s*([^.]+)\\.\\.(\\S+)\\s+(\\S+)\\s*-> (.+)$/,\n      (result, [from, to, name, tracking]) => {\n         result.updated.push({\n            name,\n            tracking,\n            to,\n            from,\n         });\n      }\n   ),\n];\n\nexport function parseFetchResult(stdOut: string, stdErr: string): FetchResult {\n   const result: FetchResult = {\n      raw: stdOut,\n      remote: null,\n      branches: [],\n      tags: [],\n      updated: [],\n      deleted: [],\n   };\n   return parseStringResponse(result, parsers, [stdOut, stdErr]);\n}\n", "import { FetchResult } from '../../../typings';\nimport { parseFetchResult } from '../parsers/parse-fetch';\nimport { StringTask } from '../types';\n\nimport { configurationErrorTask, EmptyTask } from './task';\n\nfunction disallowedCommand(command: string) {\n   return /^--upload-pack(=|$)/.test(command);\n}\n\nexport function fetchTask(\n   remote: string,\n   branch: string,\n   customArgs: string[]\n): StringTask<FetchResult> | EmptyTask {\n   const commands = ['fetch', ...customArgs];\n   if (remote && branch) {\n      commands.push(remote, branch);\n   }\n\n   const banned = commands.find(disallowedCommand);\n   if (banned) {\n      return configurationErrorTask(`git.fetch: potential exploit argument blocked.`);\n   }\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser: parseFetchResult,\n   };\n}\n", "import { MoveResult } from '../../../typings';\nimport { LineParser, parseStringResponse } from '../utils';\n\nconst parsers: LineParser<MoveResult>[] = [\n   new LineParser(/^Renaming (.+) to (.+)$/, (result, [from, to]) => {\n      result.moves.push({ from, to });\n   }),\n];\n\nexport function parseMoveResult(stdOut: string): MoveResult {\n   return parseStringResponse({ moves: [] }, parsers, stdOut);\n}\n", "import { MoveResult } from '../../../typings';\nimport { parseMoveResult } from '../parsers/parse-move';\nimport { StringTask } from '../types';\nimport { asArray } from '../utils';\n\nexport function moveTask(from: string | string[], to: string): StringTask<MoveResult> {\n   return {\n      commands: ['mv', '-v', ...asArray(from), to],\n      format: 'utf-8',\n      parser: parseMoveResult,\n   };\n}\n", "import { PullResult } from '../../../typings';\nimport { GitResponseError } from '../errors/git-response-error';\nimport { parsePullErrorResult, parsePullResult } from '../parsers/parse-pull';\nimport { Maybe, StringTask } from '../types';\nimport { bufferToString } from '../utils';\n\nexport function pullTask(\n   remote: Maybe<string>,\n   branch: Maybe<string>,\n   customArgs: string[]\n): StringTask<PullResult> {\n   const commands: string[] = ['pull', ...customArgs];\n   if (remote && branch) {\n      commands.splice(1, 0, remote, branch);\n   }\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser(stdOut, stdErr): PullResult {\n         return parsePullResult(stdOut, stdErr);\n      },\n      onError(result, _error, _done, fail) {\n         const pullError = parsePullErrorResult(\n            bufferToString(result.stdOut),\n            bufferToString(result.stdErr)\n         );\n         if (pullError) {\n            return fail(new GitResponseError(pullError));\n         }\n\n         fail(_error);\n      },\n   };\n}\n", "import { forEachLineWithContent } from '../utils';\n\nexport interface RemoteWithoutRefs {\n   name: string;\n}\n\nexport interface RemoteWithRefs extends RemoteWithoutRefs {\n   refs: {\n      fetch: string;\n      push: string;\n   };\n}\n\nexport function parseGetRemotes(text: string): RemoteWithoutRefs[] {\n   const remotes: { [name: string]: RemoteWithoutRefs } = {};\n\n   forEach(text, ([name]) => (remotes[name] = { name }));\n\n   return Object.values(remotes);\n}\n\nexport function parseGetRemotesVerbose(text: string): RemoteWithRefs[] {\n   const remotes: { [name: string]: RemoteWithRefs } = {};\n\n   forEach(text, ([name, url, purpose]) => {\n      if (!Object.hasOwn(remotes, name)) {\n         remotes[name] = {\n            name: name,\n            refs: { fetch: '', push: '' },\n         };\n      }\n\n      if (purpose && url) {\n         remotes[name].refs[purpose.replace(/[^a-z]/g, '') as keyof RemoteWithRefs['refs']] = url;\n      }\n   });\n\n   return Object.values(remotes);\n}\n\nfunction forEach(text: string, handler: (line: string[]) => void) {\n   forEachLineWithContent(text, (line) => handler(line.split(/\\s+/)));\n}\n", "import {\n   parseGetRemotes,\n   parseGetRemotesVerbose,\n   type RemoteWithoutRefs,\n   type RemoteWithRefs,\n} from '../responses/GetRemoteSummary';\nimport type { StringTask } from '../types';\nimport { straightThroughStringTask } from './task';\n\nexport function addRemoteTask(\n   remoteName: string,\n   remoteRepo: string,\n   customArgs: string[]\n): StringTask<string> {\n   return straightThroughStringTask(['remote', 'add', ...customArgs, remoteName, remoteRepo]);\n}\n\nexport function getRemotesTask(verbose: true): StringTask<RemoteWithRefs[]>;\nexport function getRemotesTask(verbose: false): StringTask<RemoteWithoutRefs[]>;\nexport function getRemotesTask(\n   verbose: boolean\n): StringTask<RemoteWithRefs[] | RemoteWithoutRefs[]> {\n   const commands = ['remote'];\n   if (verbose) {\n      commands.push('-v');\n   }\n\n   return {\n      commands,\n      format: 'utf-8',\n      parser: verbose ? parseGetRemotesVerbose : parseGetRemotes,\n   };\n}\n\nexport function listRemotesTask(customArgs: string[]): StringTask<string> {\n   const commands = [...customArgs];\n   if (commands[0] !== 'ls-remote') {\n      commands.unshift('ls-remote');\n   }\n\n   return straightThroughStringTask(commands);\n}\n\nexport function remoteTask(customArgs: string[]): StringTask<string> {\n   const commands = [...customArgs];\n   if (commands[0] !== 'remote') {\n      commands.unshift('remote');\n   }\n\n   return straightThroughStringTask(commands);\n}\n\nexport function removeRemoteTask(remoteName: string) {\n   return straightThroughStringTask(['remote', 'remove', remoteName]);\n}\n", "import { LogOptions, LogResult } from '../../../typings';\nimport { logFormatFromCommand } from '../args/log-format';\nimport { createListLogSummaryParser } from '../parsers/parse-list-log-summary';\nimport type { StringTask } from '../types';\nimport { validateLogFormatConfig } from './diff';\nimport { parseLogOptions } from './log';\nimport type { EmptyTask } from './task';\n\nexport function stashListTask(\n   opt: LogOptions = {},\n   customArgs: string[]\n): EmptyTask | StringTask<LogResult> {\n   const options = parseLogOptions<any>(opt);\n   const commands = ['stash', 'list', ...options.commands, ...customArgs];\n   const parser = createListLogSummaryParser(\n      options.splitter,\n      options.fields,\n      logFormatFromCommand(commands)\n   );\n\n   return (\n      validateLogFormatConfig(commands) || {\n         commands,\n         format: 'utf-8',\n         parser,\n      }\n   );\n}\n", "import { StringTask } from '../types';\nimport { straightThroughStringTask } from './task';\n\nexport function addSubModuleTask(repo: string, path: string): StringTask<string> {\n   return subModuleTask(['add', repo, path]);\n}\n\nexport function initSubModuleTask(customArgs: string[]): StringTask<string> {\n   return subModuleTask(['init', ...customArgs]);\n}\n\nexport function subModuleTask(customArgs: string[]): StringTask<string> {\n   const commands = [...customArgs];\n   if (commands[0] !== 'submodule') {\n      commands.unshift('submodule');\n   }\n\n   return straightThroughStringTask(commands);\n}\n\nexport function updateSubModuleTask(customArgs: string[]): StringTask<string> {\n   return subModuleTask(['update', ...customArgs]);\n}\n", "import { TagResult } from '../../../typings';\n\nexport class TagList implements TagResult {\n   constructor(\n      public readonly all: string[],\n      public readonly latest: string | undefined\n   ) {}\n}\n\nexport const parseTagList = function (data: string, customSort = false) {\n   const tags = data.split('\\n').map(trimmed).filter(Boolean);\n\n   if (!customSort) {\n      tags.sort(function (tagA, tagB) {\n         const partsA = tagA.split('.');\n         const partsB = tagB.split('.');\n\n         if (partsA.length === 1 || partsB.length === 1) {\n            return singleSorted(toNumber(partsA[0]), toNumber(partsB[0]));\n         }\n\n         for (let i = 0, l = Math.max(partsA.length, partsB.length); i < l; i++) {\n            const diff = sorted(toNumber(partsA[i]), toNumber(partsB[i]));\n\n            if (diff) {\n               return diff;\n            }\n         }\n\n         return 0;\n      });\n   }\n\n   const latest = customSort ? tags[0] : [...tags].reverse().find((tag) => tag.indexOf('.') >= 0);\n\n   return new TagList(tags, latest);\n};\n\nfunction singleSorted(a: number, b: number): number {\n   const aIsNum = Number.isNaN(a);\n   const bIsNum = Number.isNaN(b);\n\n   if (aIsNum !== bIsNum) {\n      return aIsNum ? 1 : -1;\n   }\n\n   return aIsNum ? sorted(a, b) : 0;\n}\n\nfunction sorted(a: number, b: number) {\n   return a === b ? 0 : a > b ? 1 : -1;\n}\n\nfunction trimmed(input: string) {\n   return input.trim();\n}\n\nfunction toNumber(input: string | undefined) {\n   if (typeof input === 'string') {\n      return parseInt(input.replace(/^\\D+/g, ''), 10) || 0;\n   }\n\n   return 0;\n}\n", "import { TagResult } from '../../../typings';\nimport { parseTagList } from '../responses/TagList';\nimport { StringTask } from '../types';\n\n/**\n * Task used by `git.tags`\n */\nexport function tagListTask(customArgs: string[] = []): StringTask<TagResult> {\n   const hasCustomSort = customArgs.some((option) => /^--sort=/.test(option));\n\n   return {\n      format: 'utf-8',\n      commands: ['tag', '-l', ...customArgs],\n      parser(text: string) {\n         return parseTagList(text, hasCustomSort);\n      },\n   };\n}\n\n/**\n * Task used by `git.addTag`\n */\nexport function addTagTask(name: string): StringTask<{ name: string }> {\n   return {\n      format: 'utf-8',\n      commands: ['tag', name],\n      parser() {\n         return { name };\n      },\n   };\n}\n\n/**\n * Task used by `git.addTag`\n */\nexport function addAnnotatedTagTask(\n   name: string,\n   tagMessage: string\n): StringTask<{ name: string }> {\n   return {\n      format: 'utf-8',\n      commands: ['tag', '-a', '-m', tagMessage, name],\n      parser() {\n         return { name };\n      },\n   };\n}\n", "const { GitExecutor } = require('./lib/runners/git-executor');\nconst { SimpleGitApi } = require('./lib/simple-git-api');\n\nconst { Scheduler } = require('./lib/runners/scheduler');\nconst { configurationErrorTask } = require('./lib/tasks/task');\nconst {\n   asArray,\n   filterArray,\n   filterPrimitives,\n   filterString,\n   filterStringOrStringArray,\n   filterType,\n   getTrailingOptions,\n   trailingFunctionArgument,\n   trailingOptionsArgument,\n} = require('./lib/utils');\nconst { applyPatchTask } = require('./lib/tasks/apply-patch');\nconst {\n   branchTask,\n   branchLocalTask,\n   deleteBranchesTask,\n   deleteBranchTask,\n} = require('./lib/tasks/branch');\nconst { checkIgnoreTask } = require('./lib/tasks/check-ignore');\nconst { checkIsRepoTask } = require('./lib/tasks/check-is-repo');\nconst { cloneTask, cloneMirrorTask } = require('./lib/tasks/clone');\nconst { cleanWithOptionsTask, isCleanOptionsArray } = require('./lib/tasks/clean');\nconst { diffSummaryTask } = require('./lib/tasks/diff');\nconst { fetchTask } = require('./lib/tasks/fetch');\nconst { moveTask } = require('./lib/tasks/move');\nconst { pullTask } = require('./lib/tasks/pull');\nconst { pushTagsTask } = require('./lib/tasks/push');\nconst {\n   addRemoteTask,\n   getRemotesTask,\n   listRemotesTask,\n   remoteTask,\n   removeRemoteTask,\n} = require('./lib/tasks/remote');\nconst { getResetMode, resetTask } = require('./lib/tasks/reset');\nconst { stashListTask } = require('./lib/tasks/stash-list');\nconst {\n   addSubModuleTask,\n   initSubModuleTask,\n   subModuleTask,\n   updateSubModuleTask,\n} = require('./lib/tasks/sub-module');\nconst { addAnnotatedTagTask, addTagTask, tagListTask } = require('./lib/tasks/tag');\nconst { straightThroughBufferTask, straightThroughStringTask } = require('./lib/tasks/task');\n\nfunction Git(options, plugins) {\n   this._plugins = plugins;\n   this._executor = new GitExecutor(\n      options.baseDir,\n      new Scheduler(options.maxConcurrentProcesses),\n      plugins\n   );\n\n   this._trimmed = options.trimmed;\n}\n\n(Git.prototype = Object.create(SimpleGitApi.prototype)).constructor = Git;\n\n/**\n * Sets the path to a custom git binary, should either be `git` when there is an installation of git available on\n * the system path, or a fully qualified path to the executable.\n */\nGit.prototype.customBinary = function (command) {\n   this._plugins.reconfigure('binary', command);\n   return this;\n};\n\n/**\n * Sets an environment variable for the spawned child process, either supply both a name and value as strings or\n * a single object to entirely replace the current environment variables.\n *\n * @param {string|Object} name\n * @param {string} [value]\n * @returns {Git}\n */\nGit.prototype.env = function (name, value) {\n   if (arguments.length === 1 && typeof name === 'object') {\n      this._executor.env = name;\n   } else {\n      (this._executor.env = this._executor.env || {})[name] = value;\n   }\n\n   return this;\n};\n\n/**\n * List the stash(s) of the local repo\n */\nGit.prototype.stashList = function (options) {\n   return this._runTask(\n      stashListTask(\n         trailingOptionsArgument(arguments) || {},\n         (filterArray(options) && options) || []\n      ),\n      trailingFunctionArgument(arguments)\n   );\n};\n\nfunction createCloneTask(api, task, repoPath, localPath) {\n   if (typeof repoPath !== 'string') {\n      return configurationErrorTask(`git.${api}() requires a string 'repoPath'`);\n   }\n\n   return task(repoPath, filterType(localPath, filterString), getTrailingOptions(arguments));\n}\n\n/**\n * Clone a git repo\n */\nGit.prototype.clone = function () {\n   return this._runTask(\n      createCloneTask('clone', cloneTask, ...arguments),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Mirror a git repo\n */\nGit.prototype.mirror = function () {\n   return this._runTask(\n      createCloneTask('mirror', cloneMirrorTask, ...arguments),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Moves one or more files to a new destination.\n *\n * @see https://git-scm.com/docs/git-mv\n *\n * @param {string|string[]} from\n * @param {string} to\n */\nGit.prototype.mv = function (from, to) {\n   return this._runTask(moveTask(from, to), trailingFunctionArgument(arguments));\n};\n\n/**\n * Internally uses pull and tags to get the list of tags then checks out the latest tag.\n *\n * @param {Function} [then]\n */\nGit.prototype.checkoutLatestTag = function (then) {\n   var git = this;\n   return this.pull(function () {\n      git.tags(function (err, tags) {\n         git.checkout(tags.latest, then);\n      });\n   });\n};\n\n/**\n * Pull the updated contents of the current repo\n */\nGit.prototype.pull = function (remote, branch, options, then) {\n   return this._runTask(\n      pullTask(\n         filterType(remote, filterString),\n         filterType(branch, filterString),\n         getTrailingOptions(arguments)\n      ),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Fetch the updated contents of the current repo.\n *\n * @example\n *   .fetch('upstream', 'master') // fetches from master on remote named upstream\n *   .fetch(function () {}) // runs fetch against default remote and branch and calls function\n *\n * @param {string} [remote]\n * @param {string} [branch]\n */\nGit.prototype.fetch = function (remote, branch) {\n   return this._runTask(\n      fetchTask(\n         filterType(remote, filterString),\n         filterType(branch, filterString),\n         getTrailingOptions(arguments)\n      ),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Disables/enables the use of the console for printing warnings and errors, by default messages are not shown in\n * a production environment.\n *\n * @param {boolean} silence\n * @returns {Git}\n */\nGit.prototype.silent = function (silence) {\n   console.warn(\n      'simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3'\n   );\n   return this;\n};\n\n/**\n * List all tags. When using git 2.7.0 or above, include an options object with `\"--sort\": \"property-name\"` to\n * sort the tags by that property instead of using the default semantic versioning sort.\n *\n * Note, supplying this option when it is not supported by your Git version will cause the operation to fail.\n *\n * @param {Object} [options]\n * @param {Function} [then]\n */\nGit.prototype.tags = function (options, then) {\n   return this._runTask(\n      tagListTask(getTrailingOptions(arguments)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Rebases the current working copy. Options can be supplied either as an array of string parameters\n * to be sent to the `git rebase` command, or a standard options object.\n */\nGit.prototype.rebase = function () {\n   return this._runTask(\n      straightThroughStringTask(['rebase', ...getTrailingOptions(arguments)]),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Reset a repo\n */\nGit.prototype.reset = function (mode) {\n   return this._runTask(\n      resetTask(getResetMode(mode), getTrailingOptions(arguments)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Revert one or more commits in the local working copy\n */\nGit.prototype.revert = function (commit) {\n   const next = trailingFunctionArgument(arguments);\n\n   if (typeof commit !== 'string') {\n      return this._runTask(configurationErrorTask('Commit must be a string'), next);\n   }\n\n   return this._runTask(\n      straightThroughStringTask(['revert', ...getTrailingOptions(arguments, 0, true), commit]),\n      next\n   );\n};\n\n/**\n * Add a lightweight tag to the head of the current branch\n */\nGit.prototype.addTag = function (name) {\n   const task =\n      typeof name === 'string'\n         ? addTagTask(name)\n         : configurationErrorTask('Git.addTag requires a tag name');\n\n   return this._runTask(task, trailingFunctionArgument(arguments));\n};\n\n/**\n * Add an annotated tag to the head of the current branch\n */\nGit.prototype.addAnnotatedTag = function (tagName, tagMessage) {\n   return this._runTask(\n      addAnnotatedTagTask(tagName, tagMessage),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Delete a local branch\n */\nGit.prototype.deleteLocalBranch = function (branchName, forceDelete, then) {\n   return this._runTask(\n      deleteBranchTask(branchName, typeof forceDelete === 'boolean' ? forceDelete : false),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Delete one or more local branches\n */\nGit.prototype.deleteLocalBranches = function (branchNames, forceDelete, then) {\n   return this._runTask(\n      deleteBranchesTask(branchNames, typeof forceDelete === 'boolean' ? forceDelete : false),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * List all branches\n *\n * @param {Object | string[]} [options]\n * @param {Function} [then]\n */\nGit.prototype.branch = function (options, then) {\n   return this._runTask(\n      branchTask(getTrailingOptions(arguments)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Return list of local branches\n *\n * @param {Function} [then]\n */\nGit.prototype.branchLocal = function (then) {\n   return this._runTask(branchLocalTask(), trailingFunctionArgument(arguments));\n};\n\n/**\n * Executes any command against the git binary.\n */\nGit.prototype.raw = function (commands) {\n   const createRestCommands = !Array.isArray(commands);\n   const command = [].slice.call(createRestCommands ? arguments : commands, 0);\n\n   for (let i = 0; i < command.length && createRestCommands; i++) {\n      if (!filterPrimitives(command[i])) {\n         command.splice(i, command.length - i);\n         break;\n      }\n   }\n\n   command.push(...getTrailingOptions(arguments, 0, true));\n\n   var next = trailingFunctionArgument(arguments);\n\n   if (!command.length) {\n      return this._runTask(\n         configurationErrorTask('Raw: must supply one or more command to execute'),\n         next\n      );\n   }\n\n   return this._runTask(straightThroughStringTask(command, this._trimmed), next);\n};\n\nGit.prototype.submoduleAdd = function (repo, path, then) {\n   return this._runTask(addSubModuleTask(repo, path), trailingFunctionArgument(arguments));\n};\n\nGit.prototype.submoduleUpdate = function (args, then) {\n   return this._runTask(\n      updateSubModuleTask(getTrailingOptions(arguments, true)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\nGit.prototype.submoduleInit = function (args, then) {\n   return this._runTask(\n      initSubModuleTask(getTrailingOptions(arguments, true)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\nGit.prototype.subModule = function (options, then) {\n   return this._runTask(\n      subModuleTask(getTrailingOptions(arguments)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\nGit.prototype.listRemote = function () {\n   return this._runTask(\n      listRemotesTask(getTrailingOptions(arguments)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Adds a remote to the list of remotes.\n */\nGit.prototype.addRemote = function (remoteName, remoteRepo, then) {\n   return this._runTask(\n      addRemoteTask(remoteName, remoteRepo, getTrailingOptions(arguments)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Removes an entry by name from the list of remotes.\n */\nGit.prototype.removeRemote = function (remoteName, then) {\n   return this._runTask(removeRemoteTask(remoteName), trailingFunctionArgument(arguments));\n};\n\n/**\n * Gets the currently available remotes, setting the optional verbose argument to true includes additional\n * detail on the remotes themselves.\n */\nGit.prototype.getRemotes = function (verbose, then) {\n   return this._runTask(getRemotesTask(verbose === true), trailingFunctionArgument(arguments));\n};\n\n/**\n * Call any `git remote` function with arguments passed as an array of strings.\n *\n * @param {string[]} options\n * @param {Function} [then]\n */\nGit.prototype.remote = function (options, then) {\n   return this._runTask(\n      remoteTask(getTrailingOptions(arguments)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Call any `git tag` function with arguments passed as an array of strings.\n *\n * @param {string[]} options\n * @param {Function} [then]\n */\nGit.prototype.tag = function (options, then) {\n   const command = getTrailingOptions(arguments);\n\n   if (command[0] !== 'tag') {\n      command.unshift('tag');\n   }\n\n   return this._runTask(straightThroughStringTask(command), trailingFunctionArgument(arguments));\n};\n\n/**\n * Updates repository server info\n *\n * @param {Function} [then]\n */\nGit.prototype.updateServerInfo = function (then) {\n   return this._runTask(\n      straightThroughStringTask(['update-server-info']),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Pushes the current tag changes to a remote which can be either a URL or named remote. When not specified uses the\n * default configured remote spec.\n *\n * @param {string} [remote]\n * @param {Function} [then]\n */\nGit.prototype.pushTags = function (remote, then) {\n   const task = pushTagsTask(\n      { remote: filterType(remote, filterString) },\n      getTrailingOptions(arguments)\n   );\n\n   return this._runTask(task, trailingFunctionArgument(arguments));\n};\n\n/**\n * Removes the named files from source control.\n */\nGit.prototype.rm = function (files) {\n   return this._runTask(\n      straightThroughStringTask(['rm', '-f', ...asArray(files)]),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Removes the named files from source control but keeps them on disk rather than deleting them entirely. To\n * completely remove the files, use `rm`.\n *\n * @param {string|string[]} files\n */\nGit.prototype.rmKeepLocal = function (files) {\n   return this._runTask(\n      straightThroughStringTask(['rm', '--cached', ...asArray(files)]),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n * Returns a list of objects in a tree based on commit hash. Passing in an object hash returns the object's content,\n * size, and type.\n *\n * Passing \"-p\" will instruct cat-file to determine the object type, and display its formatted contents.\n *\n * @param {string[]} [options]\n * @param {Function} [then]\n */\nGit.prototype.catFile = function (options, then) {\n   return this._catFile('utf-8', arguments);\n};\n\nGit.prototype.binaryCatFile = function () {\n   return this._catFile('buffer', arguments);\n};\n\nGit.prototype._catFile = function (format, args) {\n   var handler = trailingFunctionArgument(args);\n   var command = ['cat-file'];\n   var options = args[0];\n\n   if (typeof options === 'string') {\n      return this._runTask(\n         configurationErrorTask('Git.catFile: options must be supplied as an array of strings'),\n         handler\n      );\n   }\n\n   if (Array.isArray(options)) {\n      command.push.apply(command, options);\n   }\n\n   const task =\n      format === 'buffer' ? straightThroughBufferTask(command) : straightThroughStringTask(command);\n\n   return this._runTask(task, handler);\n};\n\nGit.prototype.diff = function (options, then) {\n   const task = filterString(options)\n      ? configurationErrorTask(\n           'git.diff: supplying options as a single string is no longer supported, switch to an array of strings'\n        )\n      : straightThroughStringTask(['diff', ...getTrailingOptions(arguments)]);\n\n   return this._runTask(task, trailingFunctionArgument(arguments));\n};\n\nGit.prototype.diffSummary = function () {\n   return this._runTask(\n      diffSummaryTask(getTrailingOptions(arguments, 1)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\nGit.prototype.applyPatch = function (patches) {\n   const task = !filterStringOrStringArray(patches)\n      ? configurationErrorTask(\n           `git.applyPatch requires one or more string patches as the first argument`\n        )\n      : applyPatchTask(asArray(patches), getTrailingOptions([].slice.call(arguments, 1)));\n\n   return this._runTask(task, trailingFunctionArgument(arguments));\n};\n\nGit.prototype.revparse = function () {\n   const commands = ['rev-parse', ...getTrailingOptions(arguments, true)];\n   return this._runTask(\n      straightThroughStringTask(commands, true),\n      trailingFunctionArgument(arguments)\n   );\n};\n\n/**\n */\nGit.prototype.clean = function (mode, options, then) {\n   const usingCleanOptionsArray = isCleanOptionsArray(mode);\n   const cleanMode =\n      (usingCleanOptionsArray && mode.join('')) || filterType(mode, filterString) || '';\n   const customArgs = getTrailingOptions([].slice.call(arguments, usingCleanOptionsArray ? 1 : 0));\n\n   return this._runTask(\n      cleanWithOptionsTask(cleanMode, customArgs),\n      trailingFunctionArgument(arguments)\n   );\n};\n\nGit.prototype.exec = function (then) {\n   const task = {\n      commands: [],\n      format: 'utf-8',\n      parser() {\n         if (typeof then === 'function') {\n            then();\n         }\n      },\n   };\n\n   return this._runTask(task);\n};\n\n/**\n * Clears the queue of pending commands and returns the wrapper instance for chaining.\n *\n * @returns {Git}\n */\nGit.prototype.clearQueue = function () {\n   // TODO:\n   // this._executor.clear();\n   return this;\n};\n\n/**\n * Check if a pathname or pathnames are excluded by .gitignore\n *\n * @param {string|string[]} pathnames\n * @param {Function} [then]\n */\nGit.prototype.checkIgnore = function (pathnames, then) {\n   return this._runTask(\n      checkIgnoreTask(asArray(filterType(pathnames, filterStringOrStringArray, []))),\n      trailingFunctionArgument(arguments)\n   );\n};\n\nGit.prototype.checkIsRepo = function (checkType, then) {\n   return this._runTask(\n      checkIsRepoTask(filterType(checkType, filterString)),\n      trailingFunctionArgument(arguments)\n   );\n};\n\nmodule.exports = Git;\n", "import { pathspec } from './args/pathspec';\nimport { GitConstructError } from './errors/git-construct-error';\nimport { GitError } from './errors/git-error';\nimport { GitPluginError } from './errors/git-plugin-error';\nimport { GitResponseError } from './errors/git-response-error';\nimport { TaskConfigurationError } from './errors/task-configuration-error';\nimport { CheckRepoActions } from './tasks/check-is-repo';\nimport { CleanOptions } from './tasks/clean';\nimport { GitConfigScope } from './tasks/config';\nimport { DiffNameStatus } from './tasks/diff-name-status';\nimport { grepQueryBuilder } from './tasks/grep';\nimport { ResetMode } from './tasks/reset';\n\nexport {\n   CheckRepoActions,\n   CleanOptions,\n   DiffNameStatus,\n   GitConfigScope,\n   GitConstructError,\n   GitError,\n   GitPluginError,\n   GitResponseError,\n   ResetMode,\n   TaskConfigurationError,\n   grepQueryBuilder,\n   pathspec,\n};\n", "import { GitError } from './git-error';\nimport { SimpleGitOptions } from '../types';\n\n/**\n * The `GitConstructError` is thrown when an error occurs in the constructor\n * of the `simple-git` instance itself. Most commonly as a result of using\n * a `baseDir` option that points to a folder that either does not exist,\n * or cannot be read by the user the node script is running as.\n *\n * Check the `.message` property for more detail including the properties\n * passed to the constructor.\n */\nexport class GitConstructError extends GitError {\n   constructor(\n      public readonly config: SimpleGitOptions,\n      message: string\n   ) {\n      super(undefined, message);\n   }\n}\n", "import { SimpleGitOptions, SimpleGitTask } from '../types';\nimport { GitError } from './git-error';\n\nexport class GitPluginError extends GitError {\n   constructor(\n      public task?: SimpleGitTask<any>,\n      public readonly plugin?: keyof SimpleGitOptions,\n      message?: string\n   ) {\n      super(task, message);\n      Object.setPrototypeOf(this, new.target.prototype);\n   }\n}\n", "import { SimpleGitOptions } from '../types';\nimport { SimpleGitPlugin } from './simple-git-plugin';\nimport { GitPluginError } from '../errors/git-plugin-error';\n\nexport function abortPlugin(signal: SimpleGitOptions['abort']) {\n   if (!signal) {\n      return;\n   }\n\n   const onSpawnAfter: SimpleGitPlugin<'spawn.after'> = {\n      type: 'spawn.after',\n      action(_data, context) {\n         function kill() {\n            context.kill(new GitPluginError(undefined, 'abort', 'Abort signal received'));\n         }\n\n         signal.addEventListener('abort', kill);\n\n         context.spawned.on('close', () => signal.removeEventListener('abort', kill));\n      },\n   };\n\n   const onSpawnBefore: SimpleGitPlugin<'spawn.before'> = {\n      type: 'spawn.before',\n      action(_data, context) {\n         if (signal.aborted) {\n            context.kill(new GitPluginError(undefined, 'abort', 'Abort already signaled'));\n         }\n      },\n   };\n\n   return [onSpawnBefore, onSpawnAfter];\n}\n", "import type { SimpleGitPlugin } from './simple-git-plugin';\n\nimport { GitPluginError } from '../errors/git-plugin-error';\nimport type { SimpleGitPluginConfig } from '../types';\n\nfunction isConfigSwitch(arg: string | unknown) {\n   return typeof arg === 'string' && arg.trim().toLowerCase() === '-c';\n}\n\nfunction preventProtocolOverride(arg: string, next: string) {\n   if (!isConfigSwitch(arg)) {\n      return;\n   }\n\n   if (!/^\\s*protocol(.[a-z]+)?.allow/.test(next)) {\n      return;\n   }\n\n   throw new GitPluginError(\n      undefined,\n      'unsafe',\n      'Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol'\n   );\n}\n\nfunction preventUploadPack(arg: string, method: string) {\n   if (/^\\s*--(upload|receive)-pack/.test(arg)) {\n      throw new GitPluginError(\n         undefined,\n         'unsafe',\n         `Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack`\n      );\n   }\n\n   if (method === 'clone' && /^\\s*-u\\b/.test(arg)) {\n      throw new GitPluginError(\n         undefined,\n         'unsafe',\n         `Use of clone with option -u is not permitted without enabling allowUnsafePack`\n      );\n   }\n\n   if (method === 'push' && /^\\s*--exec\\b/.test(arg)) {\n      throw new GitPluginError(\n         undefined,\n         'unsafe',\n         `Use of push with option --exec is not permitted without enabling allowUnsafePack`\n      );\n   }\n}\n\nexport function blockUnsafeOperationsPlugin({\n   allowUnsafeProtocolOverride = false,\n   allowUnsafePack = false,\n}: SimpleGitPluginConfig['unsafe'] = {}): SimpleGitPlugin<'spawn.args'> {\n   return {\n      type: 'spawn.args',\n      action(args, context) {\n         args.forEach((current, index) => {\n            const next = index < args.length ? args[index + 1] : '';\n\n            allowUnsafeProtocolOverride || preventProtocolOverride(current, next);\n            allowUnsafePack || preventUploadPack(current, context.method);\n         });\n\n         return args;\n      },\n   };\n}\n", "import { prefixedArray } from '../utils';\nimport { SimpleGitPlugin } from './simple-git-plugin';\n\nexport function commandConfigPrefixingPlugin(\n   configuration: string[]\n): SimpleGitPlugin<'spawn.args'> {\n   const prefix = prefixedArray(configuration, '-c');\n\n   return {\n      type: 'spawn.args',\n      action(data) {\n         return [...prefix, ...data];\n      },\n   };\n}\n", "import { deferred, DeferredPromise } from '@kwsites/promise-deferred';\nimport { SimpleGitPluginConfig } from '../types';\nimport { delay } from '../utils';\nimport { SimpleGitPlugin } from './simple-git-plugin';\n\nconst never = deferred().promise;\n\nexport function completionDetectionPlugin({\n   onClose = true,\n   onExit = 50,\n}: SimpleGitPluginConfig['completion'] = {}): SimpleGitPlugin<'spawn.after'> {\n   function createEvents() {\n      let exitCode = -1;\n      const events = {\n         close: deferred(),\n         closeTimeout: deferred(),\n         exit: deferred(),\n         exitTimeout: deferred(),\n      };\n\n      const result = Promise.race([\n         onClose === false ? never : events.closeTimeout.promise,\n         onExit === false ? never : events.exitTimeout.promise,\n      ]);\n\n      configureTimeout(onClose, events.close, events.closeTimeout);\n      configureTimeout(onExit, events.exit, events.exitTimeout);\n\n      return {\n         close(code: number) {\n            exitCode = code;\n            events.close.done();\n         },\n         exit(code: number) {\n            exitCode = code;\n            events.exit.done();\n         },\n         get exitCode() {\n            return exitCode;\n         },\n         result,\n      };\n   }\n\n   function configureTimeout(\n      flag: boolean | number,\n      event: DeferredPromise<void>,\n      timeout: DeferredPromise<void>\n   ) {\n      if (flag === false) {\n         return;\n      }\n\n      (flag === true ? event.promise : event.promise.then(() => delay(flag))).then(timeout.done);\n   }\n\n   return {\n      type: 'spawn.after',\n      async action(_data, { spawned, close }) {\n         const events = createEvents();\n\n         let deferClose = true;\n         let quickClose = () => void (deferClose = false);\n\n         spawned.stdout?.on('data', quickClose);\n         spawned.stderr?.on('data', quickClose);\n         spawned.on('error', quickClose);\n\n         spawned.on('close', (code: number) => events.close(code));\n         spawned.on('exit', (code: number) => events.exit(code));\n\n         try {\n            await events.result;\n            if (deferClose) {\n               await delay(50);\n            }\n            close(events.exitCode);\n         } catch (err) {\n            close(events.exitCode, err as Error);\n         }\n      },\n   };\n}\n", "import type { SimpleGitOptions } from '../types';\n\nimport { GitPluginError } from '../errors/git-plugin-error';\nimport { asArray } from '../utils';\nimport { PluginStore } from './plugin-store';\n\nconst WRONG_NUMBER_ERR = `Invalid value supplied for custom binary, requires a single string or an array containing either one or two strings`;\nconst WRONG_CHARS_ERR = `Invalid value supplied for custom binary, restricted characters must be removed or supply the unsafe.allowUnsafeCustomBinary option`;\n\nfunction isBadArgument(arg: string) {\n   return !arg || !/^([a-z]:)?([a-z0-9/.\\\\_-]+)$/i.test(arg);\n}\n\nfunction toBinaryConfig(\n   input: string[],\n   allowUnsafe: boolean\n): { binary: string; prefix?: string } {\n   if (input.length < 1 || input.length > 2) {\n      throw new GitPluginError(undefined, 'binary', WRONG_NUMBER_ERR);\n   }\n\n   const isBad = input.some(isBadArgument);\n   if (isBad) {\n      if (allowUnsafe) {\n         console.warn(WRONG_CHARS_ERR);\n      } else {\n         throw new GitPluginError(undefined, 'binary', WRONG_CHARS_ERR);\n      }\n   }\n\n   const [binary, prefix] = input;\n   return {\n      binary,\n      prefix,\n   };\n}\n\nexport function customBinaryPlugin(\n   plugins: PluginStore,\n   input: SimpleGitOptions['binary'] = ['git'],\n   allowUnsafe = false\n) {\n   let config = toBinaryConfig(asArray(input), allowUnsafe);\n\n   plugins.on('binary', (input) => {\n      config = toBinaryConfig(asArray(input), allowUnsafe);\n   });\n\n   plugins.append('spawn.binary', () => {\n      return config.binary;\n   });\n\n   plugins.append('spawn.args', (data) => {\n      return config.prefix ? [config.prefix, ...data] : data;\n   });\n}\n", "import { GitError } from '../errors/git-error';\nimport { GitExecutorResult, SimpleGitPluginConfig } from '../types';\nimport { SimpleGitPlugin } from './simple-git-plugin';\n\ntype TaskResult = Omit<GitExecutorResult, 'rejection'>;\n\nfunction isTaskError(result: TaskResult) {\n   return !!(result.exitCode && result.stdErr.length);\n}\n\nfunction getErrorMessage(result: TaskResult) {\n   return Buffer.concat([...result.stdOut, ...result.stdErr]);\n}\n\nexport function errorDetectionHandler(\n   overwrite = false,\n   isError = isTaskError,\n   errorMessage: (result: TaskResult) => Buffer | Error = getErrorMessage\n) {\n   return (error: Buffer | Error | undefined, result: TaskResult) => {\n      if ((!overwrite && error) || !isError(result)) {\n         return error;\n      }\n\n      return errorMessage(result);\n   };\n}\n\nexport function errorDetectionPlugin(\n   config: SimpleGitPluginConfig['errors']\n): SimpleGitPlugin<'task.error'> {\n   return {\n      type: 'task.error',\n      action(data, context) {\n         const error = config(data.error, {\n            stdErr: context.stdErr,\n            stdOut: context.stdOut,\n            exitCode: context.exitCode,\n         });\n\n         if (Buffer.isBuffer(error)) {\n            return { error: new GitError(undefined, error.toString('utf-8')) };\n         }\n\n         return {\n            error,\n         };\n      },\n   };\n}\n", "import { EventEmitter } from 'node:events';\n\nimport type {\n   SimpleGitPlugin,\n   SimpleGitPluginType,\n   SimpleGitPluginTypes,\n} from './simple-git-plugin';\nimport { append, asArray } from '../utils';\nimport type { SimpleGitPluginConfig } from '../types';\n\nexport class PluginStore {\n   private plugins: Set<SimpleGitPlugin<SimpleGitPluginType>> = new Set();\n   private events = new EventEmitter();\n\n   on<K extends keyof SimpleGitPluginConfig>(\n      type: K,\n      listener: (data: SimpleGitPluginConfig[K]) => void\n   ) {\n      this.events.on(type, listener);\n   }\n\n   reconfigure<K extends keyof SimpleGitPluginConfig>(type: K, data: SimpleGitPluginConfig[K]) {\n      this.events.emit(type, data);\n   }\n\n   public append<T extends SimpleGitPluginType>(type: T, action: SimpleGitPlugin<T>['action']) {\n      const plugin = append(this.plugins, { type, action });\n\n      return () => this.plugins.delete(plugin);\n   }\n\n   public add<T extends SimpleGitPluginType>(\n      plugin: void | SimpleGitPlugin<T> | SimpleGitPlugin<T>[]\n   ) {\n      const plugins: SimpleGitPlugin<T>[] = [];\n\n      asArray(plugin).forEach((plugin) => plugin && this.plugins.add(append(plugins, plugin)));\n\n      return () => {\n         plugins.forEach((plugin) => this.plugins.delete(plugin));\n      };\n   }\n\n   public exec<T extends SimpleGitPluginType>(\n      type: T,\n      data: SimpleGitPluginTypes[T]['data'],\n      context: SimpleGitPluginTypes[T]['context']\n   ): typeof data {\n      let output = data;\n      const contextual = Object.freeze(Object.create(context));\n\n      for (const plugin of this.plugins) {\n         if (plugin.type === type) {\n            output = plugin.action(output, contextual);\n         }\n      }\n\n      return output;\n   }\n}\n", "import { SimpleGitOptions } from '../types';\nimport { asNumber, including } from '../utils';\n\nimport { SimpleGitPlugin } from './simple-git-plugin';\n\nexport function progressMonitorPlugin(progress: Exclude<SimpleGitOptions['progress'], void>) {\n   const progressCommand = '--progress';\n   const progressMethods = ['checkout', 'clone', 'fetch', 'pull', 'push'];\n\n   const onProgress: SimpleGitPlugin<'spawn.after'> = {\n      type: 'spawn.after',\n      action(_data, context) {\n         if (!context.commands.includes(progressCommand)) {\n            return;\n         }\n\n         context.spawned.stderr?.on('data', (chunk: Buffer) => {\n            const message = /^([\\s\\S]+?):\\s*(\\d+)% \\((\\d+)\\/(\\d+)\\)/.exec(chunk.toString('utf8'));\n            if (!message) {\n               return;\n            }\n\n            progress({\n               method: context.method,\n               stage: progressEventStage(message[1]),\n               progress: asNumber(message[2]),\n               processed: asNumber(message[3]),\n               total: asNumber(message[4]),\n            });\n         });\n      },\n   };\n\n   const onArgs: SimpleGitPlugin<'spawn.args'> = {\n      type: 'spawn.args',\n      action(args, context) {\n         if (!progressMethods.includes(context.method)) {\n            return args;\n         }\n\n         return including(args, progressCommand);\n      },\n   };\n\n   return [onArgs, onProgress];\n}\n\nfunction progressEventStage(input: string) {\n   return String(input.toLowerCase().split(' ', 1)) || 'unknown';\n}\n", "import { SpawnOptions } from 'child_process';\nimport { pick } from '../utils';\nimport { SimpleGitPlugin } from './simple-git-plugin';\n\nexport function spawnOptionsPlugin(\n   spawnOptions: Partial<SpawnOptions>\n): SimpleGitPlugin<'spawn.options'> {\n   const options = pick(spawnOptions, ['uid', 'gid']);\n\n   return {\n      type: 'spawn.options',\n      action(data) {\n         return { ...options, ...data };\n      },\n   };\n}\n", "import type { SimpleGitPlugin } from './simple-git-plugin';\n\nimport type { SimpleGitOptions } from '../types';\nimport { GitPluginError } from '../errors/git-plugin-error';\n\nexport function timeoutPlugin({\n   block,\n   stdErr = true,\n   stdOut = true,\n}: Exclude<SimpleGitOptions['timeout'], undefined>): SimpleGitPlugin<'spawn.after'> | void {\n   if (block > 0) {\n      return {\n         type: 'spawn.after',\n         action(_data, context) {\n            let timeout: NodeJS.Timeout;\n\n            function wait() {\n               timeout && clearTimeout(timeout);\n               timeout = setTimeout(kill, block);\n            }\n\n            function stop() {\n               context.spawned.stdout?.off('data', wait);\n               context.spawned.stderr?.off('data', wait);\n               context.spawned.off('exit', stop);\n               context.spawned.off('close', stop);\n               timeout && clearTimeout(timeout);\n            }\n\n            function kill() {\n               stop();\n               context.kill(new GitPluginError(undefined, 'timeout', `block timeout reached`));\n            }\n\n            stdOut && context.spawned.stdout?.on('data', wait);\n            stdErr && context.spawned.stderr?.on('data', wait);\n            context.spawned.on('exit', stop);\n            context.spawned.on('close', stop);\n\n            wait();\n         },\n      };\n   }\n}\n", "import { SimpleGitPlugin } from './simple-git-plugin';\nimport { isPathSpec, toPaths } from '../args/pathspec';\n\nexport function suffixPathsPlugin(): SimpleGitPlugin<'spawn.args'> {\n   return {\n      type: 'spawn.args',\n      action(data) {\n         const prefix: string[] = [];\n         let suffix: undefined | string[];\n         function append(args: string[]) {\n            (suffix = suffix || []).push(...args);\n         }\n\n         for (let i = 0; i < data.length; i++) {\n            const param = data[i];\n\n            if (isPathSpec(param)) {\n               append(toPaths(param));\n               continue;\n            }\n\n            if (param === '--') {\n               append(\n                  data.slice(i + 1).flatMap((item) => (isPathSpec(item) && toPaths(item)) || item)\n               );\n               break;\n            }\n\n            prefix.push(param);\n         }\n\n         return !suffix ? prefix : [...prefix, '--', ...suffix.map(String)];\n      },\n   };\n}\n", "import { SimpleGitFactory } from '../../typings';\n\nimport * as api from './api';\nimport {\n   abortPlugin,\n   blockUnsafeOperationsPlugin,\n   commandConfigPrefixingPlugin,\n   completionDetectionPlugin,\n   customBinaryPlugin,\n   errorDetectionHandler,\n   errorDetectionPlugin,\n   PluginStore,\n   progressMonitorPlugin,\n   spawnOptionsPlugin,\n   timeoutPlugin,\n} from './plugins';\nimport { suffixPathsPlugin } from './plugins/suffix-paths.plugin';\nimport { createInstanceConfig, folderExists } from './utils';\nimport { SimpleGitOptions } from './types';\n\nconst Git = require('../git');\n\n/**\n * Adds the necessary properties to the supplied object to enable it for use as\n * the default export of a module.\n *\n * Eg: `module.exports = esModuleFactory({ something () {} })`\n */\nexport function esModuleFactory<T>(defaultExport: T) {\n   return Object.defineProperties(defaultExport, {\n      __esModule: { value: true },\n      default: { value: defaultExport },\n   }) as T & { __esModule: true; default: T };\n}\n\nexport function gitExportFactory(factory: SimpleGitFactory) {\n   return Object.assign(factory.bind(null), api);\n}\n\nexport function gitInstanceFactory(\n   baseDir?: string | Partial<SimpleGitOptions>,\n   options?: Partial<SimpleGitOptions>\n) {\n   const plugins = new PluginStore();\n   const config = createInstanceConfig(\n      (baseDir && (typeof baseDir === 'string' ? { baseDir } : baseDir)) || {},\n      options\n   );\n\n   if (!folderExists(config.baseDir)) {\n      throw new api.GitConstructError(\n         config,\n         `Cannot use simple-git on a directory that does not exist`\n      );\n   }\n\n   if (Array.isArray(config.config)) {\n      plugins.add(commandConfigPrefixingPlugin(config.config));\n   }\n\n   plugins.add(blockUnsafeOperationsPlugin(config.unsafe));\n   plugins.add(suffixPathsPlugin());\n   plugins.add(completionDetectionPlugin(config.completion));\n   config.abort && plugins.add(abortPlugin(config.abort));\n   config.progress && plugins.add(progressMonitorPlugin(config.progress));\n   config.timeout && plugins.add(timeoutPlugin(config.timeout));\n   config.spawnOptions && plugins.add(spawnOptionsPlugin(config.spawnOptions));\n\n   plugins.add(errorDetectionPlugin(errorDetectionHandler(true)));\n   config.errors && plugins.add(errorDetectionPlugin(config.errors));\n\n   customBinaryPlugin(plugins, config.binary, config.unsafe?.allowUnsafeCustomBinary);\n\n   return new Git(config, plugins);\n}\n", "import { SimpleGit, SimpleGitOptions } from '../../../typings';\n\nimport { GitResponseError } from '../errors/git-response-error';\nimport { gitInstanceFactory } from '../git-factory';\nimport { SimpleGitTaskCallback } from '../types';\n\nconst functionNamesBuilderApi = ['customBinary', 'env', 'outputHandler', 'silent'];\n\nconst functionNamesPromiseApi = [\n   'add',\n   'addAnnotatedTag',\n   'addConfig',\n   'addRemote',\n   'addTag',\n   'applyPatch',\n   'binaryCatFile',\n   'branch',\n   'branchLocal',\n   'catFile',\n   'checkIgnore',\n   'checkIsRepo',\n   'checkout',\n   'checkoutBranch',\n   'checkoutLatestTag',\n   'checkoutLocalBranch',\n   'clean',\n   'clone',\n   'commit',\n   'cwd',\n   'deleteLocalBranch',\n   'deleteLocalBranches',\n   'diff',\n   'diffSummary',\n   'exec',\n   'fetch',\n   'getRemotes',\n   'init',\n   'listConfig',\n   'listRemote',\n   'log',\n   'merge',\n   'mergeFromTo',\n   'mirror',\n   'mv',\n   'pull',\n   'push',\n   'pushTags',\n   'raw',\n   'rebase',\n   'remote',\n   'removeRemote',\n   'reset',\n   'revert',\n   'revparse',\n   'rm',\n   'rmKeepLocal',\n   'show',\n   'stash',\n   'stashList',\n   'status',\n   'subModule',\n   'submoduleAdd',\n   'submoduleInit',\n   'submoduleUpdate',\n   'tag',\n   'tags',\n   'updateServerInfo',\n];\n\nexport function gitP(\n   ...args: [] | [string] | [Partial<SimpleGitOptions>] | [string, Partial<SimpleGitOptions>]\n): SimpleGit {\n   let git: any;\n\n   let chain = Promise.resolve();\n\n   try {\n      git = gitInstanceFactory(...args);\n   } catch (e) {\n      chain = Promise.reject(e);\n   }\n\n   function builderReturn() {\n      return promiseApi;\n   }\n\n   function chainReturn() {\n      return chain;\n   }\n\n   const promiseApi = [...functionNamesBuilderApi, ...functionNamesPromiseApi].reduce(\n      (api: any, name: string) => {\n         const isAsync = functionNamesPromiseApi.includes(name);\n\n         const valid = isAsync ? asyncWrapper(name, git) : syncWrapper(name, git, api);\n         const alternative = isAsync ? chainReturn : builderReturn;\n\n         Object.defineProperty(api, name, {\n            enumerable: false,\n            configurable: false,\n            value: git ? valid : alternative,\n         });\n\n         return api;\n      },\n      {}\n   );\n\n   return promiseApi as SimpleGit;\n\n   function asyncWrapper(fn: string, git: any): (...args: any[]) => Promise<any> {\n      return function (...args: any[]) {\n         if (typeof args[args.length] === 'function') {\n            throw new TypeError(\n               'Promise interface requires that handlers are not supplied inline, ' +\n                  'trailing function not allowed in call to ' +\n                  fn\n            );\n         }\n\n         return chain.then(function () {\n            return new Promise(function (resolve, reject) {\n               const callback: SimpleGitTaskCallback = (err: Error | null, result?: any) => {\n                  if (err) {\n                     return reject(toError(err));\n                  }\n\n                  resolve(result);\n               };\n               args.push(callback);\n\n               git[fn].apply(git, args);\n            });\n         });\n      };\n   }\n\n   function syncWrapper(fn: string, git: any, api: SimpleGit) {\n      return (...args: any[]) => {\n         git[fn](...args);\n\n         return api;\n      };\n   }\n}\n\nfunction toError(error: Error | string | any): Error {\n   if (error instanceof Error) {\n      return error;\n   }\n\n   if (typeof error === 'string') {\n      return new Error(error);\n   }\n\n   return new GitResponseError(error);\n}\n", "import { gitInstanceFactory } from './lib/git-factory';\n\nexport { gitP } from './lib/runners/promise-wrapped';\nexport * from './lib/api';\n\nexport const simpleGit = gitInstanceFactory;\n\nexport default gitInstanceFactory;\n", "import * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport * as path from 'path'\nimport { HiveService } from '../services/hiveService'\nimport { Feature, Step } from '../types'\n\ntype FeatureStatus = 'in_progress' | 'completed' | 'pending'\n\ntype HiveItem = FeatureItem | FolderItem | FileItem | ExecutionItem | StepItem | SpecFileItem | ReportFileItem | DiffFileItem | SessionTreeItem | FeatureStatusGroupItem | DecisionItem\n\nfunction classifyFeatureStatus(feature: Feature): FeatureStatus {\n  if (feature.status === 'completed' || feature.status === 'archived') return 'completed'\n  if (feature.stepsCount === 0) return 'pending'\n  if (feature.doneCount === 0) return 'pending'\n  if (feature.doneCount === feature.stepsCount) return 'completed'\n  return 'in_progress'\n}\n\nclass FeatureStatusGroupItem extends vscode.TreeItem {\n  constructor(\n    public readonly status: FeatureStatus,\n    public readonly features: Feature[]\n  ) {\n    const labels: Record<FeatureStatus, string> = { completed: 'COMPLETED', in_progress: 'IN-PROGRESS', pending: 'PENDING' }\n    const icons: Record<FeatureStatus, string> = { completed: 'pass-filled', in_progress: 'sync~spin', pending: 'circle-outline' }\n    super(labels[status], features.length > 0 ? vscode.TreeItemCollapsibleState.Expanded : vscode.TreeItemCollapsibleState.None)\n    this.contextValue = 'featureStatusGroup'\n    this.iconPath = new vscode.ThemeIcon(icons[status])\n    this.description = `${features.length}`\n  }\n}\n\nclass FeatureItem extends vscode.TreeItem {\n  public readonly featureName: string\n  public readonly isCompleted: boolean\n\n  constructor(public readonly feature: Feature) {\n    super(feature.name, vscode.TreeItemCollapsibleState.Expanded)\n    this.featureName = feature.name\n    this.isCompleted = feature.status === 'completed' || feature.status === 'archived'\n    \n    if (this.isCompleted && feature.completedAt) {\n      const date = new Date(feature.completedAt).toLocaleDateString()\n      this.description = `\u2713 ${date}`\n    } else {\n      this.description = `${feature.progress}% (${feature.doneCount}/${feature.stepsCount})`\n    }\n    \n    this.contextValue = this.isCompleted ? 'featureCompleted' : 'feature'\n    this.iconPath = new vscode.ThemeIcon(this.isCompleted ? 'pass-filled' : 'package')\n    this.command = {\n      command: 'hive.showFeature',\n      title: 'Show Feature Details',\n      arguments: [feature.name]\n    }\n  }\n}\n\nclass FolderItem extends vscode.TreeItem {\n  constructor(\n    label: string,\n    public readonly featureName: string,\n    public readonly folder: 'requirements' | 'context',\n    icon: string,\n    hasChildren: boolean\n  ) {\n    super(label, hasChildren ? vscode.TreeItemCollapsibleState.Collapsed : vscode.TreeItemCollapsibleState.None)\n    this.contextValue = 'folder'\n    this.iconPath = new vscode.ThemeIcon(icon)\n  }\n}\n\nclass FileItem extends vscode.TreeItem {\n  constructor(\n    public readonly filename: string,\n    public readonly featureName: string,\n    public readonly folder: 'requirements' | 'context',\n    public readonly filePath: string\n  ) {\n    super(filename, vscode.TreeItemCollapsibleState.None)\n    this.contextValue = 'file'\n    this.iconPath = new vscode.ThemeIcon(filename.endsWith('.md') ? 'markdown' : 'file')\n    this.command = {\n      command: 'vscode.open',\n      title: 'Open File',\n      arguments: [vscode.Uri.file(filePath)]\n    }\n    this.resourceUri = vscode.Uri.file(filePath)\n  }\n}\n\nclass ExecutionItem extends vscode.TreeItem {\n  constructor(public readonly feature: Feature) {\n    super('Execution', vscode.TreeItemCollapsibleState.Expanded)\n    this.contextValue = 'execution'\n    this.iconPath = new vscode.ThemeIcon('run-all')\n  }\n}\n\nclass StepItem extends vscode.TreeItem {\n  private static statusIcons: Record<string, string> = {\n    done: 'pass',\n    in_progress: 'sync~spin',\n    pending: 'circle-outline',\n    blocked: 'error'\n  }\n\n  public readonly stepName: string\n  public readonly stepFolder: string\n  public readonly sessionId?: string\n  public readonly canRevert: boolean\n\n  constructor(\n    public readonly featureName: string,\n    public readonly step: Step,\n    hasSpecFiles: boolean\n  ) {\n    const canRevert = step.status === 'done' && step.execution?.canRevert === true\n    const label = `${String(step.order).padStart(2, '0')}-${step.name}${canRevert ? ' \u27F2' : ''}`\n    \n    super(\n      label,\n      (hasSpecFiles || step.sessionId || step.status === 'done') ? vscode.TreeItemCollapsibleState.Collapsed : vscode.TreeItemCollapsibleState.None\n    )\n    this.stepName = step.name\n    this.stepFolder = step.folderPath\n    this.sessionId = step.sessionId\n    this.canRevert = canRevert\n    this.contextValue = canRevert ? 'stepWithRevert' : 'step'\n    this.iconPath = new vscode.ThemeIcon(StepItem.statusIcons[step.status] || 'circle-outline')\n    \n    if (step.summary) {\n      this.description = step.summary\n    }\n\n    if (step.sessionId) {\n      this.tooltip = `Session: ${step.sessionId}`\n    } else if (canRevert) {\n      this.tooltip = 'Can be reverted'\n    }\n  }\n}\n\nclass SpecFileItem extends vscode.TreeItem {\n  constructor(\n    public readonly filename: string,\n    public readonly featureName: string,\n    public readonly stepFolder: string,\n    public readonly filePath: string\n  ) {\n    super(filename, vscode.TreeItemCollapsibleState.None)\n    this.contextValue = 'specFile'\n    this.iconPath = new vscode.ThemeIcon('markdown')\n    this.command = {\n      command: 'vscode.open',\n      title: 'Open Spec',\n      arguments: [vscode.Uri.file(filePath)]\n    }\n    this.resourceUri = vscode.Uri.file(filePath)\n  }\n}\n\nclass ReportFileItem extends vscode.TreeItem {\n  constructor(\n    public readonly featureName: string,\n    public readonly stepFolder: string,\n    public readonly filePath: string\n  ) {\n    super('report.json', vscode.TreeItemCollapsibleState.None)\n    this.contextValue = 'reportFile'\n    this.iconPath = new vscode.ThemeIcon('file-json')\n    this.command = {\n      command: 'vscode.open',\n      title: 'Open Report',\n      arguments: [vscode.Uri.file(filePath)]\n    }\n    this.resourceUri = vscode.Uri.file(filePath)\n  }\n}\n\nclass DiffFileItem extends vscode.TreeItem {\n  constructor(\n    public readonly featureName: string,\n    public readonly stepFolder: string,\n    public readonly filePath: string\n  ) {\n    super('output.diff', vscode.TreeItemCollapsibleState.None)\n    this.contextValue = 'diffFile'\n    this.iconPath = new vscode.ThemeIcon('file-code')\n    this.command = {\n      command: 'hive.viewDiff',\n      title: 'View Diff',\n      arguments: [vscode.Uri.file(filePath)]\n    }\n    this.resourceUri = vscode.Uri.file(filePath)\n  }\n}\n\nclass SessionTreeItem extends vscode.TreeItem {\n  constructor(\n    public readonly featureName: string,\n    public readonly stepFolder: string,\n    public readonly session: { id: string; title?: string; isParent: boolean; summary?: string }\n  ) {\n    super(session.title || session.id, vscode.TreeItemCollapsibleState.None)\n    this.contextValue = 'session'\n    this.iconPath = this.getIcon()\n    this.description = session.isParent ? 'main' : this.parseAgentType()\n    if (session.summary) {\n      this.tooltip = session.summary\n    }\n    this.command = {\n      command: 'hive.openSession',\n      title: 'Open in OpenCode',\n      arguments: [{ session }]\n    }\n  }\n\n  private parseAgentType(): string | undefined {\n    const match = this.session.title?.match(/@(\\w+)\\s+subagent/)\n    return match?.[1]\n  }\n\n  private getIcon(): vscode.ThemeIcon {\n    if (this.session.isParent) return new vscode.ThemeIcon('circle-filled')\n    const agent = this.parseAgentType()\n    switch (agent) {\n      case 'explore': return new vscode.ThemeIcon('search')\n      case 'librarian': return new vscode.ThemeIcon('book')\n      case 'general': return new vscode.ThemeIcon('hubot')\n      case 'oracle': return new vscode.ThemeIcon('lightbulb')\n      default: return new vscode.ThemeIcon('terminal')\n    }\n  }\n}\n\nclass DecisionItem extends vscode.TreeItem {\n  constructor(\n    public readonly featureName: string,\n    public readonly decision: { filename: string; title: string; filePath: string }\n  ) {\n    super(decision.title, vscode.TreeItemCollapsibleState.None)\n    this.contextValue = 'decision'\n    this.iconPath = new vscode.ThemeIcon('lightbulb')\n    this.description = decision.filename\n    this.command = {\n      command: 'vscode.open',\n      title: 'Open Decision',\n      arguments: [vscode.Uri.file(decision.filePath)]\n    }\n    this.resourceUri = vscode.Uri.file(decision.filePath)\n  }\n}\n\nexport class HiveSidebarProvider implements vscode.TreeDataProvider<HiveItem> {\n  private _onDidChangeTreeData = new vscode.EventEmitter<HiveItem | undefined>()\n  readonly onDidChangeTreeData = this._onDidChangeTreeData.event\n\n  constructor(private hiveService: HiveService) {}\n\n  refresh(): void {\n    this._onDidChangeTreeData.fire(undefined)\n  }\n\n  getTreeItem(element: HiveItem): vscode.TreeItem {\n    return element\n  }\n\n  async getChildren(element?: HiveItem): Promise<HiveItem[]> {\n    if (!element) {\n      const features = this.hiveService.getFeatures()\n      const grouped: Record<FeatureStatus, Feature[]> = { in_progress: [], pending: [], completed: [] }\n      \n      for (const f of features) {\n        grouped[classifyFeatureStatus(f)].push(f)\n      }\n      \n      // Sort by completion % (descending for in_progress, ascending for pending)\n      grouped.in_progress.sort((a, b) => b.progress - a.progress)\n      grouped.pending.sort((a, b) => a.progress - b.progress)\n      grouped.completed.sort((a, b) => b.progress - a.progress)\n      \n      const result: HiveItem[] = []\n      // Order: IN-PROGRESS, PENDING, COMPLETED\n      if (grouped.in_progress.length > 0) result.push(new FeatureStatusGroupItem('in_progress', grouped.in_progress))\n      if (grouped.pending.length > 0) result.push(new FeatureStatusGroupItem('pending', grouped.pending))\n      if (grouped.completed.length > 0) result.push(new FeatureStatusGroupItem('completed', grouped.completed))\n      \n      return result\n    }\n\n    if (element instanceof FeatureStatusGroupItem) {\n      return element.features.map(f => new FeatureItem(f))\n    }\n\n    if (element instanceof FeatureItem) {\n      const requirementsFiles = this.hiveService.getFilesInFolder(element.feature.name, 'requirements')\n      const contextFiles = this.hiveService.getFilesInFolder(element.feature.name, 'context')\n      return [\n        new FolderItem('Requirements', element.feature.name, 'requirements', 'question', requirementsFiles.length > 0),\n        new FolderItem('Context', element.feature.name, 'context', 'lightbulb', contextFiles.length > 0),\n        new ExecutionItem(element.feature)\n      ]\n    }\n\n    if (element instanceof FolderItem) {\n      if (element.folder === 'context') {\n        const decisions = this.hiveService.getDecisions(element.featureName)\n        return decisions.map(d => new DecisionItem(element.featureName, d))\n      }\n      const files = this.hiveService.getFilesInFolder(element.featureName, element.folder)\n      return files.map(f => new FileItem(\n        f,\n        element.featureName,\n        element.folder,\n        this.hiveService.getFilePath(element.featureName, element.folder, f)\n      ))\n    }\n\n    if (element instanceof ExecutionItem) {\n      return element.feature.steps.map(s => new StepItem(\n        element.feature.name, \n        s, \n        s.specFiles.length > 0\n      ))\n    }\n\n    if (element instanceof StepItem) {\n      const step = this.hiveService.getFeature(element.featureName).steps.find(s => s.folderPath === element.stepFolder)\n      if (!step) return []\n\n      const children: HiveItem[] = []\n      const stepPath = path.join(this.hiveService['basePath'], 'features', element.featureName, 'execution', element.stepFolder)\n\n      children.push(...step.specFiles.map(f => new SpecFileItem(\n        f,\n        element.featureName,\n        element.stepFolder,\n        this.hiveService.getStepFilePath(element.featureName, element.stepFolder, f)\n      )))\n\n      const reportPath = path.join(stepPath, 'report.json')\n      if (fs.existsSync(reportPath)) {\n        children.push(new ReportFileItem(\n          element.featureName,\n          element.stepFolder,\n          reportPath\n        ))\n      }\n\n      const diffPath = path.join(stepPath, 'output.diff')\n      if (fs.existsSync(diffPath)) {\n        children.push(new DiffFileItem(\n          element.featureName,\n          element.stepFolder,\n          diffPath\n        ))\n      }\n\n      if (element.sessionId) {\n        const sessions = await this.hiveService.getStepSessions(element.featureName, element.stepFolder)\n        children.push(...sessions.map(s => new SessionTreeItem(element.featureName, element.stepFolder, s)))\n      }\n\n      return children\n    }\n\n    return []\n  }\n}\n", "import * as vscode from 'vscode'\nimport { HiveService } from '../services/hiveService'\nimport { Step, Batch } from '../types'\n\nexport class HivePanelProvider implements vscode.WebviewViewProvider {\n  public static readonly viewType = 'hive.panel'\n  private _view?: vscode.WebviewView\n  private currentFeatureName?: string\n\n  constructor(\n    private readonly extensionUri: vscode.Uri,\n    private readonly hiveService: HiveService\n  ) {}\n\n  resolveWebviewView(webviewView: vscode.WebviewView): void {\n    this._view = webviewView\n\n    webviewView.webview.options = {\n      enableScripts: true,\n      localResourceRoots: [this.extensionUri]\n    }\n\n    webviewView.webview.html = this.getHtml()\n\n    webviewView.webview.onDidReceiveMessage(message => {\n      switch (message.command) {\n        case 'openInOpenCode':\n          vscode.commands.executeCommand('hive.openInOpenCode', {\n            featureName: message.feature,\n            stepFolder: message.step\n          })\n          break\n        case 'viewDiff':\n          this.viewDiff(message.feature, message.step)\n          break\n        case 'viewReport':\n          this.viewStepReport(message.feature, message.step)\n          break\n        case 'editSpec':\n          this.editSpec(message.feature, message.step)\n          break\n        case 'revertStep':\n          this.revertStep(message.feature, message.step)\n          break\n        case 'revertBatch':\n          this.revertBatch(message.feature, message.order)\n          break\n        case 'executeBatch':\n          this.executeBatch(message.feature, message.order)\n          break\n      }\n    })\n  }\n\n  private viewDiff(featureName: string, stepFolder: string): void {\n    const diffPath = this.hiveService.getStepDiffPath(featureName, stepFolder)\n    if (diffPath) {\n      vscode.commands.executeCommand('hive.viewDiff', \n        this.hiveService.getStepFilePath(featureName, stepFolder, '').replace(/\\/$/, ''))\n    } else {\n      vscode.window.showInformationMessage('No diff available for this step')\n    }\n  }\n\n  private viewStepReport(featureName: string, stepFolder: string): void {\n    const reportPath = this.hiveService.getStepFilePath(featureName, stepFolder, 'report.json')\n    vscode.workspace.openTextDocument(reportPath)\n      .then(doc => vscode.window.showTextDocument(doc))\n      .then(undefined, () => vscode.window.showInformationMessage('No report available for this step'))\n  }\n\n  private editSpec(featureName: string, stepFolder: string): void {\n    const specPath = this.hiveService.getStepFilePath(featureName, stepFolder, 'spec.md')\n    vscode.workspace.openTextDocument(specPath)\n      .then(doc => vscode.window.showTextDocument(doc))\n  }\n\n  private async revertStep(featureName: string, stepFolder: string): Promise<void> {\n    const confirm = await vscode.window.showWarningMessage(\n      `Revert step ${stepFolder}?`,\n      { modal: true },\n      'Revert'\n    )\n    if (confirm === 'Revert') {\n      const terminal = vscode.window.createTerminal('Hive - Revert')\n      terminal.sendText(`opencode --command \"hive_exec_revert stepFolder=${stepFolder}\"`)\n      terminal.show()\n    }\n  }\n\n  private async revertBatch(featureName: string, order: number): Promise<void> {\n    vscode.window.showInformationMessage(\n      'Batch revert removed. Use hive_exec_revert on individual steps.'\n    )\n  }\n\n  private executeBatch(featureName: string, order: number): void {\n    vscode.window.showInformationMessage(\n      'Batch execute removed. Use hive_exec_start on individual steps.'\n    )\n  }\n\n  showFeature(featureName: string): void {\n    if (!this._view) return\n    this.currentFeatureName = featureName\n\n    const feature = this.hiveService.getFeature(featureName)\n    const batches = this.hiveService.getBatches(featureName)\n    const requirements = this.hiveService.getRequirements(featureName)\n    const context = this.hiveService.getContext(featureName)\n\n    const batchesWithStats = batches.map(batch => ({\n      ...batch,\n      steps: batch.steps.map(step => ({\n        ...step,\n        duration: this.hiveService.formatDuration(step.startedAt, step.completedAt),\n        report: this.hiveService.getStepReport(featureName, step.folderPath)\n      }))\n    }))\n\n    this._view.webview.postMessage({\n      command: 'showFeature',\n      data: { feature, batches: batchesWithStats, requirements, context }\n    })\n  }\n\n  private getHtml(): string {\n    return `<!DOCTYPE html>\n<html>\n<head>\n  <style>\n    body { \n      font-family: var(--vscode-font-family); \n      padding: 12px; \n      color: var(--vscode-foreground);\n      font-size: 13px;\n    }\n    h2 { \n      margin: 0 0 16px 0; \n      font-size: 16px; \n      font-weight: 600;\n    }\n    .section { \n      margin-bottom: 16px; \n    }\n    .section-title { \n      font-weight: bold; \n      margin-bottom: 8px; \n      text-transform: uppercase; \n      font-size: 11px; \n      opacity: 0.7; \n    }\n    .section-content { \n      font-size: 12px; \n      white-space: pre-wrap;\n      background: var(--vscode-textBlockQuote-background);\n      padding: 8px;\n      border-radius: 4px;\n      max-height: 150px;\n      overflow-y: auto;\n    }\n    .batch { \n      margin-bottom: 16px; \n    }\n    .batch-header { \n      display: flex; \n      justify-content: space-between; \n      align-items: center;\n      padding: 4px 0;\n      border-bottom: 1px solid var(--vscode-panel-border);\n      margin-bottom: 8px;\n    }\n    .batch-title { \n      font-size: 11px; \n      font-weight: bold; \n      text-transform: uppercase;\n      opacity: 0.7;\n    }\n    .batch-actions { \n      display: flex; \n      gap: 4px; \n    }\n    .step-card {\n      background: var(--vscode-editor-background);\n      border: 1px solid var(--vscode-panel-border);\n      border-radius: 4px;\n      padding: 10px 12px;\n      margin-bottom: 8px;\n    }\n    .step-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 4px;\n    }\n    .step-name {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-weight: 500;\n    }\n    .step-duration {\n      font-size: 11px;\n      opacity: 0.7;\n    }\n    .step-summary {\n      font-size: 12px;\n      opacity: 0.8;\n      margin: 4px 0;\n    }\n    .step-stats {\n      font-size: 11px;\n      opacity: 0.6;\n      margin-top: 4px;\n    }\n    .step-footer {\n      display: flex;\n      justify-content: flex-end;\n      gap: 4px;\n      margin-top: 8px;\n    }\n    button { \n      background: var(--vscode-button-secondaryBackground); \n      color: var(--vscode-button-secondaryForeground); \n      border: none; \n      padding: 4px 8px; \n      cursor: pointer; \n      border-radius: 2px; \n      font-size: 11px; \n    }\n    button:hover { \n      background: var(--vscode-button-secondaryHoverBackground); \n    }\n    button.primary {\n      background: var(--vscode-button-background); \n      color: var(--vscode-button-foreground);\n    }\n    button.primary:hover {\n      background: var(--vscode-button-hoverBackground);\n    }\n    button.danger {\n      background: var(--vscode-inputValidation-errorBackground);\n      border: 1px solid var(--vscode-inputValidation-errorBorder);\n    }\n    .icon { \n      font-size: 14px; \n    }\n    .empty { \n      opacity: 0.5; \n      font-style: italic; \n    }\n    .pending-step {\n      opacity: 0.7;\n    }\n    .step-edit-btn {\n      background: transparent;\n      opacity: 0.5;\n      padding: 2px 6px;\n    }\n    .step-edit-btn:hover {\n      opacity: 1;\n      background: var(--vscode-button-secondaryBackground);\n    }\n  </style>\n</head>\n<body>\n  <div id=\"content\">\n    <p class=\"empty\">Select a feature to view details</p>\n  </div>\n  <script>\n    const vscode = acquireVsCodeApi();\n    const statusIcons = { \n      done: '\\\\u2705', \n      in_progress: '\\\\uD83D\\\\uDD04', \n      pending: '\\\\u2B1C', \n      blocked: '\\\\uD83D\\\\uDED1',\n      reverted: '\\\\u21A9\\\\uFE0F',\n      cancelled: '\\\\u274C'\n    };\n\n    window.addEventListener('message', event => {\n      const { command, data } = event.data;\n      if (command === 'showFeature') renderFeature(data);\n    });\n\n    function renderFeature({ feature, batches, requirements, context }) {\n      const requirementsText = requirements.ticket || requirements.requirements || 'No requirements defined';\n      const contextText = context.decisions || 'No decisions yet';\n\n      let html = '<h2>' + escapeHtml(feature.name) + ' (' + feature.progress + '%)</h2>';\n      \n      html += '<div class=\"section\">' +\n        '<div class=\"section-title\">Requirements</div>' +\n        '<div class=\"section-content\">' + escapeHtml(requirementsText).substring(0, 500) + '</div>' +\n      '</div>';\n      \n      html += '<div class=\"section\">' +\n        '<div class=\"section-title\">Context</div>' +\n        '<div class=\"section-content\">' + escapeHtml(contextText).substring(0, 500) + '</div>' +\n      '</div>';\n\n      html += '<div class=\"section-title\">Execution</div>';\n      \n      for (const batch of batches) {\n        html += renderBatch(feature.name, batch);\n      }\n      \n      document.getElementById('content').innerHTML = html;\n    }\n\n    function renderBatch(featureName, batch) {\n      const hasRevertButton = batch.isLatestDone;\n      const hasExecuteButton = batch.canExecute;\n      \n      let batchActions = '';\n      if (hasRevertButton) {\n        batchActions = '<button class=\"danger\" onclick=\"revertBatch(\\\\'' + featureName + '\\\\', ' + batch.order + ')\">\\\\u21A9 Revert Batch</button>';\n      } else if (hasExecuteButton) {\n        batchActions = '<button class=\"primary\" onclick=\"executeBatch(\\\\'' + featureName + '\\\\', ' + batch.order + ')\">\\\\u25B6 Execute</button>';\n      }\n      \n      let html = '<div class=\"batch\">' +\n        '<div class=\"batch-header\">' +\n          '<span class=\"batch-title\">BATCH ' + batch.order + '</span>' +\n          '<div class=\"batch-actions\">' + batchActions + '</div>' +\n        '</div>';\n      \n      for (const step of batch.steps) {\n        html += renderStep(featureName, step, batch);\n      }\n      \n      html += '</div>';\n      return html;\n    }\n\n    function renderStep(featureName, step, batch) {\n      const isDone = step.status === 'done';\n      const isPending = step.status === 'pending';\n      const icon = statusIcons[step.status] || statusIcons.pending;\n      const stepClass = isPending ? 'step-card pending-step' : 'step-card';\n      \n      let html = '<div class=\"' + stepClass + '\">' +\n        '<div class=\"step-header\">' +\n          '<div class=\"step-name\">' +\n            '<span class=\"icon\">' + icon + '</span>' +\n            '<span>' + String(step.order).padStart(2, '0') + '-' + escapeHtml(step.name) + '</span>' +\n          '</div>';\n      \n      if (step.duration) {\n        html += '<span class=\"step-duration\">' + step.duration + '</span>';\n      }\n      \n      html += '</div>';\n      \n      if (step.summary) {\n        html += '<div class=\"step-summary\">' + escapeHtml(step.summary) + '</div>';\n      }\n      \n      if (step.report) {\n        html += '<div class=\"step-stats\">' + \n          step.report.filesChanged + ' files (+' + step.report.insertions + ' -' + step.report.deletions + ')' +\n        '</div>';\n      }\n      \n      html += '<div class=\"step-footer\">';\n      \n      if (isPending) {\n        html += '<button class=\"step-edit-btn\" onclick=\"editSpec(\\\\'' + featureName + '\\\\', \\\\'' + step.folderPath + '\\\\')\" title=\"Edit Spec\">\\\\u270F\\\\uFE0F Edit Spec</button>';\n      }\n      \n      if (isDone) {\n        if (batch.isLatestDone) {\n          html += '<button onclick=\"revertStep(\\\\'' + featureName + '\\\\', \\\\'' + step.folderPath + '\\\\')\" title=\"Revert\">\\\\u21A9</button>';\n        }\n        html += '<button onclick=\"viewReport(\\\\'' + featureName + '\\\\', \\\\'' + step.folderPath + '\\\\')\">Report</button>';\n        html += '<button onclick=\"viewDiff(\\\\'' + featureName + '\\\\', \\\\'' + step.folderPath + '\\\\')\">Diff</button>';\n      } else {\n        html += '<button onclick=\"openInOpenCode(\\\\'' + featureName + '\\\\', \\\\'' + step.folderPath + '\\\\')\">Open in OpenCode</button>';\n      }\n      \n      html += '</div></div>';\n      return html;\n    }\n\n    function escapeHtml(text) {\n      const div = document.createElement('div');\n      div.textContent = text;\n      return div.innerHTML;\n    }\n\n    function openInOpenCode(feature, step) {\n      vscode.postMessage({ command: 'openInOpenCode', feature, step });\n    }\n\n    function viewDiff(feature, step) {\n      vscode.postMessage({ command: 'viewDiff', feature, step });\n    }\n\n    function viewReport(feature, step) {\n      vscode.postMessage({ command: 'viewReport', feature, step });\n    }\n\n    function editSpec(feature, step) {\n      vscode.postMessage({ command: 'editSpec', feature, step });\n    }\n\n    function revertStep(feature, step) {\n      vscode.postMessage({ command: 'revertStep', feature, step });\n    }\n\n    function revertBatch(feature, order) {\n      vscode.postMessage({ command: 'revertBatch', feature, order });\n    }\n\n    function executeBatch(feature, order) {\n      vscode.postMessage({ command: 'executeBatch', feature, order });\n    }\n  </script>\n</body>\n</html>`\n  }\n}\n", "import * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport * as path from 'path'\nimport { HiveService } from '../services/hiveService'\nimport { Step } from '../types'\n\ninterface ReportJson {\n  feature: string\n  status: string\n  steps: Array<{\n    folder: string\n    name: string\n    order: number\n    status: string\n    summary?: string\n  }>\n  decisions: string[]\n  generatedAt: string\n  diffStats?: {\n    filesChanged: number\n    insertions: number\n    deletions: number\n  }\n}\n\ninterface FileChange {\n  path: string\n  insertions: number\n  deletions: number\n  status: 'added' | 'modified' | 'deleted'\n}\n\nexport class ReportViewProvider {\n  private static panels: Map<string, vscode.WebviewPanel> = new Map()\n\n  constructor(\n    private readonly extensionUri: vscode.Uri,\n    private readonly hiveService: HiveService,\n    private readonly workspaceRoot: string\n  ) {}\n\n  public show(featureName: string, stepFolder: string): void {\n    const panelKey = `${featureName}/${stepFolder}`\n    \n    const existingPanel = ReportViewProvider.panels.get(panelKey)\n    if (existingPanel) {\n      existingPanel.reveal()\n      this.updatePanel(existingPanel, featureName, stepFolder)\n      return\n    }\n\n    const panel = vscode.window.createWebviewPanel(\n      'hive.stepReport',\n      `Report: ${stepFolder}`,\n      vscode.ViewColumn.One,\n      {\n        enableScripts: true,\n        retainContextWhenHidden: true,\n        localResourceRoots: [this.extensionUri]\n      }\n    )\n\n    ReportViewProvider.panels.set(panelKey, panel)\n\n    panel.onDidDispose(() => {\n      ReportViewProvider.panels.delete(panelKey)\n    })\n\n    panel.webview.onDidReceiveMessage(message => {\n      this.handleMessage(message, featureName, stepFolder)\n    })\n\n    this.updatePanel(panel, featureName, stepFolder)\n  }\n\n  private handleMessage(\n    message: { command: string; filePath?: string },\n    featureName: string,\n    stepFolder: string\n  ): void {\n    switch (message.command) {\n      case 'revert':\n        this.revertStep(featureName, stepFolder)\n        break\n      case 'viewDiff':\n        this.viewDiff(featureName, stepFolder)\n        break\n      case 'openFile':\n        if (message.filePath) {\n          this.openFile(message.filePath)\n        }\n        break\n    }\n  }\n\n  private async revertStep(featureName: string, stepFolder: string): Promise<void> {\n    const confirm = await vscode.window.showWarningMessage(\n      `Revert step \"${stepFolder}\"? This will undo all changes from this step.`,\n      { modal: true },\n      'Revert'\n    )\n    \n    if (confirm === 'Revert') {\n      const terminal = vscode.window.createTerminal('Hive - Revert')\n      terminal.sendText(`opencode --command \"hive_exec_revert stepFolder=${stepFolder}\"`)\n      terminal.show()\n    }\n  }\n\n  private viewDiff(featureName: string, stepFolder: string): void {\n    const stepPath = path.join(\n      this.workspaceRoot,\n      '.hive',\n      'features',\n      featureName,\n      'execution',\n      stepFolder\n    )\n    vscode.commands.executeCommand('hive.viewDiff', stepPath)\n  }\n\n  private openFile(filePath: string): void {\n    const fullPath = path.join(this.workspaceRoot, filePath)\n    if (fs.existsSync(fullPath)) {\n      vscode.workspace.openTextDocument(fullPath)\n        .then(doc => vscode.window.showTextDocument(doc))\n    } else {\n      vscode.window.showWarningMessage(`File not found: ${filePath}`)\n    }\n  }\n\n  private updatePanel(panel: vscode.WebviewPanel, featureName: string, stepFolder: string): void {\n    const step = this.hiveService.getSteps(featureName).find(s => s.folderPath === stepFolder)\n    if (!step) {\n      panel.webview.html = this.getErrorHtml('Step not found')\n      return\n    }\n\n    const reportData = this.getReportData(featureName, stepFolder)\n    const diffPath = this.hiveService.getStepDiffPath(featureName, stepFolder)\n    const fileChanges = diffPath ? this.parseFileChanges(diffPath) : []\n    const decisions = this.getDecisions(featureName)\n    const notes = this.getNotes(featureName, stepFolder)\n    const duration = this.hiveService.formatDuration(step.startedAt, step.completedAt)\n\n    panel.webview.html = this.getHtml({\n      step,\n      stepFolder,\n      reportData,\n      fileChanges,\n      decisions,\n      notes,\n      duration,\n      canRevert: step.execution?.canRevert ?? false\n    })\n  }\n\n  private getReportData(featureName: string, stepFolder: string): ReportJson | null {\n    const reportPath = path.join(\n      this.workspaceRoot,\n      '.hive',\n      'features',\n      featureName,\n      'execution',\n      stepFolder,\n      'report.json'\n    )\n    \n    try {\n      const content = fs.readFileSync(reportPath, 'utf-8')\n      return JSON.parse(content)\n    } catch {\n      return null\n    }\n  }\n\n  private parseFileChanges(diffPath: string): FileChange[] {\n    try {\n      const content = fs.readFileSync(diffPath, 'utf-8')\n      return this.extractFileChangesFromUnifiedDiff(content)\n    } catch {\n      return []\n    }\n  }\n\n  private extractFileChangesFromUnifiedDiff(diffContent: string): FileChange[] {\n    const files: FileChange[] = []\n    const fileSections = diffContent.split(/^diff --git /gm).slice(1)\n    \n    for (const section of fileSections) {\n      const pathMatch = section.match(/^a\\/(.+?) b\\/(.+?)$/m)\n      if (!pathMatch) continue\n      \n      const filePath = pathMatch[2]\n      const insertions = (section.match(/^\\+[^+]/gm) || []).length\n      const deletions = (section.match(/^-[^-]/gm) || []).length\n      const status = this.detectFileStatus(section)\n      \n      files.push({ path: filePath, insertions, deletions, status })\n    }\n    \n    return files\n  }\n\n  private detectFileStatus(diffSection: string): 'added' | 'modified' | 'deleted' {\n    if (diffSection.includes('new file mode')) return 'added'\n    if (diffSection.includes('deleted file mode')) return 'deleted'\n    return 'modified'\n  }\n\n  private getDecisions(featureName: string): string[] {\n    const context = this.hiveService.getContext(featureName)\n    if (!context.decisions) return []\n    \n    return this.extractMarkdownListItems(context.decisions)\n  }\n\n  private extractMarkdownListItems(markdown: string): string[] {\n    const bulletOrNumberPattern = /^[-*]\\s|^\\d+\\.\\s/\n    \n    return markdown\n      .split('\\n')\n      .map(line => line.trim())\n      .filter(line => bulletOrNumberPattern.test(line))\n      .map(line => line.replace(bulletOrNumberPattern, ''))\n  }\n\n  private getNotes(featureName: string, stepFolder: string): string[] {\n    const specPath = path.join(\n      this.workspaceRoot,\n      '.hive',\n      'features',\n      featureName,\n      'execution',\n      stepFolder,\n      'spec.md'\n    )\n    \n    try {\n      const content = fs.readFileSync(specPath, 'utf-8')\n      return this.extractWarningLines(content)\n    } catch {\n      return []\n    }\n  }\n\n  private extractWarningLines(content: string): string[] {\n    const warningIndicators = ['WARNING', 'CAUTION', 'NOTE:', 'TODO:']\n    \n    return content\n      .split('\\n')\n      .filter(line => warningIndicators.some(indicator => line.includes(indicator)))\n      .map(line => line.trim())\n  }\n\n  private getErrorHtml(message: string): string {\n    return `<!DOCTYPE html>\n<html>\n<head>\n  <style>\n    body { \n      font-family: var(--vscode-font-family); \n      padding: 20px; \n      color: var(--vscode-foreground);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100vh;\n    }\n    .error { \n      color: var(--vscode-errorForeground); \n      font-size: 16px;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"error\">${this.escapeHtml(message)}</div>\n</body>\n</html>`\n  }\n\n  private getHtml(data: {\n    step: Step\n    stepFolder: string\n    reportData: ReportJson | null\n    fileChanges: FileChange[]\n    decisions: string[]\n    notes: string[]\n    duration: string\n    canRevert: boolean\n  }): string {\n    const { step, stepFolder, reportData, fileChanges, decisions, notes, duration, canRevert } = data\n    \n    const statusIcon = step.status === 'done' ? '&#x2705;' : \n                       step.status === 'in_progress' ? '&#x1F504;' : \n                       step.status === 'blocked' ? '&#x274C;' : '&#x23F8;'\n    \n    const statusText = step.status.toUpperCase().replace('_', ' ')\n    const statusClass = step.status === 'done' ? 'success' : \n                        step.status === 'in_progress' ? 'in-progress' : \n                        step.status === 'blocked' ? 'error' : 'pending'\n\n    const filesHtml = fileChanges.length > 0 \n      ? fileChanges.map(f => this.renderFileChange(f)).join('')\n      : '<div class=\"empty\">No file changes recorded</div>'\n\n    const decisionsHtml = decisions.length > 0\n      ? decisions.map(d => `<div class=\"decision-item\">&#x2022; ${this.escapeHtml(d)}</div>`).join('')\n      : '<div class=\"empty\">No decisions recorded</div>'\n\n    const notesHtml = notes.length > 0\n      ? notes.map(n => `<div class=\"note-item\">&#x26A0;&#xFE0F; ${this.escapeHtml(n)}</div>`).join('')\n      : ''\n\n    const diffStats = reportData?.diffStats || this.hiveService.getStepReport(step.folderPath.split('/')[0] || '', stepFolder)\n    const statsText = diffStats \n      ? `${diffStats.filesChanged} files, +${diffStats.insertions} -${diffStats.deletions}`\n      : ''\n\n    return `<!DOCTYPE html>\n<html>\n<head>\n  <style>\n    :root {\n      --border-color: var(--vscode-panel-border);\n      --bg-color: var(--vscode-editor-background);\n      --fg-color: var(--vscode-foreground);\n      --section-bg: var(--vscode-sideBar-background);\n      --button-bg: var(--vscode-button-background);\n      --button-fg: var(--vscode-button-foreground);\n      --button-hover: var(--vscode-button-hoverBackground);\n      --link-color: var(--vscode-textLink-foreground);\n      --success-color: #4caf50;\n      --warning-color: #ff9800;\n      --error-color: #f44336;\n    }\n    \n    * {\n      box-sizing: border-box;\n    }\n    \n    body { \n      font-family: var(--vscode-font-family); \n      padding: 0;\n      margin: 0;\n      color: var(--fg-color);\n      background: var(--bg-color);\n    }\n    \n    .container {\n      max-width: 800px;\n      margin: 0 auto;\n      border: 1px solid var(--border-color);\n      border-radius: 6px;\n      overflow: hidden;\n      margin-top: 20px;\n    }\n    \n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 12px 16px;\n      background: var(--section-bg);\n      border-bottom: 1px solid var(--border-color);\n    }\n    \n    .header-title {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      font-weight: 600;\n    }\n    \n    .content {\n      padding: 16px;\n    }\n    \n    .status-row {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 8px;\n    }\n    \n    .status {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 18px;\n      font-weight: 600;\n    }\n    \n    .status.success { color: var(--success-color); }\n    .status.in-progress { color: var(--warning-color); }\n    .status.error { color: var(--error-color); }\n    .status.pending { opacity: 0.6; }\n    \n    .duration {\n      font-size: 14px;\n      opacity: 0.7;\n    }\n    \n    .summary {\n      font-size: 13px;\n      opacity: 0.85;\n      margin-bottom: 16px;\n      padding-bottom: 16px;\n      border-bottom: 1px solid var(--border-color);\n    }\n    \n    .section {\n      margin-bottom: 16px;\n    }\n    \n    .section-title {\n      font-size: 11px;\n      font-weight: 600;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      opacity: 0.7;\n      margin-bottom: 8px;\n      padding-bottom: 4px;\n      border-bottom: 1px solid var(--border-color);\n    }\n    \n    .file-item {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 6px 8px;\n      border-radius: 4px;\n      margin-bottom: 4px;\n      background: var(--section-bg);\n    }\n    \n    .file-info {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n    \n    .file-icon {\n      font-size: 14px;\n    }\n    \n    .file-icon.added { color: var(--success-color); }\n    .file-icon.modified { color: var(--warning-color); }\n    .file-icon.deleted { color: var(--error-color); }\n    \n    .file-path {\n      font-size: 12px;\n      font-family: var(--vscode-editor-font-family);\n    }\n    \n    .file-stats {\n      display: flex;\n      align-items: center;\n      gap: 12px;\n    }\n    \n    .stat {\n      font-size: 11px;\n      font-family: var(--vscode-editor-font-family);\n    }\n    \n    .stat.additions { color: var(--success-color); }\n    .stat.deletions { color: var(--error-color); }\n    \n    .open-btn {\n      background: transparent;\n      border: 1px solid var(--border-color);\n      color: var(--link-color);\n      padding: 2px 8px;\n      border-radius: 3px;\n      cursor: pointer;\n      font-size: 11px;\n    }\n    \n    .open-btn:hover {\n      background: var(--button-bg);\n      color: var(--button-fg);\n      border-color: var(--button-bg);\n    }\n    \n    .decision-item, .note-item {\n      font-size: 13px;\n      padding: 4px 0;\n    }\n    \n    .note-item {\n      color: var(--warning-color);\n    }\n    \n    .empty {\n      font-size: 13px;\n      opacity: 0.5;\n      font-style: italic;\n    }\n    \n    .footer {\n      display: flex;\n      justify-content: center;\n      gap: 12px;\n      padding: 16px;\n      border-top: 1px solid var(--border-color);\n      background: var(--section-bg);\n    }\n    \n    .action-btn {\n      background: var(--button-bg);\n      color: var(--button-fg);\n      border: none;\n      padding: 8px 16px;\n      border-radius: 4px;\n      cursor: pointer;\n      font-size: 12px;\n      display: flex;\n      align-items: center;\n      gap: 6px;\n    }\n    \n    .action-btn:hover {\n      background: var(--button-hover);\n    }\n    \n    .action-btn:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n    \n    .action-btn.secondary {\n      background: transparent;\n      border: 1px solid var(--border-color);\n      color: var(--fg-color);\n    }\n    \n    .action-btn.secondary:hover {\n      background: var(--section-bg);\n    }\n    \n    .action-btn.danger {\n      background: var(--error-color);\n    }\n    \n    .action-btn.danger:hover {\n      opacity: 0.9;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"header\">\n      <div class=\"header-title\">\n        &#x1F4CB; Report: ${this.escapeHtml(stepFolder)}\n      </div>\n    </div>\n    \n    <div class=\"content\">\n      <div class=\"status-row\">\n        <div class=\"status ${statusClass}\">\n          ${statusIcon} ${statusText}\n        </div>\n        ${duration ? `<div class=\"duration\">${this.escapeHtml(duration)}</div>` : ''}\n      </div>\n      \n      ${step.summary ? `<div class=\"summary\">${this.escapeHtml(step.summary)}</div>` : ''}\n      \n      <div class=\"section\">\n        <div class=\"section-title\">Files Changed ${statsText ? `(${statsText})` : ''}</div>\n        ${filesHtml}\n      </div>\n      \n      <div class=\"section\">\n        <div class=\"section-title\">Decisions</div>\n        ${decisionsHtml}\n      </div>\n      \n      ${notesHtml ? `\n      <div class=\"section\">\n        <div class=\"section-title\">Notes</div>\n        ${notesHtml}\n      </div>\n      ` : ''}\n    </div>\n    \n    <div class=\"footer\">\n      <button class=\"action-btn danger\" onclick=\"revert()\" ${canRevert ? '' : 'disabled'}>\n        &#x21A9; Revert This Step\n      </button>\n      <button class=\"action-btn secondary\" onclick=\"viewDiff()\">\n        View Full Diff\n      </button>\n    </div>\n  </div>\n  \n  <script>\n    const vscode = acquireVsCodeApi();\n    \n    function revert() {\n      vscode.postMessage({ command: 'revert' });\n    }\n    \n    function viewDiff() {\n      vscode.postMessage({ command: 'viewDiff' });\n    }\n    \n    function openFile(filePath) {\n      vscode.postMessage({ command: 'openFile', filePath });\n    }\n  </script>\n</body>\n</html>`\n  }\n\n  private renderFileChange(file: FileChange): string {\n    const icon = file.status === 'added' ? '&#x2728;' : \n                 file.status === 'deleted' ? '&#x1F5D1;' : '&#x1F4DD;'\n    const iconClass = file.status\n    \n    const additions = file.insertions > 0 ? `+${file.insertions}` : ''\n    const deletions = file.deletions > 0 ? `-${file.deletions}` : ''\n    \n    return `\n      <div class=\"file-item\">\n        <div class=\"file-info\">\n          <span class=\"file-icon ${iconClass}\">${icon}</span>\n          <span class=\"file-path\">${this.escapeHtml(file.path)}</span>\n        </div>\n        <div class=\"file-stats\">\n          ${additions ? `<span class=\"stat additions\">${additions}</span>` : ''}\n          ${deletions ? `<span class=\"stat deletions\">${deletions}</span>` : ''}\n          <button class=\"open-btn\" onclick=\"openFile('${this.escapeHtml(file.path)}')\">Open</button>\n        </div>\n      </div>\n    `\n  }\n\n  private escapeHtml(text: string): string {\n    return text\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/\"/g, '&quot;')\n      .replace(/'/g, '&#039;')\n  }\n}\n", "import * as vscode from 'vscode'\nimport * as fs from 'fs'\n\nexport async function viewDiff(diffPath: string | vscode.Uri): Promise<void> {\n  const filePath = typeof diffPath === 'string' ? diffPath : diffPath.fsPath\n  \n  if (!fs.existsSync(filePath)) {\n    vscode.window.showWarningMessage('No diff file found for this step')\n    return\n  }\n\n  const diffContent = fs.readFileSync(filePath, 'utf-8')\n  \n  if (!diffContent.trim()) {\n    vscode.window.showInformationMessage('Diff file is empty - no changes recorded')\n    return\n  }\n\n  const doc = await vscode.workspace.openTextDocument({\n    content: diffContent,\n    language: 'diff'\n  })\n  \n  await vscode.window.showTextDocument(doc, {\n    preview: true,\n    viewColumn: vscode.ViewColumn.Beside\n  })\n}\n"],
  "mappings": "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",
  "names": ["joinedValues", "path", "init_utils_gen", "init_utils_gen", "config", "request", "init_utils_gen", "init_client_gen", "init_client_gen", "client", "init_client", "client", "init_client", "exports", "module", "exports", "module", "debug", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "useColors", "debug", "exports", "module", "path", "exists", "exports", "__export", "deferred", "exports", "vscode", "fs", "path", "createOpencodeClient", "client", "vscode", "path", "fs", "client", "terminal", "fs", "path", "import_child_process", "import_promise_deferred", "path", "__esm", "trimmed", "Buffer", "ExitCodes", "commands", "parser", "parsers", "__export", "CheckRepoActions", "CleanOptions", "append", "GitConfigScope", "DiffNameStatus", "ResetMode", "debug", "onError", "excludeOptions", "disallowedCommand", "__commonJS", "exports", "module", "GitExecutor", "__toCommonJS", "SimpleGitApi", "Scheduler", "configurationErrorTask", "asArray", "filterArray", "filterPrimitives", "filterString", "filterStringOrStringArray", "filterType", "getTrailingOptions", "trailingFunctionArgument", "trailingOptionsArgument", "applyPatchTask", "branchTask", "branchLocalTask", "deleteBranchesTask", "deleteBranchTask", "checkIgnoreTask", "checkIsRepoTask", "cloneTask", "cloneMirrorTask", "cleanWithOptionsTask", "isCleanOptionsArray", "diffSummaryTask", "fetchTask", "moveTask", "pullTask", "pushTagsTask", "addRemoteTask", "getRemotesTask", "listRemotesTask", "remoteTask", "removeRemoteTask", "getResetMode", "resetTask", "stashListTask", "addSubModuleTask", "initSubModuleTask", "subModuleTask", "updateSubModuleTask", "addAnnotatedTagTask", "addTagTask", "tagListTask", "straightThroughBufferTask", "straightThroughStringTask", "Git", "input", "plugin", "vscode", "fs", "path", "vscode", "vscode", "fs", "path", "vscode", "fs", "sidebarProvider", "panelProvider"]
}
