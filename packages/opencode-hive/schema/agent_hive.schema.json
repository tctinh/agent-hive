{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/tctinh/agent-hive/main/packages/opencode-hive/schema/agent_hive.schema.json",
  "title": "Agent Hive Configuration",
  "description": "Configuration schema for ~/.config/opencode/agent_hive.json",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Schema reference for this config file"
    },
    "enableToolsFor": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Enable hive tools for specific features"
    },
    "disableSkills": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Globally disable specific skills (e.g., ['brainstorming', 'writing-plans']). Disabled skills won't appear in hive_skill tool."
    },
    "disableMcps": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Globally disable specific MCP servers (e.g., ['websearch', 'ast_grep']). Available: websearch, context7, grep_app, ast_grep"
    },
    "delegateMode": {
      "type": "string",
      "enum": [
        "hive",
        "task"
      ],
      "default": "task",
      "description": "Granularity of worker delegation. 'hive' delegates the entire feature to a single worker; 'task' (default) delegates each task to a separate worker."
    },
    "agentMode": {
      "type": "string",
      "enum": [
        "unified",
        "dedicated"
      ],
      "default": "unified",
      "description": "Agent specialization mode. 'unified' (default) uses a single hybrid agent for all roles; 'dedicated' uses specialized agents for each role."
    },
    "agents": {
      "type": "object",
      "description": "Agent model configuration overrides",
      "additionalProperties": false,
      "properties": {
        "hive-master": {
          "$ref": "#/$defs/agentConfig",
          "description": "Hive Master (hybrid planner + orchestrator)"
        },
        "architect-planner": {
          "$ref": "#/$defs/agentConfig",
          "description": "Architect Planner (planning-only)"
        },
        "swarm-orchestrator": {
          "$ref": "#/$defs/agentConfig",
          "description": "Swarm Orchestrator"
        },
        "scout-researcher": {
          "$ref": "#/$defs/agentConfig",
          "description": "Scout Researcher"
        },
        "forager-worker": {
          "$ref": "#/$defs/agentConfig",
          "description": "Forager Worker"
        },
        "hygienic-reviewer": {
          "$ref": "#/$defs/agentConfig",
          "description": "Hygienic Reviewer"
        }
      }
    }
  },
  "$defs": {
    "agentConfig": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "model": {
          "type": "string",
          "description": "Model to use (provider/model-id)"
        },
        "temperature": {
          "type": "number",
          "minimum": 0,
          "maximum": 2,
          "description": "Sampling temperature"
        },
        "skills": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Skills enabled for this agent"
        },
        "autoLoadSkills": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Skills to auto-load for this agent"
        },
        "variant": {
          "type": "string",
          "description": "Variant key for model reasoning/effort level (e.g., 'low', 'medium', 'high', 'max'). Must match a key in opencode.json provider.<provider>.models.<model>.variants"
        }
      }
    }
  }
}
